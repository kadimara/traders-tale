(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(r){if(r.ep)return;r.ep=!0;const u=i(r);fetch(r.href,u)}})();function dc(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function Sb(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var t=a.default;if(typeof t=="function"){var i=function n(){var r=!1;try{r=this instanceof n}catch{}return r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(a).forEach(function(n){var r=Object.getOwnPropertyDescriptor(a,n);Object.defineProperty(i,n,r.get?r:{enumerable:!0,get:function(){return a[n]}})}),i}var lh={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function Eb(){if(Ov)return Dl;Ov=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(n,r,u){var c=null;if(u!==void 0&&(c=""+u),r.key!==void 0&&(c=""+r.key),"key"in r){u={};for(var d in r)d!=="key"&&(u[d]=r[d])}else u=r;return r=u.ref,{$$typeof:a,type:n,key:c,ref:r!==void 0?r:null,props:u}}return Dl.Fragment=t,Dl.jsx=i,Dl.jsxs=i,Dl}var Mv;function Tb(){return Mv||(Mv=1,lh.exports=Eb()),lh.exports}var N=Tb(),rh={exports:{}},lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function xb(){if(Rv)return lt;Rv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,M={};function j(E,P,X){this.props=E,this.context=P,this.refs=M,this.updater=X||S}j.prototype.isReactComponent={},j.prototype.setState=function(E,P){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,P,"setState")},j.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function Y(){}Y.prototype=j.prototype;function q(E,P,X){this.props=E,this.context=P,this.refs=M,this.updater=X||S}var L=q.prototype=new Y;L.constructor=q,x(L,j.prototype),L.isPureReactComponent=!0;var H=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function I(E,P,X,Q,F,vt){return X=vt.ref,{$$typeof:a,type:E,key:P,ref:X!==void 0?X:null,props:vt}}function gt(E,P){return I(E.type,P,void 0,void 0,void 0,E.props)}function yt(E){return typeof E=="object"&&E!==null&&E.$$typeof===a}function ne(E){var P={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(X){return P[X]})}var Qt=/\/+/g;function kt(E,P){return typeof E=="object"&&E!==null&&E.key!=null?ne(""+E.key):P.toString(36)}function le(){}function Xt(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(le,le):(E.status="pending",E.then(function(P){E.status==="pending"&&(E.status="fulfilled",E.value=P)},function(P){E.status==="pending"&&(E.status="rejected",E.reason=P)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function Ct(E,P,X,Q,F){var vt=typeof E;(vt==="undefined"||vt==="boolean")&&(E=null);var st=!1;if(E===null)st=!0;else switch(vt){case"bigint":case"string":case"number":st=!0;break;case"object":switch(E.$$typeof){case a:case t:st=!0;break;case m:return st=E._init,Ct(st(E._payload),P,X,Q,F)}}if(st)return F=F(E),st=Q===""?"."+kt(E,0):Q,H(F)?(X="",st!=null&&(X=st.replace(Qt,"$&/")+"/"),Ct(F,P,X,"",function(pi){return pi})):F!=null&&(yt(F)&&(F=gt(F,X+(F.key==null||E&&E.key===F.key?"":(""+F.key).replace(Qt,"$&/")+"/")+st)),P.push(F)),1;st=0;var be=Q===""?".":Q+":";if(H(E))for(var zt=0;zt<E.length;zt++)Q=E[zt],vt=be+kt(Q,zt),st+=Ct(Q,P,X,vt,F);else if(zt=_(E),typeof zt=="function")for(E=zt.call(E),zt=0;!(Q=E.next()).done;)Q=Q.value,vt=be+kt(Q,zt++),st+=Ct(Q,P,X,vt,F);else if(vt==="object"){if(typeof E.then=="function")return Ct(Xt(E),P,X,Q,F);throw P=String(E),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return st}function k(E,P,X){if(E==null)return E;var Q=[],F=0;return Ct(E,Q,"","",function(vt){return P.call(X,vt,F++)}),Q}function $(E){if(E._status===-1){var P=E._result;P=P(),P.then(function(X){(E._status===0||E._status===-1)&&(E._status=1,E._result=X)},function(X){(E._status===0||E._status===-1)&&(E._status=2,E._result=X)}),E._status===-1&&(E._status=0,E._result=P)}if(E._status===1)return E._result.default;throw E._result}var Z=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function ft(){}return lt.Children={map:k,forEach:function(E,P,X){k(E,function(){P.apply(this,arguments)},X)},count:function(E){var P=0;return k(E,function(){P++}),P},toArray:function(E){return k(E,function(P){return P})||[]},only:function(E){if(!yt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},lt.Component=j,lt.Fragment=i,lt.Profiler=r,lt.PureComponent=q,lt.StrictMode=n,lt.Suspense=g,lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,lt.__COMPILER_RUNTIME={__proto__:null,c:function(E){return G.H.useMemoCache(E)}},lt.cache=function(E){return function(){return E.apply(null,arguments)}},lt.cloneElement=function(E,P,X){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var Q=x({},E.props),F=E.key,vt=void 0;if(P!=null)for(st in P.ref!==void 0&&(vt=void 0),P.key!==void 0&&(F=""+P.key),P)!K.call(P,st)||st==="key"||st==="__self"||st==="__source"||st==="ref"&&P.ref===void 0||(Q[st]=P[st]);var st=arguments.length-2;if(st===1)Q.children=X;else if(1<st){for(var be=Array(st),zt=0;zt<st;zt++)be[zt]=arguments[zt+2];Q.children=be}return I(E.type,F,void 0,void 0,vt,Q)},lt.createContext=function(E){return E={$$typeof:c,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:u,_context:E},E},lt.createElement=function(E,P,X){var Q,F={},vt=null;if(P!=null)for(Q in P.key!==void 0&&(vt=""+P.key),P)K.call(P,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(F[Q]=P[Q]);var st=arguments.length-2;if(st===1)F.children=X;else if(1<st){for(var be=Array(st),zt=0;zt<st;zt++)be[zt]=arguments[zt+2];F.children=be}if(E&&E.defaultProps)for(Q in st=E.defaultProps,st)F[Q]===void 0&&(F[Q]=st[Q]);return I(E,vt,void 0,void 0,null,F)},lt.createRef=function(){return{current:null}},lt.forwardRef=function(E){return{$$typeof:d,render:E}},lt.isValidElement=yt,lt.lazy=function(E){return{$$typeof:m,_payload:{_status:-1,_result:E},_init:$}},lt.memo=function(E,P){return{$$typeof:v,type:E,compare:P===void 0?null:P}},lt.startTransition=function(E){var P=G.T,X={};G.T=X;try{var Q=E(),F=G.S;F!==null&&F(X,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(ft,Z)}catch(vt){Z(vt)}finally{G.T=P}},lt.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},lt.use=function(E){return G.H.use(E)},lt.useActionState=function(E,P,X){return G.H.useActionState(E,P,X)},lt.useCallback=function(E,P){return G.H.useCallback(E,P)},lt.useContext=function(E){return G.H.useContext(E)},lt.useDebugValue=function(){},lt.useDeferredValue=function(E,P){return G.H.useDeferredValue(E,P)},lt.useEffect=function(E,P,X){var Q=G.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(E,P)},lt.useId=function(){return G.H.useId()},lt.useImperativeHandle=function(E,P,X){return G.H.useImperativeHandle(E,P,X)},lt.useInsertionEffect=function(E,P){return G.H.useInsertionEffect(E,P)},lt.useLayoutEffect=function(E,P){return G.H.useLayoutEffect(E,P)},lt.useMemo=function(E,P){return G.H.useMemo(E,P)},lt.useOptimistic=function(E,P){return G.H.useOptimistic(E,P)},lt.useReducer=function(E,P,X){return G.H.useReducer(E,P,X)},lt.useRef=function(E){return G.H.useRef(E)},lt.useState=function(E){return G.H.useState(E)},lt.useSyncExternalStore=function(E,P,X){return G.H.useSyncExternalStore(E,P,X)},lt.useTransition=function(){return G.H.useTransition()},lt.version="19.1.1",lt}var Av;function Na(){return Av||(Av=1,rh.exports=xb()),rh.exports}var ct=Na();const At=dc(ct);var ah={exports:{}},Nl={},oh={exports:{}},uh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function Ob(){return Cv||(Cv=1,(function(a){function t(k,$){var Z=k.length;k.push($);t:for(;0<Z;){var ft=Z-1>>>1,E=k[ft];if(0<r(E,$))k[ft]=$,k[Z]=E,Z=ft;else break t}}function i(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var $=k[0],Z=k.pop();if(Z!==$){k[0]=Z;t:for(var ft=0,E=k.length,P=E>>>1;ft<P;){var X=2*(ft+1)-1,Q=k[X],F=X+1,vt=k[F];if(0>r(Q,Z))F<E&&0>r(vt,Q)?(k[ft]=vt,k[F]=Z,ft=F):(k[ft]=Q,k[X]=Z,ft=X);else if(F<E&&0>r(vt,Z))k[ft]=vt,k[F]=Z,ft=F;else break t}}return $}function r(k,$){var Z=k.sortIndex-$.sortIndex;return Z!==0?Z:k.id-$.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();a.unstable_now=function(){return c.now()-d}}var g=[],v=[],m=1,y=null,_=3,S=!1,x=!1,M=!1,j=!1,Y=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function H(k){for(var $=i(v);$!==null;){if($.callback===null)n(v);else if($.startTime<=k)n(v),$.sortIndex=$.expirationTime,t(g,$);else break;$=i(v)}}function G(k){if(M=!1,H(k),!x)if(i(g)!==null)x=!0,K||(K=!0,kt());else{var $=i(v);$!==null&&Ct(G,$.startTime-k)}}var K=!1,I=-1,gt=5,yt=-1;function ne(){return j?!0:!(a.unstable_now()-yt<gt)}function Qt(){if(j=!1,K){var k=a.unstable_now();yt=k;var $=!0;try{t:{x=!1,M&&(M=!1,q(I),I=-1),S=!0;var Z=_;try{e:{for(H(k),y=i(g);y!==null&&!(y.expirationTime>k&&ne());){var ft=y.callback;if(typeof ft=="function"){y.callback=null,_=y.priorityLevel;var E=ft(y.expirationTime<=k);if(k=a.unstable_now(),typeof E=="function"){y.callback=E,H(k),$=!0;break e}y===i(g)&&n(g),H(k)}else n(g);y=i(g)}if(y!==null)$=!0;else{var P=i(v);P!==null&&Ct(G,P.startTime-k),$=!1}}break t}finally{y=null,_=Z,S=!1}$=void 0}}finally{$?kt():K=!1}}}var kt;if(typeof L=="function")kt=function(){L(Qt)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Xt=le.port2;le.port1.onmessage=Qt,kt=function(){Xt.postMessage(null)}}else kt=function(){Y(Qt,0)};function Ct(k,$){I=Y(function(){k(a.unstable_now())},$)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(k){k.callback=null},a.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):gt=0<k?Math.floor(1e3/k):5},a.unstable_getCurrentPriorityLevel=function(){return _},a.unstable_next=function(k){switch(_){case 1:case 2:case 3:var $=3;break;default:$=_}var Z=_;_=$;try{return k()}finally{_=Z}},a.unstable_requestPaint=function(){j=!0},a.unstable_runWithPriority=function(k,$){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Z=_;_=k;try{return $()}finally{_=Z}},a.unstable_scheduleCallback=function(k,$,Z){var ft=a.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ft+Z:ft):Z=ft,k){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=Z+E,k={id:m++,callback:$,priorityLevel:k,startTime:Z,expirationTime:E,sortIndex:-1},Z>ft?(k.sortIndex=Z,t(v,k),i(g)===null&&k===i(v)&&(M?(q(I),I=-1):M=!0,Ct(G,Z-ft))):(k.sortIndex=E,t(g,k),x||S||(x=!0,K||(K=!0,kt()))),k},a.unstable_shouldYield=ne,a.unstable_wrapCallback=function(k){var $=_;return function(){var Z=_;_=$;try{return k.apply(this,arguments)}finally{_=Z}}}})(uh)),uh}var zv;function Mb(){return zv||(zv=1,oh.exports=Ob()),oh.exports}var hh={exports:{}},oe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function Rb(){if(jv)return oe;jv=1;var a=Na();function t(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)v+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var n={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(g,v,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:g,containerInfo:v,implementation:m}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return oe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,oe.createPortal=function(g,v){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(g,v,null,m)},oe.flushSync=function(g){var v=c.T,m=n.p;try{if(c.T=null,n.p=2,g)return g()}finally{c.T=v,n.p=m,n.d.f()}},oe.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,n.d.C(g,v))},oe.prefetchDNS=function(g){typeof g=="string"&&n.d.D(g)},oe.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var m=v.as,y=d(m,v.crossOrigin),_=typeof v.integrity=="string"?v.integrity:void 0,S=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;m==="style"?n.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:S}):m==="script"&&n.d.X(g,{crossOrigin:y,integrity:_,fetchPriority:S,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},oe.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var m=d(v.as,v.crossOrigin);n.d.M(g,{crossOrigin:m,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&n.d.M(g)},oe.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var m=v.as,y=d(m,v.crossOrigin);n.d.L(g,m,{crossOrigin:y,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},oe.preloadModule=function(g,v){if(typeof g=="string")if(v){var m=d(v.as,v.crossOrigin);n.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:m,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else n.d.m(g)},oe.requestFormReset=function(g){n.d.r(g)},oe.unstable_batchedUpdates=function(g,v){return g(v)},oe.useFormState=function(g,v,m){return c.H.useFormState(g,v,m)},oe.useFormStatus=function(){return c.H.useHostTransitionStatus()},oe.version="19.1.1",oe}var kv;function Ab(){if(kv)return hh.exports;kv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),hh.exports=Rb(),hh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function Cb(){if(Dv)return Nl;Dv=1;var a=Mb(),t=Na(),i=Ab();function n(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,l=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(l=s.return),e=s.return;while(e)}return s.tag===3?l:null}function c(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(n(188))}function g(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(n(188));return s!==e?null:e}for(var l=e,o=s;;){var h=l.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){l=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===l)return d(h),e;if(f===o)return d(h),s;f=f.sibling}throw Error(n(188))}if(l.return!==o.return)l=h,o=f;else{for(var p=!1,b=h.child;b;){if(b===l){p=!0,l=h,o=f;break}if(b===o){p=!0,o=h,l=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===l){p=!0,l=f,o=h;break}if(b===o){p=!0,o=f,l=h;break}b=b.sibling}if(!p)throw Error(n(189))}}if(l.alternate!==o)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?e:s}function v(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=v(e),s!==null)return s;e=e.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),L=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),yt=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),Qt=Symbol.iterator;function kt(e){return e===null||typeof e!="object"?null:(e=Qt&&e[Qt]||e["@@iterator"],typeof e=="function"?e:null)}var le=Symbol.for("react.client.reference");function Xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case j:return"Profiler";case M:return"StrictMode";case G:return"Suspense";case K:return"SuspenseList";case yt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case L:return(e.displayName||"Context")+".Provider";case q:return(e._context.displayName||"Context")+".Consumer";case H:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return s=e.displayName||null,s!==null?s:Xt(e.type)||"Memo";case gt:s=e._payload,e=e._init;try{return Xt(e(s))}catch{}}return null}var Ct=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ft=[],E=-1;function P(e){return{current:e}}function X(e){0>E||(e.current=ft[E],ft[E]=null,E--)}function Q(e,s){E++,ft[E]=e.current,e.current=s}var F=P(null),vt=P(null),st=P(null),be=P(null);function zt(e,s){switch(Q(st,s),Q(vt,e),Q(F,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?tv(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=tv(s),e=ev(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(F),Q(F,e)}function pi(){X(F),X(vt),X(st)}function Ha(e){e.memoizedState!==null&&Q(be,e);var s=F.current,l=ev(s,e.type);s!==l&&(Q(vt,e),Q(F,l))}function Il(e){vt.current===e&&(X(F),X(vt)),be.current===e&&(X(be),Al._currentValue=Z)}var $a=Object.prototype.hasOwnProperty,Ga=a.unstable_scheduleCallback,Qa=a.unstable_cancelCallback,t0=a.unstable_shouldYield,e0=a.unstable_requestPaint,$e=a.unstable_now,i0=a.unstable_getCurrentPriorityLevel,kc=a.unstable_ImmediatePriority,Dc=a.unstable_UserBlockingPriority,Fl=a.unstable_NormalPriority,s0=a.unstable_LowPriority,Nc=a.unstable_IdlePriority,n0=a.log,l0=a.unstable_setDisableYieldValue,Ln=null,_e=null;function yi(e){if(typeof n0=="function"&&l0(e),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(Ln,e)}catch{}}var we=Math.clz32?Math.clz32:o0,r0=Math.log,a0=Math.LN2;function o0(e){return e>>>=0,e===0?32:31-(r0(e)/a0|0)|0}var tr=256,er=4194304;function Zi(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ir(e,s,l){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=Zi(o):(p&=b,p!==0?h=Zi(p):l||(l=b&~e,l!==0&&(h=Zi(l))))):(b=o&~f,b!==0?h=Zi(b):p!==0?h=Zi(p):l||(l=o&~e,l!==0&&(h=Zi(l)))),h===0?0:s!==0&&s!==h&&(s&f)===0&&(f=h&-h,l=s&-s,f>=l||f===32&&(l&4194048)!==0)?s:h}function Bn(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function u0(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uc(){var e=tr;return tr<<=1,(tr&4194048)===0&&(tr=256),e}function Lc(){var e=er;return er<<=1,(er&62914560)===0&&(er=4194304),e}function Xa(e){for(var s=[],l=0;31>l;l++)s.push(e);return s}function qn(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function h0(e,s,l,o,h,f){var p=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var b=e.entanglements,w=e.expirationTimes,A=e.hiddenUpdates;for(l=p&~l;0<l;){var D=31-we(l),B=1<<D;b[D]=0,w[D]=-1;var C=A[D];if(C!==null)for(A[D]=null,D=0;D<C.length;D++){var z=C[D];z!==null&&(z.lane&=-536870913)}l&=~B}o!==0&&Bc(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~s))}function Bc(e,s,l){e.pendingLanes|=s,e.suspendedLanes&=~s;var o=31-we(s);e.entangledLanes|=s,e.entanglements[o]=e.entanglements[o]|1073741824|l&4194090}function qc(e,s){var l=e.entangledLanes|=s;for(e=e.entanglements;l;){var o=31-we(l),h=1<<o;h&s|e[o]&s&&(e[o]|=s),l&=~h}}function Ja(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ka(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pc(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:_v(e.type))}function c0(e,s){var l=$.p;try{return $.p=e,s()}finally{$.p=l}}var bi=Math.random().toString(36).slice(2),re="__reactFiber$"+bi,fe="__reactProps$"+bi,xs="__reactContainer$"+bi,Za="__reactEvents$"+bi,f0="__reactListeners$"+bi,d0="__reactHandles$"+bi,Yc="__reactResources$"+bi,Pn="__reactMarker$"+bi;function Wa(e){delete e[re],delete e[fe],delete e[Za],delete e[f0],delete e[d0]}function Os(e){var s=e[re];if(s)return s;for(var l=e.parentNode;l;){if(s=l[xs]||l[re]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(e=lv(e);e!==null;){if(l=e[re])return l;e=lv(e)}return s}e=l,l=e.parentNode}return null}function Ms(e){if(e=e[re]||e[xs]){var s=e.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return e}return null}function Yn(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(n(33))}function Rs(e){var s=e[Yc];return s||(s=e[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Jt(e){e[Pn]=!0}var Vc=new Set,Hc={};function Wi(e,s){As(e,s),As(e+"Capture",s)}function As(e,s){for(Hc[e]=s,e=0;e<s.length;e++)Vc.add(s[e])}var g0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$c={},Gc={};function v0(e){return $a.call(Gc,e)?!0:$a.call($c,e)?!1:g0.test(e)?Gc[e]=!0:($c[e]=!0,!1)}function sr(e,s,l){if(v0(s))if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+l)}}function nr(e,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+l)}}function Fe(e,s,l,o){if(o===null)e.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(s,l,""+o)}}var Ia,Qc;function Cs(e){if(Ia===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Ia=s&&s[1]||"",Qc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ia+e+Qc}var Fa=!1;function to(e,s){if(!e||Fa)return"";Fa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(z){var C=z}Reflect.construct(e,[],B)}else{try{B.call()}catch(z){C=z}e.call(B.prototype)}}else{try{throw Error()}catch(z){C=z}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(z){if(z&&C&&typeof z.stack=="string")return[z.stack,C.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],b=f[1];if(p&&b){var w=p.split(`
`),A=b.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<A.length&&!A[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===A.length)for(o=w.length-1,h=A.length-1;1<=o&&0<=h&&w[o]!==A[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==A[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==A[h]){var D=`
`+w[o].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=o&&0<=h);break}}}finally{Fa=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Cs(l):""}function m0(e){switch(e.tag){case 26:case 27:case 5:return Cs(e.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 15:return to(e.type,!1);case 11:return to(e.type.render,!1);case 1:return to(e.type,!0);case 31:return Cs("Activity");default:return""}}function Xc(e){try{var s="";do s+=m0(e),e=e.return;while(e);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ce(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jc(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function p0(e){var s=Jc(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),o=""+e[s];if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return h.call(this)},set:function(p){o=""+p,f.call(this,p)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(p){o=""+p},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function lr(e){e._valueTracker||(e._valueTracker=p0(e))}function Kc(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var l=s.getValue(),o="";return e&&(o=Jc(e)?e.checked?"true":"false":e.value),e=o,e!==l?(s.setValue(e),!0):!1}function rr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var y0=/[\n"\\]/g;function ze(e){return e.replace(y0,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function eo(e,s,l,o,h,f,p,b){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),s!=null?p==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Ce(s)):e.value!==""+Ce(s)&&(e.value=""+Ce(s)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),s!=null?io(e,p,Ce(s)):l!=null?io(e,p,Ce(l)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Ce(b):e.removeAttribute("name")}function Zc(e,s,l,o,h,f,p,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),s!=null||l!=null){if(!(f!=="submit"&&f!=="reset"||s!=null))return;l=l!=null?""+Ce(l):"",s=s!=null?""+Ce(s):l,b||s===e.value||(e.value=s),e.defaultValue=s}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=b?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p)}function io(e,s,l){s==="number"&&rr(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function zs(e,s,l,o){if(e=e.options,s){s={};for(var h=0;h<l.length;h++)s["$"+l[h]]=!0;for(l=0;l<e.length;l++)h=s.hasOwnProperty("$"+e[l].value),e[l].selected!==h&&(e[l].selected=h),h&&o&&(e[l].defaultSelected=!0)}else{for(l=""+Ce(l),s=null,h=0;h<e.length;h++){if(e[h].value===l){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}s!==null||e[h].disabled||(s=e[h])}s!==null&&(s.selected=!0)}}function Wc(e,s,l){if(s!=null&&(s=""+Ce(s),s!==e.value&&(e.value=s),l==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=l!=null?""+Ce(l):""}function Ic(e,s,l,o){if(s==null){if(o!=null){if(l!=null)throw Error(n(92));if(Ct(o)){if(1<o.length)throw Error(n(93));o=o[0]}l=o}l==null&&(l=""),s=l}l=Ce(s),e.defaultValue=l,o=e.textContent,o===l&&o!==""&&o!==null&&(e.value=o)}function js(e,s){if(s){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=s;return}}e.textContent=s}var b0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fc(e,s,l){var o=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?o?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":o?e.setProperty(s,l):typeof l!="number"||l===0||b0.has(s)?s==="float"?e.cssFloat=l:e[s]=(""+l).trim():e[s]=l+"px"}function tf(e,s,l){if(s!=null&&typeof s!="object")throw Error(n(62));if(e=e.style,l!=null){for(var o in l)!l.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in s)o=s[h],s.hasOwnProperty(h)&&l[h]!==o&&Fc(e,h,o)}else for(var f in s)s.hasOwnProperty(f)&&Fc(e,f,s[f])}function so(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),w0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ar(e){return w0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var no=null;function lo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ks=null,Ds=null;function ef(e){var s=Ms(e);if(s&&(e=s.stateNode)){var l=e[fe]||null;t:switch(e=s.stateNode,s.type){case"input":if(eo(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ze(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var o=l[s];if(o!==e&&o.form===e.form){var h=o[fe]||null;if(!h)throw Error(n(90));eo(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<l.length;s++)o=l[s],o.form===e.form&&Kc(o)}break t;case"textarea":Wc(e,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&zs(e,!!l.multiple,s,!1)}}}var ro=!1;function sf(e,s,l){if(ro)return e(s,l);ro=!0;try{var o=e(s);return o}finally{if(ro=!1,(ks!==null||Ds!==null)&&(Qr(),ks&&(s=ks,e=Ds,Ds=ks=null,ef(s),e)))for(s=0;s<e.length;s++)ef(e[s])}}function Vn(e,s){var l=e.stateNode;if(l===null)return null;var o=l[fe]||null;if(o===null)return null;l=o[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ao=!1;if(ti)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){ao=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{ao=!1}var _i=null,oo=null,or=null;function nf(){if(or)return or;var e,s=oo,l=s.length,o,h="value"in _i?_i.value:_i.textContent,f=h.length;for(e=0;e<l&&s[e]===h[e];e++);var p=l-e;for(o=1;o<=p&&s[l-o]===h[f-o];o++);return or=h.slice(e,1<o?1-o:void 0)}function ur(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function hr(){return!0}function lf(){return!1}function de(e){function s(l,o,h,f,p){this._reactName=l,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(l=e[b],this[b]=l?l(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?hr:lf,this.isPropagationStopped=lf,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),s}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=de(Ii),$n=m({},Ii,{view:0,detail:0}),S0=de($n),uo,ho,Gn,fr=m({},$n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gn&&(Gn&&e.type==="mousemove"?(uo=e.screenX-Gn.screenX,ho=e.screenY-Gn.screenY):ho=uo=0,Gn=e),uo)},movementY:function(e){return"movementY"in e?e.movementY:ho}}),rf=de(fr),E0=m({},fr,{dataTransfer:0}),T0=de(E0),x0=m({},$n,{relatedTarget:0}),co=de(x0),O0=m({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),M0=de(O0),R0=m({},Ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),A0=de(R0),C0=m({},Ii,{data:0}),af=de(C0),z0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D0(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=k0[e])?!!s[e]:!1}function fo(){return D0}var N0=m({},$n,{key:function(e){if(e.key){var s=z0[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=ur(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?j0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fo,charCode:function(e){return e.type==="keypress"?ur(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ur(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),U0=de(N0),L0=m({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),of=de(L0),B0=m({},$n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fo}),q0=de(B0),P0=m({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y0=de(P0),V0=m({},fr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H0=de(V0),$0=m({},Ii,{newState:0,oldState:0}),G0=de($0),Q0=[9,13,27,32],go=ti&&"CompositionEvent"in window,Qn=null;ti&&"documentMode"in document&&(Qn=document.documentMode);var X0=ti&&"TextEvent"in window&&!Qn,uf=ti&&(!go||Qn&&8<Qn&&11>=Qn),hf=" ",cf=!1;function ff(e,s){switch(e){case"keyup":return Q0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function df(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ns=!1;function J0(e,s){switch(e){case"compositionend":return df(s);case"keypress":return s.which!==32?null:(cf=!0,hf);case"textInput":return e=s.data,e===hf&&cf?null:e;default:return null}}function K0(e,s){if(Ns)return e==="compositionend"||!go&&ff(e,s)?(e=nf(),or=oo=_i=null,Ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return uf&&s.locale!=="ko"?null:s.data;default:return null}}var Z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gf(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Z0[e.type]:s==="textarea"}function vf(e,s,l,o){ks?Ds?Ds.push(o):Ds=[o]:ks=o,s=Ir(s,"onChange"),0<s.length&&(l=new cr("onChange","change",null,l,o),e.push({event:l,listeners:s}))}var Xn=null,Jn=null;function W0(e){Kg(e,0)}function dr(e){var s=Yn(e);if(Kc(s))return e}function mf(e,s){if(e==="change")return s}var pf=!1;if(ti){var vo;if(ti){var mo="oninput"in document;if(!mo){var yf=document.createElement("div");yf.setAttribute("oninput","return;"),mo=typeof yf.oninput=="function"}vo=mo}else vo=!1;pf=vo&&(!document.documentMode||9<document.documentMode)}function bf(){Xn&&(Xn.detachEvent("onpropertychange",_f),Jn=Xn=null)}function _f(e){if(e.propertyName==="value"&&dr(Jn)){var s=[];vf(s,Jn,e,lo(e)),sf(W0,s)}}function I0(e,s,l){e==="focusin"?(bf(),Xn=s,Jn=l,Xn.attachEvent("onpropertychange",_f)):e==="focusout"&&bf()}function F0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dr(Jn)}function ty(e,s){if(e==="click")return dr(s)}function ey(e,s){if(e==="input"||e==="change")return dr(s)}function iy(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Se=typeof Object.is=="function"?Object.is:iy;function Kn(e,s){if(Se(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var l=Object.keys(e),o=Object.keys(s);if(l.length!==o.length)return!1;for(o=0;o<l.length;o++){var h=l[o];if(!$a.call(s,h)||!Se(e[h],s[h]))return!1}return!0}function wf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sf(e,s){var l=wf(e);e=0;for(var o;l;){if(l.nodeType===3){if(o=e+l.textContent.length,e<=s&&o>=s)return{node:l,offset:s-e};e=o}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=wf(l)}}function Ef(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Ef(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Tf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=rr(e.document);s instanceof e.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)e=s.contentWindow;else break;s=rr(e.document)}return s}function po(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var sy=ti&&"documentMode"in document&&11>=document.documentMode,Us=null,yo=null,Zn=null,bo=!1;function xf(e,s,l){var o=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;bo||Us==null||Us!==rr(o)||(o=Us,"selectionStart"in o&&po(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Zn&&Kn(Zn,o)||(Zn=o,o=Ir(yo,"onSelect"),0<o.length&&(s=new cr("onSelect","select",null,s,l),e.push({event:s,listeners:o}),s.target=Us)))}function Fi(e,s){var l={};return l[e.toLowerCase()]=s.toLowerCase(),l["Webkit"+e]="webkit"+s,l["Moz"+e]="moz"+s,l}var Ls={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionrun:Fi("Transition","TransitionRun"),transitionstart:Fi("Transition","TransitionStart"),transitioncancel:Fi("Transition","TransitionCancel"),transitionend:Fi("Transition","TransitionEnd")},_o={},Of={};ti&&(Of=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function ts(e){if(_o[e])return _o[e];if(!Ls[e])return e;var s=Ls[e],l;for(l in s)if(s.hasOwnProperty(l)&&l in Of)return _o[e]=s[l];return e}var Mf=ts("animationend"),Rf=ts("animationiteration"),Af=ts("animationstart"),ny=ts("transitionrun"),ly=ts("transitionstart"),ry=ts("transitioncancel"),Cf=ts("transitionend"),zf=new Map,wo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wo.push("scrollEnd");function Pe(e,s){zf.set(e,s),Wi(s,[e])}var jf=new WeakMap;function je(e,s){if(typeof e=="object"&&e!==null){var l=jf.get(e);return l!==void 0?l:(s={value:e,source:s,stack:Xc(s)},jf.set(e,s),s)}return{value:e,source:s,stack:Xc(s)}}var ke=[],Bs=0,So=0;function gr(){for(var e=Bs,s=So=Bs=0;s<e;){var l=ke[s];ke[s++]=null;var o=ke[s];ke[s++]=null;var h=ke[s];ke[s++]=null;var f=ke[s];if(ke[s++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&kf(l,h,f)}}function vr(e,s,l,o){ke[Bs++]=e,ke[Bs++]=s,ke[Bs++]=l,ke[Bs++]=o,So|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Eo(e,s,l,o){return vr(e,s,l,o),mr(e)}function qs(e,s){return vr(e,null,null,s),mr(e)}function kf(e,s,l){e.lanes|=l;var o=e.alternate;o!==null&&(o.lanes|=l);for(var h=!1,f=e.return;f!==null;)f.childLanes|=l,o=f.alternate,o!==null&&(o.childLanes|=l),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&s!==null&&(h=31-we(l),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[s]:o.push(s),s.lane=l|536870912),f):null}function mr(e){if(50<wl)throw wl=0,Au=null,Error(n(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Ps={};function ay(e,s,l,o){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ee(e,s,l,o){return new ay(e,s,l,o)}function To(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ei(e,s){var l=e.alternate;return l===null?(l=Ee(e.tag,s,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=s,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,s=e.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Df(e,s){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,s=l.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function pr(e,s,l,o,h,f){var p=0;if(o=e,typeof e=="function")To(e)&&(p=1);else if(typeof e=="string")p=ub(e,l,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case yt:return e=Ee(31,l,s,h),e.elementType=yt,e.lanes=f,e;case x:return es(l.children,h,f,s);case M:p=8,h|=24;break;case j:return e=Ee(12,l,s,h|2),e.elementType=j,e.lanes=f,e;case G:return e=Ee(13,l,s,h),e.elementType=G,e.lanes=f,e;case K:return e=Ee(19,l,s,h),e.elementType=K,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:case L:p=10;break t;case q:p=9;break t;case H:p=11;break t;case I:p=14;break t;case gt:p=16,o=null;break t}p=29,l=Error(n(130,e===null?"null":typeof e,"")),o=null}return s=Ee(p,l,s,h),s.elementType=e,s.type=o,s.lanes=f,s}function es(e,s,l,o){return e=Ee(7,e,o,s),e.lanes=l,e}function xo(e,s,l){return e=Ee(6,e,null,s),e.lanes=l,e}function Oo(e,s,l){return s=Ee(4,e.children!==null?e.children:[],e.key,s),s.lanes=l,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var Ys=[],Vs=0,yr=null,br=0,De=[],Ne=0,is=null,ii=1,si="";function ss(e,s){Ys[Vs++]=br,Ys[Vs++]=yr,yr=e,br=s}function Nf(e,s,l){De[Ne++]=ii,De[Ne++]=si,De[Ne++]=is,is=e;var o=ii;e=si;var h=32-we(o)-1;o&=~(1<<h),l+=1;var f=32-we(s)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,ii=1<<32-we(s)+h|l<<h|o,si=f+e}else ii=1<<f|l<<h|o,si=e}function Mo(e){e.return!==null&&(ss(e,1),Nf(e,1,0))}function Ro(e){for(;e===yr;)yr=Ys[--Vs],Ys[Vs]=null,br=Ys[--Vs],Ys[Vs]=null;for(;e===is;)is=De[--Ne],De[Ne]=null,si=De[--Ne],De[Ne]=null,ii=De[--Ne],De[Ne]=null}var he=null,Nt=null,bt=!1,ns=null,Ge=!1,Ao=Error(n(519));function ls(e){var s=Error(n(418,""));throw Fn(je(s,e)),Ao}function Uf(e){var s=e.stateNode,l=e.type,o=e.memoizedProps;switch(s[re]=e,s[fe]=o,l){case"dialog":ht("cancel",s),ht("close",s);break;case"iframe":case"object":case"embed":ht("load",s);break;case"video":case"audio":for(l=0;l<El.length;l++)ht(El[l],s);break;case"source":ht("error",s);break;case"img":case"image":case"link":ht("error",s),ht("load",s);break;case"details":ht("toggle",s);break;case"input":ht("invalid",s),Zc(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),lr(s);break;case"select":ht("invalid",s);break;case"textarea":ht("invalid",s),Ic(s,o.value,o.defaultValue,o.children),lr(s)}l=o.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||o.suppressHydrationWarning===!0||Fg(s.textContent,l)?(o.popover!=null&&(ht("beforetoggle",s),ht("toggle",s)),o.onScroll!=null&&ht("scroll",s),o.onScrollEnd!=null&&ht("scrollend",s),o.onClick!=null&&(s.onclick=Fr),s=!0):s=!1,s||ls(e)}function Lf(e){for(he=e.return;he;)switch(he.tag){case 5:case 13:Ge=!1;return;case 27:case 3:Ge=!0;return;default:he=he.return}}function Wn(e){if(e!==he)return!1;if(!bt)return Lf(e),bt=!0,!1;var s=e.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Gu(e.type,e.memoizedProps)),l=!l),l&&Nt&&ls(e),Lf(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));t:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(s===0){Nt=Ve(e.nextSibling);break t}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;e=e.nextSibling}Nt=null}}else s===27?(s=Nt,Ui(e.type)?(e=Ku,Ku=null,Nt=e):Nt=s):Nt=he?Ve(e.stateNode.nextSibling):null;return!0}function In(){Nt=he=null,bt=!1}function Bf(){var e=ns;return e!==null&&(me===null?me=e:me.push.apply(me,e),ns=null),e}function Fn(e){ns===null?ns=[e]:ns.push(e)}var Co=P(null),rs=null,ni=null;function wi(e,s,l){Q(Co,s._currentValue),s._currentValue=l}function li(e){e._currentValue=Co.current,X(Co)}function zo(e,s,l){for(;e!==null;){var o=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),e===l)break;e=e.return}}function jo(e,s,l,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var b=f;f=h;for(var w=0;w<s.length;w++)if(b.context===s[w]){f.lanes|=l,b=f.alternate,b!==null&&(b.lanes|=l),zo(f.return,l,e),o||(p=null);break t}f=b.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(n(341));p.lanes|=l,f=p.alternate,f!==null&&(f.lanes|=l),zo(p,l,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function tl(e,s,l,o){e=null;for(var h=s,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(n(387));if(p=p.memoizedProps,p!==null){var b=h.type;Se(h.pendingProps.value,p.value)||(e!==null?e.push(b):e=[b])}}else if(h===be.current){if(p=h.alternate,p===null)throw Error(n(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Al):e=[Al])}h=h.return}e!==null&&jo(s,e,l,o),s.flags|=262144}function _r(e){for(e=e.firstContext;e!==null;){if(!Se(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function as(e){rs=e,ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ae(e){return qf(rs,e)}function wr(e,s){return rs===null&&as(e),qf(e,s)}function qf(e,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ni===null){if(e===null)throw Error(n(308));ni=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else ni=ni.next=s;return l}var oy=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(l,o){e.push(o)}};this.abort=function(){s.aborted=!0,e.forEach(function(l){return l()})}},uy=a.unstable_scheduleCallback,hy=a.unstable_NormalPriority,Ht={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ko(){return{controller:new oy,data:new Map,refCount:0}}function el(e){e.refCount--,e.refCount===0&&uy(hy,function(){e.controller.abort()})}var il=null,Do=0,Hs=0,$s=null;function cy(e,s){if(il===null){var l=il=[];Do=0,Hs=Uu(),$s={status:"pending",value:void 0,then:function(o){l.push(o)}}}return Do++,s.then(Pf,Pf),s}function Pf(){if(--Do===0&&il!==null){$s!==null&&($s.status="fulfilled");var e=il;il=null,Hs=0,$s=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function fy(e,s){var l=[],o={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return e.then(function(){o.status="fulfilled",o.value=s;for(var h=0;h<l.length;h++)(0,l[h])(s)},function(h){for(o.status="rejected",o.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),o}var Yf=k.S;k.S=function(e,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&cy(e,s),Yf!==null&&Yf(e,s)};var os=P(null);function No(){var e=os.current;return e!==null?e:Mt.pooledCache}function Sr(e,s){s===null?Q(os,os.current):Q(os,s.pool)}function Vf(){var e=No();return e===null?null:{parent:Ht._currentValue,pool:e}}var sl=Error(n(460)),Hf=Error(n(474)),Er=Error(n(542)),Uo={then:function(){}};function $f(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Tr(){}function Gf(e,s,l){switch(l=e[l],l===void 0?e.push(s):l!==s&&(s.then(Tr,Tr),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Xf(e),e;default:if(typeof s.status=="string")s.then(Tr,Tr);else{if(e=Mt,e!==null&&100<e.shellSuspendCounter)throw Error(n(482));e=s,e.status="pending",e.then(function(o){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=o}},function(o){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Xf(e),e}throw nl=s,sl}}var nl=null;function Qf(){if(nl===null)throw Error(n(459));var e=nl;return nl=null,e}function Xf(e){if(e===sl||e===Er)throw Error(n(483))}var Si=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bo(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ei(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(e,s,l){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(_t&2)!==0){var h=o.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),o.pending=s,s=mr(e),kf(e,null,l),s}return vr(e,o,s,l),mr(e)}function ll(e,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var o=s.lanes;o&=e.pendingLanes,l|=o,s.lanes=l,qc(e,l)}}function qo(e,s){var l=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,l===o)){var h=null,f=null;if(l=l.firstBaseUpdate,l!==null){do{var p={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,l=l.next}while(l!==null);f===null?h=f=s:f=f.next=s}else h=f=s;l={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=s:e.next=s,l.lastBaseUpdate=s}var Po=!1;function rl(){if(Po){var e=$s;if(e!==null)throw e}}function al(e,s,l,o){Po=!1;var h=e.updateQueue;Si=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var w=b,A=w.next;w.next=null,p===null?f=A:p.next=A,p=w;var D=e.alternate;D!==null&&(D=D.updateQueue,b=D.lastBaseUpdate,b!==p&&(b===null?D.firstBaseUpdate=A:b.next=A,D.lastBaseUpdate=w))}if(f!==null){var B=h.baseState;p=0,D=A=w=null,b=f;do{var C=b.lane&-536870913,z=C!==b.lane;if(z?(dt&C)===C:(o&C)===C){C!==0&&C===Hs&&(Po=!0),D!==null&&(D=D.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var it=e,tt=b;C=s;var Tt=l;switch(tt.tag){case 1:if(it=tt.payload,typeof it=="function"){B=it.call(Tt,B,C);break t}B=it;break t;case 3:it.flags=it.flags&-65537|128;case 0:if(it=tt.payload,C=typeof it=="function"?it.call(Tt,B,C):it,C==null)break t;B=m({},B,C);break t;case 2:Si=!0}}C=b.callback,C!==null&&(e.flags|=64,z&&(e.flags|=8192),z=h.callbacks,z===null?h.callbacks=[C]:z.push(C))}else z={lane:C,tag:b.tag,payload:b.payload,callback:b.callback,next:null},D===null?(A=D=z,w=B):D=D.next=z,p|=C;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;z=b,b=z.next,z.next=null,h.lastBaseUpdate=z,h.shared.pending=null}}while(!0);D===null&&(w=B),h.baseState=w,h.firstBaseUpdate=A,h.lastBaseUpdate=D,f===null&&(h.shared.lanes=0),ji|=p,e.lanes=p,e.memoizedState=B}}function Jf(e,s){if(typeof e!="function")throw Error(n(191,e));e.call(s)}function Kf(e,s){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Jf(l[e],s)}var Gs=P(null),xr=P(0);function Zf(e,s){e=fi,Q(xr,e),Q(Gs,s),fi=e|s.baseLanes}function Yo(){Q(xr,fi),Q(Gs,Gs.current)}function Vo(){fi=xr.current,X(Gs),X(xr)}var xi=0,rt=null,St=null,Pt=null,Or=!1,Qs=!1,us=!1,Mr=0,ol=0,Xs=null,dy=0;function Lt(){throw Error(n(321))}function Ho(e,s){if(s===null)return!1;for(var l=0;l<s.length&&l<e.length;l++)if(!Se(e[l],s[l]))return!1;return!0}function $o(e,s,l,o,h,f){return xi=f,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,k.H=e===null||e.memoizedState===null?kd:Dd,us=!1,f=l(o,h),us=!1,Qs&&(f=If(s,l,o,h)),Wf(e),f}function Wf(e){k.H=kr;var s=St!==null&&St.next!==null;if(xi=0,Pt=St=rt=null,Or=!1,ol=0,Xs=null,s)throw Error(n(300));e===null||Kt||(e=e.dependencies,e!==null&&_r(e)&&(Kt=!0))}function If(e,s,l,o){rt=e;var h=0;do{if(Qs&&(Xs=null),ol=0,Qs=!1,25<=h)throw Error(n(301));if(h+=1,Pt=St=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}k.H=_y,f=s(l,o)}while(Qs);return f}function gy(){var e=k.H,s=e.useState()[0];return s=typeof s.then=="function"?ul(s):s,e=e.useState()[0],(St!==null?St.memoizedState:null)!==e&&(rt.flags|=1024),s}function Go(){var e=Mr!==0;return Mr=0,e}function Qo(e,s,l){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~l}function Xo(e){if(Or){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}Or=!1}xi=0,Pt=St=rt=null,Qs=!1,ol=Mr=0,Xs=null}function ge(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?rt.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function Yt(){if(St===null){var e=rt.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var s=Pt===null?rt.memoizedState:Pt.next;if(s!==null)Pt=s,St=e;else{if(e===null)throw rt.alternate===null?Error(n(467)):Error(n(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Pt===null?rt.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(e){var s=ol;return ol+=1,Xs===null&&(Xs=[]),e=Gf(Xs,e,s),s=rt,(Pt===null?s.memoizedState:Pt.next)===null&&(s=s.alternate,k.H=s===null||s.memoizedState===null?kd:Dd),e}function Rr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ul(e);if(e.$$typeof===L)return ae(e)}throw Error(n(438,String(e)))}function Ko(e){var s=null,l=rt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var o=rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Jo(),rt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(e),o=0;o<e;o++)l[o]=ne;return s.index++,l}function ri(e,s){return typeof s=="function"?s(e):s}function Ar(e){var s=Yt();return Zo(s,St,e)}function Zo(e,s,l){var o=e.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=l;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}s.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{s=h.next;var b=p=null,w=null,A=s,D=!1;do{var B=A.lane&-536870913;if(B!==A.lane?(dt&B)===B:(xi&B)===B){var C=A.revertLane;if(C===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),B===Hs&&(D=!0);else if((xi&C)===C){A=A.next,C===Hs&&(D=!0);continue}else B={lane:0,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},w===null?(b=w=B,p=f):w=w.next=B,rt.lanes|=C,ji|=C;B=A.action,us&&l(f,B),f=A.hasEagerState?A.eagerState:l(f,B)}else C={lane:B,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},w===null?(b=w=C,p=f):w=w.next=C,rt.lanes|=B,ji|=B;A=A.next}while(A!==null&&A!==s);if(w===null?p=f:w.next=b,!Se(f,e.memoizedState)&&(Kt=!0,D&&(l=$s,l!==null)))throw l;e.memoizedState=f,e.baseState=p,e.baseQueue=w,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Wo(e){var s=Yt(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=e;var o=l.dispatch,h=l.pending,f=s.memoizedState;if(h!==null){l.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);Se(f,s.memoizedState)||(Kt=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),l.lastRenderedState=f}return[f,o]}function Ff(e,s,l){var o=rt,h=Yt(),f=bt;if(f){if(l===void 0)throw Error(n(407));l=l()}else l=s();var p=!Se((St||h).memoizedState,l);p&&(h.memoizedState=l,Kt=!0),h=h.queue;var b=id.bind(null,o,h,e);if(hl(2048,8,b,[e]),h.getSnapshot!==s||p||Pt!==null&&Pt.memoizedState.tag&1){if(o.flags|=2048,Js(9,Cr(),ed.bind(null,o,h,l,s),null),Mt===null)throw Error(n(349));f||(xi&124)!==0||td(o,s,l)}return l}function td(e,s,l){e.flags|=16384,e={getSnapshot:s,value:l},s=rt.updateQueue,s===null?(s=Jo(),rt.updateQueue=s,s.stores=[e]):(l=s.stores,l===null?s.stores=[e]:l.push(e))}function ed(e,s,l,o){s.value=l,s.getSnapshot=o,sd(s)&&nd(e)}function id(e,s,l){return l(function(){sd(s)&&nd(e)})}function sd(e){var s=e.getSnapshot;e=e.value;try{var l=s();return!Se(e,l)}catch{return!0}}function nd(e){var s=qs(e,2);s!==null&&Re(s,e,2)}function Io(e){var s=ge();if(typeof e=="function"){var l=e;if(e=l(),us){yi(!0);try{l()}finally{yi(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:e},s}function ld(e,s,l,o){return e.baseState=l,Zo(e,St,typeof o=="function"?o:ri)}function vy(e,s,l,o,h){if(jr(e))throw Error(n(485));if(e=s.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};k.T!==null?l(!0):f.isTransition=!1,o(f),l=s.pending,l===null?(f.next=s.pending=f,rd(s,f)):(f.next=l.next,s.pending=l.next=f)}}function rd(e,s){var l=s.action,o=s.payload,h=e.state;if(s.isTransition){var f=k.T,p={};k.T=p;try{var b=l(h,o),w=k.S;w!==null&&w(p,b),ad(e,s,b)}catch(A){Fo(e,s,A)}finally{k.T=f}}else try{f=l(h,o),ad(e,s,f)}catch(A){Fo(e,s,A)}}function ad(e,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(o){od(e,s,o)},function(o){return Fo(e,s,o)}):od(e,s,l)}function od(e,s,l){s.status="fulfilled",s.value=l,ud(s),e.state=l,s=e.pending,s!==null&&(l=s.next,l===s?e.pending=null:(l=l.next,s.next=l,rd(e,l)))}function Fo(e,s,l){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=l,ud(s),s=s.next;while(s!==o)}e.action=null}function ud(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function hd(e,s){return s}function cd(e,s){if(bt){var l=Mt.formState;if(l!==null){t:{var o=rt;if(bt){if(Nt){e:{for(var h=Nt,f=Ge;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ve(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Nt=Ve(h.nextSibling),o=h.data==="F!";break t}}ls(o)}o=!1}o&&(s=l[0])}}return l=ge(),l.memoizedState=l.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hd,lastRenderedState:s},l.queue=o,l=Cd.bind(null,rt,o),o.dispatch=l,o=Io(!1),f=nu.bind(null,rt,!1,o.queue),o=ge(),h={state:s,dispatch:null,action:e,pending:null},o.queue=h,l=vy.bind(null,rt,h,f,l),h.dispatch=l,o.memoizedState=e,[s,l,!1]}function fd(e){var s=Yt();return dd(s,St,e)}function dd(e,s,l){if(s=Zo(e,s,hd)[0],e=Ar(ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=ul(s)}catch(p){throw p===sl?Er:p}else o=s;s=Yt();var h=s.queue,f=h.dispatch;return l!==s.memoizedState&&(rt.flags|=2048,Js(9,Cr(),my.bind(null,h,l),null)),[o,f,e]}function my(e,s){e.action=s}function gd(e){var s=Yt(),l=St;if(l!==null)return dd(s,l,e);Yt(),s=s.memoizedState,l=Yt();var o=l.queue.dispatch;return l.memoizedState=e,[s,o,!1]}function Js(e,s,l,o){return e={tag:e,create:l,deps:o,inst:s,next:null},s=rt.updateQueue,s===null&&(s=Jo(),rt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=e.next=e:(o=l.next,l.next=e,e.next=o,s.lastEffect=e),e}function Cr(){return{destroy:void 0,resource:void 0}}function vd(){return Yt().memoizedState}function zr(e,s,l,o){var h=ge();o=o===void 0?null:o,rt.flags|=e,h.memoizedState=Js(1|s,Cr(),l,o)}function hl(e,s,l,o){var h=Yt();o=o===void 0?null:o;var f=h.memoizedState.inst;St!==null&&o!==null&&Ho(o,St.memoizedState.deps)?h.memoizedState=Js(s,f,l,o):(rt.flags|=e,h.memoizedState=Js(1|s,f,l,o))}function md(e,s){zr(8390656,8,e,s)}function pd(e,s){hl(2048,8,e,s)}function yd(e,s){return hl(4,2,e,s)}function bd(e,s){return hl(4,4,e,s)}function _d(e,s){if(typeof s=="function"){e=e();var l=s(e);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function wd(e,s,l){l=l!=null?l.concat([e]):null,hl(4,4,_d.bind(null,s,e),l)}function tu(){}function Sd(e,s){var l=Yt();s=s===void 0?null:s;var o=l.memoizedState;return s!==null&&Ho(s,o[1])?o[0]:(l.memoizedState=[e,s],e)}function Ed(e,s){var l=Yt();s=s===void 0?null:s;var o=l.memoizedState;if(s!==null&&Ho(s,o[1]))return o[0];if(o=e(),us){yi(!0);try{e()}finally{yi(!1)}}return l.memoizedState=[o,s],o}function eu(e,s,l){return l===void 0||(xi&1073741824)!==0?e.memoizedState=s:(e.memoizedState=l,e=Og(),rt.lanes|=e,ji|=e,l)}function Td(e,s,l,o){return Se(l,s)?l:Gs.current!==null?(e=eu(e,l,o),Se(e,s)||(Kt=!0),e):(xi&42)===0?(Kt=!0,e.memoizedState=l):(e=Og(),rt.lanes|=e,ji|=e,s)}function xd(e,s,l,o,h){var f=$.p;$.p=f!==0&&8>f?f:8;var p=k.T,b={};k.T=b,nu(e,!1,s,l);try{var w=h(),A=k.S;if(A!==null&&A(b,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var D=fy(w,o);cl(e,s,D,Me(e))}else cl(e,s,o,Me(e))}catch(B){cl(e,s,{then:function(){},status:"rejected",reason:B},Me())}finally{$.p=f,k.T=p}}function py(){}function iu(e,s,l,o){if(e.tag!==5)throw Error(n(476));var h=Od(e).queue;xd(e,h,s,Z,l===null?py:function(){return Md(e),l(o)})}function Od(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:Z},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:l},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Md(e){var s=Od(e).next.queue;cl(e,s,{},Me())}function su(){return ae(Al)}function Rd(){return Yt().memoizedState}function Ad(){return Yt().memoizedState}function yy(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var l=Me();e=Ei(l);var o=Ti(s,e,l);o!==null&&(Re(o,s,l),ll(o,s,l)),s={cache:ko()},e.payload=s;return}s=s.return}}function by(e,s,l){var o=Me();l={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},jr(e)?zd(s,l):(l=Eo(e,s,l,o),l!==null&&(Re(l,e,o),jd(l,s,o)))}function Cd(e,s,l){var o=Me();cl(e,s,l,o)}function cl(e,s,l,o){var h={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(jr(e))zd(s,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var p=s.lastRenderedState,b=f(p,l);if(h.hasEagerState=!0,h.eagerState=b,Se(b,p))return vr(e,s,h,0),Mt===null&&gr(),!1}catch{}finally{}if(l=Eo(e,s,h,o),l!==null)return Re(l,e,o),jd(l,s,o),!0}return!1}function nu(e,s,l,o){if(o={lane:2,revertLane:Uu(),action:o,hasEagerState:!1,eagerState:null,next:null},jr(e)){if(s)throw Error(n(479))}else s=Eo(e,l,o,2),s!==null&&Re(s,e,2)}function jr(e){var s=e.alternate;return e===rt||s!==null&&s===rt}function zd(e,s){Qs=Or=!0;var l=e.pending;l===null?s.next=s:(s.next=l.next,l.next=s),e.pending=s}function jd(e,s,l){if((l&4194048)!==0){var o=s.lanes;o&=e.pendingLanes,l|=o,s.lanes=l,qc(e,l)}}var kr={readContext:ae,use:Rr,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},kd={readContext:ae,use:Rr,useCallback:function(e,s){return ge().memoizedState=[e,s===void 0?null:s],e},useContext:ae,useEffect:md,useImperativeHandle:function(e,s,l){l=l!=null?l.concat([e]):null,zr(4194308,4,_d.bind(null,s,e),l)},useLayoutEffect:function(e,s){return zr(4194308,4,e,s)},useInsertionEffect:function(e,s){zr(4,2,e,s)},useMemo:function(e,s){var l=ge();s=s===void 0?null:s;var o=e();if(us){yi(!0);try{e()}finally{yi(!1)}}return l.memoizedState=[o,s],o},useReducer:function(e,s,l){var o=ge();if(l!==void 0){var h=l(s);if(us){yi(!0);try{l(s)}finally{yi(!1)}}}else h=s;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=by.bind(null,rt,e),[o.memoizedState,e]},useRef:function(e){var s=ge();return e={current:e},s.memoizedState=e},useState:function(e){e=Io(e);var s=e.queue,l=Cd.bind(null,rt,s);return s.dispatch=l,[e.memoizedState,l]},useDebugValue:tu,useDeferredValue:function(e,s){var l=ge();return eu(l,e,s)},useTransition:function(){var e=Io(!1);return e=xd.bind(null,rt,e.queue,!0,!1),ge().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,l){var o=rt,h=ge();if(bt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Mt===null)throw Error(n(349));(dt&124)!==0||td(o,s,l)}h.memoizedState=l;var f={value:l,getSnapshot:s};return h.queue=f,md(id.bind(null,o,f,e),[e]),o.flags|=2048,Js(9,Cr(),ed.bind(null,o,f,l,s),null),l},useId:function(){var e=ge(),s=Mt.identifierPrefix;if(bt){var l=si,o=ii;l=(o&~(1<<32-we(o)-1)).toString(32)+l,s="«"+s+"R"+l,l=Mr++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=dy++,s="«"+s+"r"+l.toString(32)+"»";return e.memoizedState=s},useHostTransitionStatus:su,useFormState:cd,useActionState:cd,useOptimistic:function(e){var s=ge();s.memoizedState=s.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=nu.bind(null,rt,!0,l),l.dispatch=s,[e,s]},useMemoCache:Ko,useCacheRefresh:function(){return ge().memoizedState=yy.bind(null,rt)}},Dd={readContext:ae,use:Rr,useCallback:Sd,useContext:ae,useEffect:pd,useImperativeHandle:wd,useInsertionEffect:yd,useLayoutEffect:bd,useMemo:Ed,useReducer:Ar,useRef:vd,useState:function(){return Ar(ri)},useDebugValue:tu,useDeferredValue:function(e,s){var l=Yt();return Td(l,St.memoizedState,e,s)},useTransition:function(){var e=Ar(ri)[0],s=Yt().memoizedState;return[typeof e=="boolean"?e:ul(e),s]},useSyncExternalStore:Ff,useId:Rd,useHostTransitionStatus:su,useFormState:fd,useActionState:fd,useOptimistic:function(e,s){var l=Yt();return ld(l,St,e,s)},useMemoCache:Ko,useCacheRefresh:Ad},_y={readContext:ae,use:Rr,useCallback:Sd,useContext:ae,useEffect:pd,useImperativeHandle:wd,useInsertionEffect:yd,useLayoutEffect:bd,useMemo:Ed,useReducer:Wo,useRef:vd,useState:function(){return Wo(ri)},useDebugValue:tu,useDeferredValue:function(e,s){var l=Yt();return St===null?eu(l,e,s):Td(l,St.memoizedState,e,s)},useTransition:function(){var e=Wo(ri)[0],s=Yt().memoizedState;return[typeof e=="boolean"?e:ul(e),s]},useSyncExternalStore:Ff,useId:Rd,useHostTransitionStatus:su,useFormState:gd,useActionState:gd,useOptimistic:function(e,s){var l=Yt();return St!==null?ld(l,St,e,s):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Ko,useCacheRefresh:Ad},Ks=null,fl=0;function Dr(e){var s=fl;return fl+=1,Ks===null&&(Ks=[]),Gf(Ks,e,s)}function dl(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function Nr(e,s){throw s.$$typeof===y?Error(n(525)):(e=Object.prototype.toString.call(s),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function Nd(e){var s=e._init;return s(e._payload)}function Ud(e){function s(O,T){if(e){var R=O.deletions;R===null?(O.deletions=[T],O.flags|=16):R.push(T)}}function l(O,T){if(!e)return null;for(;T!==null;)s(O,T),T=T.sibling;return null}function o(O){for(var T=new Map;O!==null;)O.key!==null?T.set(O.key,O):T.set(O.index,O),O=O.sibling;return T}function h(O,T){return O=ei(O,T),O.index=0,O.sibling=null,O}function f(O,T,R){return O.index=R,e?(R=O.alternate,R!==null?(R=R.index,R<T?(O.flags|=67108866,T):R):(O.flags|=67108866,T)):(O.flags|=1048576,T)}function p(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function b(O,T,R,U){return T===null||T.tag!==6?(T=xo(R,O.mode,U),T.return=O,T):(T=h(T,R),T.return=O,T)}function w(O,T,R,U){var J=R.type;return J===x?D(O,T,R.props.children,U,R.key):T!==null&&(T.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===gt&&Nd(J)===T.type)?(T=h(T,R.props),dl(T,R),T.return=O,T):(T=pr(R.type,R.key,R.props,null,O.mode,U),dl(T,R),T.return=O,T)}function A(O,T,R,U){return T===null||T.tag!==4||T.stateNode.containerInfo!==R.containerInfo||T.stateNode.implementation!==R.implementation?(T=Oo(R,O.mode,U),T.return=O,T):(T=h(T,R.children||[]),T.return=O,T)}function D(O,T,R,U,J){return T===null||T.tag!==7?(T=es(R,O.mode,U,J),T.return=O,T):(T=h(T,R),T.return=O,T)}function B(O,T,R){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=xo(""+T,O.mode,R),T.return=O,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _:return R=pr(T.type,T.key,T.props,null,O.mode,R),dl(R,T),R.return=O,R;case S:return T=Oo(T,O.mode,R),T.return=O,T;case gt:var U=T._init;return T=U(T._payload),B(O,T,R)}if(Ct(T)||kt(T))return T=es(T,O.mode,R,null),T.return=O,T;if(typeof T.then=="function")return B(O,Dr(T),R);if(T.$$typeof===L)return B(O,wr(O,T),R);Nr(O,T)}return null}function C(O,T,R,U){var J=T!==null?T.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return J!==null?null:b(O,T,""+R,U);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return R.key===J?w(O,T,R,U):null;case S:return R.key===J?A(O,T,R,U):null;case gt:return J=R._init,R=J(R._payload),C(O,T,R,U)}if(Ct(R)||kt(R))return J!==null?null:D(O,T,R,U,null);if(typeof R.then=="function")return C(O,T,Dr(R),U);if(R.$$typeof===L)return C(O,T,wr(O,R),U);Nr(O,R)}return null}function z(O,T,R,U,J){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return O=O.get(R)||null,b(T,O,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case _:return O=O.get(U.key===null?R:U.key)||null,w(T,O,U,J);case S:return O=O.get(U.key===null?R:U.key)||null,A(T,O,U,J);case gt:var at=U._init;return U=at(U._payload),z(O,T,R,U,J)}if(Ct(U)||kt(U))return O=O.get(R)||null,D(T,O,U,J,null);if(typeof U.then=="function")return z(O,T,R,Dr(U),J);if(U.$$typeof===L)return z(O,T,R,wr(T,U),J);Nr(T,U)}return null}function it(O,T,R,U){for(var J=null,at=null,W=T,et=T=0,Wt=null;W!==null&&et<R.length;et++){W.index>et?(Wt=W,W=null):Wt=W.sibling;var mt=C(O,W,R[et],U);if(mt===null){W===null&&(W=Wt);break}e&&W&&mt.alternate===null&&s(O,W),T=f(mt,T,et),at===null?J=mt:at.sibling=mt,at=mt,W=Wt}if(et===R.length)return l(O,W),bt&&ss(O,et),J;if(W===null){for(;et<R.length;et++)W=B(O,R[et],U),W!==null&&(T=f(W,T,et),at===null?J=W:at.sibling=W,at=W);return bt&&ss(O,et),J}for(W=o(W);et<R.length;et++)Wt=z(W,O,et,R[et],U),Wt!==null&&(e&&Wt.alternate!==null&&W.delete(Wt.key===null?et:Wt.key),T=f(Wt,T,et),at===null?J=Wt:at.sibling=Wt,at=Wt);return e&&W.forEach(function(Yi){return s(O,Yi)}),bt&&ss(O,et),J}function tt(O,T,R,U){if(R==null)throw Error(n(151));for(var J=null,at=null,W=T,et=T=0,Wt=null,mt=R.next();W!==null&&!mt.done;et++,mt=R.next()){W.index>et?(Wt=W,W=null):Wt=W.sibling;var Yi=C(O,W,mt.value,U);if(Yi===null){W===null&&(W=Wt);break}e&&W&&Yi.alternate===null&&s(O,W),T=f(Yi,T,et),at===null?J=Yi:at.sibling=Yi,at=Yi,W=Wt}if(mt.done)return l(O,W),bt&&ss(O,et),J;if(W===null){for(;!mt.done;et++,mt=R.next())mt=B(O,mt.value,U),mt!==null&&(T=f(mt,T,et),at===null?J=mt:at.sibling=mt,at=mt);return bt&&ss(O,et),J}for(W=o(W);!mt.done;et++,mt=R.next())mt=z(W,O,et,mt.value,U),mt!==null&&(e&&mt.alternate!==null&&W.delete(mt.key===null?et:mt.key),T=f(mt,T,et),at===null?J=mt:at.sibling=mt,at=mt);return e&&W.forEach(function(wb){return s(O,wb)}),bt&&ss(O,et),J}function Tt(O,T,R,U){if(typeof R=="object"&&R!==null&&R.type===x&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case _:t:{for(var J=R.key;T!==null;){if(T.key===J){if(J=R.type,J===x){if(T.tag===7){l(O,T.sibling),U=h(T,R.props.children),U.return=O,O=U;break t}}else if(T.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===gt&&Nd(J)===T.type){l(O,T.sibling),U=h(T,R.props),dl(U,R),U.return=O,O=U;break t}l(O,T);break}else s(O,T);T=T.sibling}R.type===x?(U=es(R.props.children,O.mode,U,R.key),U.return=O,O=U):(U=pr(R.type,R.key,R.props,null,O.mode,U),dl(U,R),U.return=O,O=U)}return p(O);case S:t:{for(J=R.key;T!==null;){if(T.key===J)if(T.tag===4&&T.stateNode.containerInfo===R.containerInfo&&T.stateNode.implementation===R.implementation){l(O,T.sibling),U=h(T,R.children||[]),U.return=O,O=U;break t}else{l(O,T);break}else s(O,T);T=T.sibling}U=Oo(R,O.mode,U),U.return=O,O=U}return p(O);case gt:return J=R._init,R=J(R._payload),Tt(O,T,R,U)}if(Ct(R))return it(O,T,R,U);if(kt(R)){if(J=kt(R),typeof J!="function")throw Error(n(150));return R=J.call(R),tt(O,T,R,U)}if(typeof R.then=="function")return Tt(O,T,Dr(R),U);if(R.$$typeof===L)return Tt(O,T,wr(O,R),U);Nr(O,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,T!==null&&T.tag===6?(l(O,T.sibling),U=h(T,R),U.return=O,O=U):(l(O,T),U=xo(R,O.mode,U),U.return=O,O=U),p(O)):l(O,T)}return function(O,T,R,U){try{fl=0;var J=Tt(O,T,R,U);return Ks=null,J}catch(W){if(W===sl||W===Er)throw W;var at=Ee(29,W,null,O.mode);return at.lanes=U,at.return=O,at}finally{}}}var Zs=Ud(!0),Ld=Ud(!1),Ue=P(null),Qe=null;function Oi(e){var s=e.alternate;Q($t,$t.current&1),Q(Ue,e),Qe===null&&(s===null||Gs.current!==null||s.memoizedState!==null)&&(Qe=e)}function Bd(e){if(e.tag===22){if(Q($t,$t.current),Q(Ue,e),Qe===null){var s=e.alternate;s!==null&&s.memoizedState!==null&&(Qe=e)}}else Mi()}function Mi(){Q($t,$t.current),Q(Ue,Ue.current)}function ai(e){X(Ue),Qe===e&&(Qe=null),X($t)}var $t=P(0);function Ur(e){for(var s=e;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ju(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function lu(e,s,l,o){s=e.memoizedState,l=l(o,s),l=l==null?s:m({},s,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var ru={enqueueSetState:function(e,s,l){e=e._reactInternals;var o=Me(),h=Ei(o);h.payload=s,l!=null&&(h.callback=l),s=Ti(e,h,o),s!==null&&(Re(s,e,o),ll(s,e,o))},enqueueReplaceState:function(e,s,l){e=e._reactInternals;var o=Me(),h=Ei(o);h.tag=1,h.payload=s,l!=null&&(h.callback=l),s=Ti(e,h,o),s!==null&&(Re(s,e,o),ll(s,e,o))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var l=Me(),o=Ei(l);o.tag=2,s!=null&&(o.callback=s),s=Ti(e,o,l),s!==null&&(Re(s,e,l),ll(s,e,l))}};function qd(e,s,l,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):s.prototype&&s.prototype.isPureReactComponent?!Kn(l,o)||!Kn(h,f):!0}function Pd(e,s,l,o){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,o),s.state!==e&&ru.enqueueReplaceState(s,s.state,null)}function hs(e,s){var l=s;if("ref"in s){l={};for(var o in s)o!=="ref"&&(l[o]=s[o])}if(e=e.defaultProps){l===s&&(l=m({},l));for(var h in e)l[h]===void 0&&(l[h]=e[h])}return l}var Lr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Yd(e){Lr(e)}function Vd(e){console.error(e)}function Hd(e){Lr(e)}function Br(e,s){try{var l=e.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function $d(e,s,l){try{var o=e.onCaughtError;o(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function au(e,s,l){return l=Ei(l),l.tag=3,l.payload={element:null},l.callback=function(){Br(e,s)},l}function Gd(e){return e=Ei(e),e.tag=3,e}function Qd(e,s,l,o){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){$d(s,l,o)}}var p=l.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){$d(s,l,o),typeof h!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function wy(e,s,l,o,h){if(l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=l.alternate,s!==null&&tl(s,l,h,!0),l=Ue.current,l!==null){switch(l.tag){case 13:return Qe===null?zu():l.alternate===null&&Ut===0&&(Ut=3),l.flags&=-257,l.flags|=65536,l.lanes=h,o===Uo?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([o]):s.add(o),ku(e,o,h)),!1;case 22:return l.flags|=65536,o===Uo?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([o]):l.add(o)),ku(e,o,h)),!1}throw Error(n(435,l.tag))}return ku(e,o,h),zu(),!1}if(bt)return s=Ue.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,o!==Ao&&(e=Error(n(422),{cause:o}),Fn(je(e,l)))):(o!==Ao&&(s=Error(n(423),{cause:o}),Fn(je(s,l))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=je(o,l),h=au(e.stateNode,o,h),qo(e,h),Ut!==4&&(Ut=2)),!1;var f=Error(n(520),{cause:o});if(f=je(f,l),_l===null?_l=[f]:_l.push(f),Ut!==4&&(Ut=2),s===null)return!0;o=je(o,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,e=h&-h,l.lanes|=e,e=au(l.stateNode,o,e),qo(l,e),!1;case 1:if(s=l.type,f=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ki===null||!ki.has(f))))return l.flags|=65536,h&=-h,l.lanes|=h,h=Gd(h),Qd(h,e,l,o),qo(l,h),!1}l=l.return}while(l!==null);return!1}var Xd=Error(n(461)),Kt=!1;function Ft(e,s,l,o){s.child=e===null?Ld(s,null,l,o):Zs(s,e.child,l,o)}function Jd(e,s,l,o,h){l=l.render;var f=s.ref;if("ref"in o){var p={};for(var b in o)b!=="ref"&&(p[b]=o[b])}else p=o;return as(s),o=$o(e,s,l,p,f,h),b=Go(),e!==null&&!Kt?(Qo(e,s,h),oi(e,s,h)):(bt&&b&&Mo(s),s.flags|=1,Ft(e,s,o,h),s.child)}function Kd(e,s,l,o,h){if(e===null){var f=l.type;return typeof f=="function"&&!To(f)&&f.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=f,Zd(e,s,f,o,h)):(e=pr(l.type,null,o,s,s.mode,h),e.ref=s.ref,e.return=s,s.child=e)}if(f=e.child,!vu(e,h)){var p=f.memoizedProps;if(l=l.compare,l=l!==null?l:Kn,l(p,o)&&e.ref===s.ref)return oi(e,s,h)}return s.flags|=1,e=ei(f,o),e.ref=s.ref,e.return=s,s.child=e}function Zd(e,s,l,o,h){if(e!==null){var f=e.memoizedProps;if(Kn(f,o)&&e.ref===s.ref)if(Kt=!1,s.pendingProps=o=f,vu(e,h))(e.flags&131072)!==0&&(Kt=!0);else return s.lanes=e.lanes,oi(e,s,h)}return ou(e,s,l,o,h)}function Wd(e,s,l){var o=s.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((s.flags&128)!==0){if(o=f!==null?f.baseLanes|l:l,e!==null){for(h=s.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;s.childLanes=f&~o}else s.childLanes=0,s.child=null;return Id(e,s,o,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Sr(s,f!==null?f.cachePool:null),f!==null?Zf(s,f):Yo(),Bd(s);else return s.lanes=s.childLanes=536870912,Id(e,s,f!==null?f.baseLanes|l:l,l)}else f!==null?(Sr(s,f.cachePool),Zf(s,f),Mi(),s.memoizedState=null):(e!==null&&Sr(s,null),Yo(),Mi());return Ft(e,s,h,l),s.child}function Id(e,s,l,o){var h=No();return h=h===null?null:{parent:Ht._currentValue,pool:h},s.memoizedState={baseLanes:l,cachePool:h},e!==null&&Sr(s,null),Yo(),Bd(s),e!==null&&tl(e,s,o,!0),null}function qr(e,s){var l=s.ref;if(l===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(e===null||e.ref!==l)&&(s.flags|=4194816)}}function ou(e,s,l,o,h){return as(s),l=$o(e,s,l,o,void 0,h),o=Go(),e!==null&&!Kt?(Qo(e,s,h),oi(e,s,h)):(bt&&o&&Mo(s),s.flags|=1,Ft(e,s,l,h),s.child)}function Fd(e,s,l,o,h,f){return as(s),s.updateQueue=null,l=If(s,o,l,h),Wf(e),o=Go(),e!==null&&!Kt?(Qo(e,s,f),oi(e,s,f)):(bt&&o&&Mo(s),s.flags|=1,Ft(e,s,l,f),s.child)}function tg(e,s,l,o,h){if(as(s),s.stateNode===null){var f=Ps,p=l.contextType;typeof p=="object"&&p!==null&&(f=ae(p)),f=new l(o,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ru,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=o,f.state=s.memoizedState,f.refs={},Lo(s),p=l.contextType,f.context=typeof p=="object"&&p!==null?ae(p):Ps,f.state=s.memoizedState,p=l.getDerivedStateFromProps,typeof p=="function"&&(lu(s,l,p,o),f.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&ru.enqueueReplaceState(f,f.state,null),al(s,o,f,h),rl(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(e===null){f=s.stateNode;var b=s.memoizedProps,w=hs(l,b);f.props=w;var A=f.context,D=l.contextType;p=Ps,typeof D=="object"&&D!==null&&(p=ae(D));var B=l.getDerivedStateFromProps;D=typeof B=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,D||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||A!==p)&&Pd(s,f,o,p),Si=!1;var C=s.memoizedState;f.state=C,al(s,o,f,h),rl(),A=s.memoizedState,b||C!==A||Si?(typeof B=="function"&&(lu(s,l,B,o),A=s.memoizedState),(w=Si||qd(s,l,w,o,C,A,p))?(D||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=A),f.props=o,f.state=A,f.context=p,o=w):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{f=s.stateNode,Bo(e,s),p=s.memoizedProps,D=hs(l,p),f.props=D,B=s.pendingProps,C=f.context,A=l.contextType,w=Ps,typeof A=="object"&&A!==null&&(w=ae(A)),b=l.getDerivedStateFromProps,(A=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==B||C!==w)&&Pd(s,f,o,w),Si=!1,C=s.memoizedState,f.state=C,al(s,o,f,h),rl();var z=s.memoizedState;p!==B||C!==z||Si||e!==null&&e.dependencies!==null&&_r(e.dependencies)?(typeof b=="function"&&(lu(s,l,b,o),z=s.memoizedState),(D=Si||qd(s,l,D,o,C,z,w)||e!==null&&e.dependencies!==null&&_r(e.dependencies))?(A||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,z,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,z,w)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&C===e.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&C===e.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=z),f.props=o,f.state=z,f.context=w,o=D):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&C===e.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&C===e.memoizedState||(s.flags|=1024),o=!1)}return f=o,qr(e,s),o=(s.flags&128)!==0,f||o?(f=s.stateNode,l=o&&typeof l.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,e!==null&&o?(s.child=Zs(s,e.child,null,h),s.child=Zs(s,null,l,h)):Ft(e,s,l,h),s.memoizedState=f.state,e=s.child):e=oi(e,s,h),e}function eg(e,s,l,o){return In(),s.flags|=256,Ft(e,s,l,o),s.child}var uu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hu(e){return{baseLanes:e,cachePool:Vf()}}function cu(e,s,l){return e=e!==null?e.childLanes&~l:0,s&&(e|=Le),e}function ig(e,s,l){var o=s.pendingProps,h=!1,f=(s.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:($t.current&2)!==0),p&&(h=!0,s.flags&=-129),p=(s.flags&32)!==0,s.flags&=-33,e===null){if(bt){if(h?Oi(s):Mi(),bt){var b=Nt,w;if(w=b){t:{for(w=b,b=Ge;w.nodeType!==8;){if(!b){b=null;break t}if(w=Ve(w.nextSibling),w===null){b=null;break t}}b=w}b!==null?(s.memoizedState={dehydrated:b,treeContext:is!==null?{id:ii,overflow:si}:null,retryLane:536870912,hydrationErrors:null},w=Ee(18,null,null,0),w.stateNode=b,w.return=s,s.child=w,he=s,Nt=null,w=!0):w=!1}w||ls(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Ju(b)?s.lanes=32:s.lanes=536870912,null;ai(s)}return b=o.children,o=o.fallback,h?(Mi(),h=s.mode,b=Pr({mode:"hidden",children:b},h),o=es(o,h,l,null),b.return=s,o.return=s,b.sibling=o,s.child=b,h=s.child,h.memoizedState=hu(l),h.childLanes=cu(e,p,l),s.memoizedState=uu,o):(Oi(s),fu(s,b))}if(w=e.memoizedState,w!==null&&(b=w.dehydrated,b!==null)){if(f)s.flags&256?(Oi(s),s.flags&=-257,s=du(e,s,l)):s.memoizedState!==null?(Mi(),s.child=e.child,s.flags|=128,s=null):(Mi(),h=o.fallback,b=s.mode,o=Pr({mode:"visible",children:o.children},b),h=es(h,b,l,null),h.flags|=2,o.return=s,h.return=s,o.sibling=h,s.child=o,Zs(s,e.child,null,l),o=s.child,o.memoizedState=hu(l),o.childLanes=cu(e,p,l),s.memoizedState=uu,s=h);else if(Oi(s),Ju(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var A=p.dgst;p=A,o=Error(n(419)),o.stack="",o.digest=p,Fn({value:o,source:null,stack:null}),s=du(e,s,l)}else if(Kt||tl(e,s,l,!1),p=(l&e.childLanes)!==0,Kt||p){if(p=Mt,p!==null&&(o=l&-l,o=(o&42)!==0?1:Ja(o),o=(o&(p.suspendedLanes|l))!==0?0:o,o!==0&&o!==w.retryLane))throw w.retryLane=o,qs(e,o),Re(p,e,o),Xd;b.data==="$?"||zu(),s=du(e,s,l)}else b.data==="$?"?(s.flags|=192,s.child=e.child,s=null):(e=w.treeContext,Nt=Ve(b.nextSibling),he=s,bt=!0,ns=null,Ge=!1,e!==null&&(De[Ne++]=ii,De[Ne++]=si,De[Ne++]=is,ii=e.id,si=e.overflow,is=s),s=fu(s,o.children),s.flags|=4096);return s}return h?(Mi(),h=o.fallback,b=s.mode,w=e.child,A=w.sibling,o=ei(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,A!==null?h=ei(A,h):(h=es(h,b,l,null),h.flags|=2),h.return=s,o.return=s,o.sibling=h,s.child=o,o=h,h=s.child,b=e.child.memoizedState,b===null?b=hu(l):(w=b.cachePool,w!==null?(A=Ht._currentValue,w=w.parent!==A?{parent:A,pool:A}:w):w=Vf(),b={baseLanes:b.baseLanes|l,cachePool:w}),h.memoizedState=b,h.childLanes=cu(e,p,l),s.memoizedState=uu,o):(Oi(s),l=e.child,e=l.sibling,l=ei(l,{mode:"visible",children:o.children}),l.return=s,l.sibling=null,e!==null&&(p=s.deletions,p===null?(s.deletions=[e],s.flags|=16):p.push(e)),s.child=l,s.memoizedState=null,l)}function fu(e,s){return s=Pr({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Pr(e,s){return e=Ee(22,e,null,s),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function du(e,s,l){return Zs(s,e.child,null,l),e=fu(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function sg(e,s,l){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s),zo(e.return,s,l)}function gu(e,s,l,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:l,tailMode:h}:(f.isBackwards=s,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=l,f.tailMode=h)}function ng(e,s,l){var o=s.pendingProps,h=o.revealOrder,f=o.tail;if(Ft(e,s,o.children,l),o=$t.current,(o&2)!==0)o=o&1|2,s.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sg(e,l,s);else if(e.tag===19)sg(e,l,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Q($t,o),h){case"forwards":for(l=s.child,h=null;l!==null;)e=l.alternate,e!==null&&Ur(e)===null&&(h=l),l=l.sibling;l=h,l===null?(h=s.child,s.child=null):(h=l.sibling,l.sibling=null),gu(s,!1,h,l,f);break;case"backwards":for(l=null,h=s.child,s.child=null;h!==null;){if(e=h.alternate,e!==null&&Ur(e)===null){s.child=h;break}e=h.sibling,h.sibling=l,l=h,h=e}gu(s,!0,l,null,f);break;case"together":gu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function oi(e,s,l){if(e!==null&&(s.dependencies=e.dependencies),ji|=s.lanes,(l&s.childLanes)===0)if(e!==null){if(tl(e,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(n(153));if(s.child!==null){for(e=s.child,l=ei(e,e.pendingProps),s.child=l,l.return=s;e.sibling!==null;)e=e.sibling,l=l.sibling=ei(e,e.pendingProps),l.return=s;l.sibling=null}return s.child}function vu(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&_r(e)))}function Sy(e,s,l){switch(s.tag){case 3:zt(s,s.stateNode.containerInfo),wi(s,Ht,e.memoizedState.cache),In();break;case 27:case 5:Ha(s);break;case 4:zt(s,s.stateNode.containerInfo);break;case 10:wi(s,s.type,s.memoizedProps.value);break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(Oi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?ig(e,s,l):(Oi(s),e=oi(e,s,l),e!==null?e.sibling:null);Oi(s);break;case 19:var h=(e.flags&128)!==0;if(o=(l&s.childLanes)!==0,o||(tl(e,s,l,!1),o=(l&s.childLanes)!==0),h){if(o)return ng(e,s,l);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Q($t,$t.current),o)break;return null;case 22:case 23:return s.lanes=0,Wd(e,s,l);case 24:wi(s,Ht,e.memoizedState.cache)}return oi(e,s,l)}function lg(e,s,l){if(e!==null)if(e.memoizedProps!==s.pendingProps)Kt=!0;else{if(!vu(e,l)&&(s.flags&128)===0)return Kt=!1,Sy(e,s,l);Kt=(e.flags&131072)!==0}else Kt=!1,bt&&(s.flags&1048576)!==0&&Nf(s,br,s.index);switch(s.lanes=0,s.tag){case 16:t:{e=s.pendingProps;var o=s.elementType,h=o._init;if(o=h(o._payload),s.type=o,typeof o=="function")To(o)?(e=hs(o,e),s.tag=1,s=tg(null,s,o,e,l)):(s.tag=0,s=ou(null,s,o,e,l));else{if(o!=null){if(h=o.$$typeof,h===H){s.tag=11,s=Jd(null,s,o,e,l);break t}else if(h===I){s.tag=14,s=Kd(null,s,o,e,l);break t}}throw s=Xt(o)||o,Error(n(306,s,""))}}return s;case 0:return ou(e,s,s.type,s.pendingProps,l);case 1:return o=s.type,h=hs(o,s.pendingProps),tg(e,s,o,h,l);case 3:t:{if(zt(s,s.stateNode.containerInfo),e===null)throw Error(n(387));o=s.pendingProps;var f=s.memoizedState;h=f.element,Bo(e,s),al(s,o,null,l);var p=s.memoizedState;if(o=p.cache,wi(s,Ht,o),o!==f.cache&&jo(s,[Ht],l,!0),rl(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=eg(e,s,o,l);break t}else if(o!==h){h=je(Error(n(424)),s),Fn(h),s=eg(e,s,o,l);break t}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Nt=Ve(e.firstChild),he=s,bt=!0,ns=null,Ge=!0,l=Ld(s,null,o,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(In(),o===h){s=oi(e,s,l);break t}Ft(e,s,o,l)}s=s.child}return s;case 26:return qr(e,s),e===null?(l=uv(s.type,null,s.pendingProps,null))?s.memoizedState=l:bt||(l=s.type,e=s.pendingProps,o=ta(st.current).createElement(l),o[re]=s,o[fe]=e,ee(o,l,e),Jt(o),s.stateNode=o):s.memoizedState=uv(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return Ha(s),e===null&&bt&&(o=s.stateNode=rv(s.type,s.pendingProps,st.current),he=s,Ge=!0,h=Nt,Ui(s.type)?(Ku=h,Nt=Ve(o.firstChild)):Nt=h),Ft(e,s,s.pendingProps.children,l),qr(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&bt&&((h=o=Nt)&&(o=Zy(o,s.type,s.pendingProps,Ge),o!==null?(s.stateNode=o,he=s,Nt=Ve(o.firstChild),Ge=!1,h=!0):h=!1),h||ls(s)),Ha(s),h=s.type,f=s.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Gu(h,f)?o=null:p!==null&&Gu(h,p)&&(s.flags|=32),s.memoizedState!==null&&(h=$o(e,s,gy,null,null,l),Al._currentValue=h),qr(e,s),Ft(e,s,o,l),s.child;case 6:return e===null&&bt&&((e=l=Nt)&&(l=Wy(l,s.pendingProps,Ge),l!==null?(s.stateNode=l,he=s,Nt=null,e=!0):e=!1),e||ls(s)),null;case 13:return ig(e,s,l);case 4:return zt(s,s.stateNode.containerInfo),o=s.pendingProps,e===null?s.child=Zs(s,null,o,l):Ft(e,s,o,l),s.child;case 11:return Jd(e,s,s.type,s.pendingProps,l);case 7:return Ft(e,s,s.pendingProps,l),s.child;case 8:return Ft(e,s,s.pendingProps.children,l),s.child;case 12:return Ft(e,s,s.pendingProps.children,l),s.child;case 10:return o=s.pendingProps,wi(s,s.type,o.value),Ft(e,s,o.children,l),s.child;case 9:return h=s.type._context,o=s.pendingProps.children,as(s),h=ae(h),o=o(h),s.flags|=1,Ft(e,s,o,l),s.child;case 14:return Kd(e,s,s.type,s.pendingProps,l);case 15:return Zd(e,s,s.type,s.pendingProps,l);case 19:return ng(e,s,l);case 31:return o=s.pendingProps,l=s.mode,o={mode:o.mode,children:o.children},e===null?(l=Pr(o,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=ei(e.child,o),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return Wd(e,s,l);case 24:return as(s),o=ae(Ht),e===null?(h=No(),h===null&&(h=Mt,f=ko(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=l),h=f),s.memoizedState={parent:o,cache:h},Lo(s),wi(s,Ht,h)):((e.lanes&l)!==0&&(Bo(e,s),al(s,null,null,l),rl()),h=e.memoizedState,f=s.memoizedState,h.parent!==o?(h={parent:o,cache:o},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),wi(s,Ht,o)):(o=f.cache,wi(s,Ht,o),o!==h.cache&&jo(s,[Ht],l,!0))),Ft(e,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function ui(e){e.flags|=4}function rg(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gv(s)){if(s=Ue.current,s!==null&&((dt&4194048)===dt?Qe!==null:(dt&62914560)!==dt&&(dt&536870912)===0||s!==Qe))throw nl=Uo,Hf;e.flags|=8192}}function Yr(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Lc():536870912,e.lanes|=s,tn|=s)}function gl(e,s){if(!bt)switch(e.tailMode){case"hidden":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Dt(e){var s=e.alternate!==null&&e.alternate.child===e.child,l=0,o=0;if(s)for(var h=e.child;h!==null;)l|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)l|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=l,s}function Ey(e,s,l){var o=s.pendingProps;switch(Ro(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(s),null;case 1:return Dt(s),null;case 3:return l=s.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),li(Ht),pi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Wn(s)?ui(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bf())),Dt(s),null;case 26:return l=s.memoizedState,e===null?(ui(s),l!==null?(Dt(s),rg(s,l)):(Dt(s),s.flags&=-16777217)):l?l!==e.memoizedState?(ui(s),Dt(s),rg(s,l)):(Dt(s),s.flags&=-16777217):(e.memoizedProps!==o&&ui(s),Dt(s),s.flags&=-16777217),null;case 27:Il(s),l=st.current;var h=s.type;if(e!==null&&s.stateNode!=null)e.memoizedProps!==o&&ui(s);else{if(!o){if(s.stateNode===null)throw Error(n(166));return Dt(s),null}e=F.current,Wn(s)?Uf(s):(e=rv(h,o,l),s.stateNode=e,ui(s))}return Dt(s),null;case 5:if(Il(s),l=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==o&&ui(s);else{if(!o){if(s.stateNode===null)throw Error(n(166));return Dt(s),null}if(e=F.current,Wn(s))Uf(s);else{switch(h=ta(st.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(l,{is:o.is}):h.createElement(l)}}e[re]=s,e[fe]=o;t:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break t;for(;h.sibling===null;){if(h.return===null||h.return===s)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=e;t:switch(ee(e,l,o),l){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ui(s)}}return Dt(s),s.flags&=-16777217,null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==o&&ui(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(n(166));if(e=st.current,Wn(s)){if(e=s.stateNode,l=s.memoizedProps,o=null,h=he,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[re]=s,e=!!(e.nodeValue===l||o!==null&&o.suppressHydrationWarning===!0||Fg(e.nodeValue,l)),e||ls(s)}else e=ta(e).createTextNode(o),e[re]=s,s.stateNode=e}return Dt(s),null;case 13:if(o=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Wn(s),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(n(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[re]=s}else In(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Dt(s),h=!1}else h=Bf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(ai(s),s):(ai(s),null)}if(ai(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=o!==null,e=e!==null&&e.memoizedState!==null,l){o=s.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return l!==e&&l&&(s.child.flags|=8192),Yr(s,s.updateQueue),Dt(s),null;case 4:return pi(),e===null&&Pu(s.stateNode.containerInfo),Dt(s),null;case 10:return li(s.type),Dt(s),null;case 19:if(X($t),h=s.memoizedState,h===null)return Dt(s),null;if(o=(s.flags&128)!==0,f=h.rendering,f===null)if(o)gl(h,!1);else{if(Ut!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(f=Ur(e),f!==null){for(s.flags|=128,gl(h,!1),e=f.updateQueue,s.updateQueue=e,Yr(s,e),s.subtreeFlags=0,e=l,l=s.child;l!==null;)Df(l,e),l=l.sibling;return Q($t,$t.current&1|2),s.child}e=e.sibling}h.tail!==null&&$e()>$r&&(s.flags|=128,o=!0,gl(h,!1),s.lanes=4194304)}else{if(!o)if(e=Ur(f),e!==null){if(s.flags|=128,o=!0,e=e.updateQueue,s.updateQueue=e,Yr(s,e),gl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!bt)return Dt(s),null}else 2*$e()-h.renderingStartTime>$r&&l!==536870912&&(s.flags|=128,o=!0,gl(h,!1),s.lanes=4194304);h.isBackwards?(f.sibling=s.child,s.child=f):(e=h.last,e!==null?e.sibling=f:s.child=f,h.last=f)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=$e(),s.sibling=null,e=$t.current,Q($t,o?e&1|2:e&1),s):(Dt(s),null);case 22:case 23:return ai(s),Vo(),o=s.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(l&536870912)!==0&&(s.flags&128)===0&&(Dt(s),s.subtreeFlags&6&&(s.flags|=8192)):Dt(s),l=s.updateQueue,l!==null&&Yr(s,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==l&&(s.flags|=2048),e!==null&&X(os),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),li(Ht),Dt(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function Ty(e,s){switch(Ro(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return li(Ht),pi(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return Il(s),null;case 13:if(ai(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(n(340));In()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return X($t),null;case 4:return pi(),null;case 10:return li(s.type),null;case 22:case 23:return ai(s),Vo(),e!==null&&X(os),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return li(Ht),null;case 25:return null;default:return null}}function ag(e,s){switch(Ro(s),s.tag){case 3:li(Ht),pi();break;case 26:case 27:case 5:Il(s);break;case 4:pi();break;case 13:ai(s);break;case 19:X($t);break;case 10:li(s.type);break;case 22:case 23:ai(s),Vo(),e!==null&&X(os);break;case 24:li(Ht)}}function vl(e,s){try{var l=s.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var h=o.next;l=h;do{if((l.tag&e)===e){o=void 0;var f=l.create,p=l.inst;o=f(),p.destroy=o}l=l.next}while(l!==h)}}catch(b){xt(s,s.return,b)}}function Ri(e,s,l){try{var o=s.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,h=s;var w=l,A=b;try{A()}catch(D){xt(h,w,D)}}}o=o.next}while(o!==f)}}catch(D){xt(s,s.return,D)}}function og(e){var s=e.updateQueue;if(s!==null){var l=e.stateNode;try{Kf(s,l)}catch(o){xt(e,e.return,o)}}}function ug(e,s,l){l.props=hs(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(o){xt(e,s,o)}}function ml(e,s){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof l=="function"?e.refCleanup=l(o):l.current=o}}catch(h){xt(e,s,h)}}function Xe(e,s){var l=e.ref,o=e.refCleanup;if(l!==null)if(typeof o=="function")try{o()}catch(h){xt(e,s,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){xt(e,s,h)}else l.current=null}function hg(e){var s=e.type,l=e.memoizedProps,o=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&o.focus();break t;case"img":l.src?o.src=l.src:l.srcSet&&(o.srcset=l.srcSet)}}catch(h){xt(e,e.return,h)}}function mu(e,s,l){try{var o=e.stateNode;Gy(o,e.type,l,s),o[fe]=s}catch(h){xt(e,e.return,h)}}function cg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ui(e.type)||e.tag===4}function pu(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||cg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ui(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,s,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(e),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Fr));else if(o!==4&&(o===27&&Ui(e.type)&&(l=e.stateNode,s=null),e=e.child,e!==null))for(yu(e,s,l),e=e.sibling;e!==null;)yu(e,s,l),e=e.sibling}function Vr(e,s,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,s?l.insertBefore(e,s):l.appendChild(e);else if(o!==4&&(o===27&&Ui(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Vr(e,s,l),e=e.sibling;e!==null;)Vr(e,s,l),e=e.sibling}function fg(e){var s=e.stateNode,l=e.memoizedProps;try{for(var o=e.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);ee(s,o,l),s[re]=e,s[fe]=l}catch(f){xt(e,e.return,f)}}var hi=!1,Bt=!1,bu=!1,dg=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function xy(e,s){if(e=e.containerInfo,Hu=ra,e=Tf(e),po(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else t:{l=(l=e.ownerDocument)&&l.defaultView||window;var o=l.getSelection&&l.getSelection();if(o&&o.rangeCount!==0){l=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{l.nodeType,f.nodeType}catch{l=null;break t}var p=0,b=-1,w=-1,A=0,D=0,B=e,C=null;e:for(;;){for(var z;B!==l||h!==0&&B.nodeType!==3||(b=p+h),B!==f||o!==0&&B.nodeType!==3||(w=p+o),B.nodeType===3&&(p+=B.nodeValue.length),(z=B.firstChild)!==null;)C=B,B=z;for(;;){if(B===e)break e;if(C===l&&++A===h&&(b=p),C===f&&++D===o&&(w=p),(z=B.nextSibling)!==null)break;B=C,C=B.parentNode}B=z}l=b===-1||w===-1?null:{start:b,end:w}}else l=null}l=l||{start:0,end:0}}else l=null;for($u={focusedElem:e,selectionRange:l},ra=!1,Zt=s;Zt!==null;)if(s=Zt,e=s.child,(s.subtreeFlags&1024)!==0&&e!==null)e.return=s,Zt=e;else for(;Zt!==null;){switch(s=Zt,f=s.alternate,e=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,l=s,h=f.memoizedProps,f=f.memoizedState,o=l.stateNode;try{var it=hs(l.type,h,l.elementType===l.type);e=o.getSnapshotBeforeUpdate(it,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(tt){xt(l,l.return,tt)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,l=e.nodeType,l===9)Xu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(n(163))}if(e=s.sibling,e!==null){e.return=s.return,Zt=e;break}Zt=s.return}}function gg(e,s,l){var o=l.flags;switch(l.tag){case 0:case 11:case 15:Ai(e,l),o&4&&vl(5,l);break;case 1:if(Ai(e,l),o&4)if(e=l.stateNode,s===null)try{e.componentDidMount()}catch(p){xt(l,l.return,p)}else{var h=hs(l.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(h,s,e.__reactInternalSnapshotBeforeUpdate)}catch(p){xt(l,l.return,p)}}o&64&&og(l),o&512&&ml(l,l.return);break;case 3:if(Ai(e,l),o&64&&(e=l.updateQueue,e!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Kf(e,s)}catch(p){xt(l,l.return,p)}}break;case 27:s===null&&o&4&&fg(l);case 26:case 5:Ai(e,l),s===null&&o&4&&hg(l),o&512&&ml(l,l.return);break;case 12:Ai(e,l);break;case 13:Ai(e,l),o&4&&pg(e,l),o&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Dy.bind(null,l),Iy(e,l))));break;case 22:if(o=l.memoizedState!==null||hi,!o){s=s!==null&&s.memoizedState!==null||Bt,h=hi;var f=Bt;hi=o,(Bt=s)&&!f?Ci(e,l,(l.subtreeFlags&8772)!==0):Ai(e,l),hi=h,Bt=f}break;case 30:break;default:Ai(e,l)}}function vg(e){var s=e.alternate;s!==null&&(e.alternate=null,vg(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&Wa(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var jt=null,ve=!1;function ci(e,s,l){for(l=l.child;l!==null;)mg(e,s,l),l=l.sibling}function mg(e,s,l){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(Ln,l)}catch{}switch(l.tag){case 26:Bt||Xe(l,s),ci(e,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Bt||Xe(l,s);var o=jt,h=ve;Ui(l.type)&&(jt=l.stateNode,ve=!1),ci(e,s,l),xl(l.stateNode),jt=o,ve=h;break;case 5:Bt||Xe(l,s);case 6:if(o=jt,h=ve,jt=null,ci(e,s,l),jt=o,ve=h,jt!==null)if(ve)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(l.stateNode)}catch(f){xt(l,s,f)}else try{jt.removeChild(l.stateNode)}catch(f){xt(l,s,f)}break;case 18:jt!==null&&(ve?(e=jt,nv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),kl(e)):nv(jt,l.stateNode));break;case 4:o=jt,h=ve,jt=l.stateNode.containerInfo,ve=!0,ci(e,s,l),jt=o,ve=h;break;case 0:case 11:case 14:case 15:Bt||Ri(2,l,s),Bt||Ri(4,l,s),ci(e,s,l);break;case 1:Bt||(Xe(l,s),o=l.stateNode,typeof o.componentWillUnmount=="function"&&ug(l,s,o)),ci(e,s,l);break;case 21:ci(e,s,l);break;case 22:Bt=(o=Bt)||l.memoizedState!==null,ci(e,s,l),Bt=o;break;default:ci(e,s,l)}}function pg(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{kl(e)}catch(l){xt(s,s.return,l)}}function Oy(e){switch(e.tag){case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new dg),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new dg),s;default:throw Error(n(435,e.tag))}}function _u(e,s){var l=Oy(e);s.forEach(function(o){var h=Ny.bind(null,e,o);l.has(o)||(l.add(o),o.then(h,h))})}function Te(e,s){var l=s.deletions;if(l!==null)for(var o=0;o<l.length;o++){var h=l[o],f=e,p=s,b=p;t:for(;b!==null;){switch(b.tag){case 27:if(Ui(b.type)){jt=b.stateNode,ve=!1;break t}break;case 5:jt=b.stateNode,ve=!1;break t;case 3:case 4:jt=b.stateNode.containerInfo,ve=!0;break t}b=b.return}if(jt===null)throw Error(n(160));mg(f,p,h),jt=null,ve=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)yg(s,e),s=s.sibling}var Ye=null;function yg(e,s){var l=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Te(s,e),xe(e),o&4&&(Ri(3,e,e.return),vl(3,e),Ri(5,e,e.return));break;case 1:Te(s,e),xe(e),o&512&&(Bt||l===null||Xe(l,l.return)),o&64&&hi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?o:l.concat(o))));break;case 26:var h=Ye;if(Te(s,e),xe(e),o&512&&(Bt||l===null||Xe(l,l.return)),o&4){var f=l!==null?l.memoizedState:null;if(o=e.memoizedState,l===null)if(o===null)if(e.stateNode===null){t:{o=e.type,l=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Pn]||f[re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),ee(f,o,l),f[re]=e,Jt(f),o=f;break t;case"link":var p=fv("link","href",h).get(o+(l.href||""));if(p){for(var b=0;b<p.length;b++)if(f=p[b],f.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&f.getAttribute("rel")===(l.rel==null?null:l.rel)&&f.getAttribute("title")===(l.title==null?null:l.title)&&f.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){p.splice(b,1);break e}}f=h.createElement(o),ee(f,o,l),h.head.appendChild(f);break;case"meta":if(p=fv("meta","content",h).get(o+(l.content||""))){for(b=0;b<p.length;b++)if(f=p[b],f.getAttribute("content")===(l.content==null?null:""+l.content)&&f.getAttribute("name")===(l.name==null?null:l.name)&&f.getAttribute("property")===(l.property==null?null:l.property)&&f.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&f.getAttribute("charset")===(l.charSet==null?null:l.charSet)){p.splice(b,1);break e}}f=h.createElement(o),ee(f,o,l),h.head.appendChild(f);break;default:throw Error(n(468,o))}f[re]=e,Jt(f),o=f}e.stateNode=o}else dv(h,e.type,e.stateNode);else e.stateNode=cv(h,o,e.memoizedProps);else f!==o?(f===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):f.count--,o===null?dv(h,e.type,e.stateNode):cv(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&mu(e,e.memoizedProps,l.memoizedProps)}break;case 27:Te(s,e),xe(e),o&512&&(Bt||l===null||Xe(l,l.return)),l!==null&&o&4&&mu(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Te(s,e),xe(e),o&512&&(Bt||l===null||Xe(l,l.return)),e.flags&32){h=e.stateNode;try{js(h,"")}catch(z){xt(e,e.return,z)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,mu(e,h,l!==null?l.memoizedProps:h)),o&1024&&(bu=!0);break;case 6:if(Te(s,e),xe(e),o&4){if(e.stateNode===null)throw Error(n(162));o=e.memoizedProps,l=e.stateNode;try{l.nodeValue=o}catch(z){xt(e,e.return,z)}}break;case 3:if(sa=null,h=Ye,Ye=ea(s.containerInfo),Te(s,e),Ye=h,xe(e),o&4&&l!==null&&l.memoizedState.isDehydrated)try{kl(s.containerInfo)}catch(z){xt(e,e.return,z)}bu&&(bu=!1,bg(e));break;case 4:o=Ye,Ye=ea(e.stateNode.containerInfo),Te(s,e),xe(e),Ye=o;break;case 12:Te(s,e),xe(e);break;case 13:Te(s,e),xe(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ou=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,_u(e,o)));break;case 22:h=e.memoizedState!==null;var w=l!==null&&l.memoizedState!==null,A=hi,D=Bt;if(hi=A||h,Bt=D||w,Te(s,e),Bt=D,hi=A,xe(e),o&8192)t:for(s=e.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(l===null||w||hi||Bt||cs(e)),l=null,s=e;;){if(s.tag===5||s.tag===26){if(l===null){w=l=s;try{if(f=w.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=w.stateNode;var B=w.memoizedProps.style,C=B!=null&&B.hasOwnProperty("display")?B.display:null;b.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(z){xt(w,w.return,z)}}}else if(s.tag===6){if(l===null){w=s;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(z){xt(w,w.return,z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=e.updateQueue,o!==null&&(l=o.retryQueue,l!==null&&(o.retryQueue=null,_u(e,l))));break;case 19:Te(s,e),xe(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,_u(e,o)));break;case 30:break;case 21:break;default:Te(s,e),xe(e)}}function xe(e){var s=e.flags;if(s&2){try{for(var l,o=e.return;o!==null;){if(cg(o)){l=o;break}o=o.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var h=l.stateNode,f=pu(e);Vr(e,f,h);break;case 5:var p=l.stateNode;l.flags&32&&(js(p,""),l.flags&=-33);var b=pu(e);Vr(e,b,p);break;case 3:case 4:var w=l.stateNode.containerInfo,A=pu(e);yu(e,A,w);break;default:throw Error(n(161))}}catch(D){xt(e,e.return,D)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function bg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;bg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function Ai(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)gg(e,s.alternate,s),s=s.sibling}function cs(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:Ri(4,s,s.return),cs(s);break;case 1:Xe(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&ug(s,s.return,l),cs(s);break;case 27:xl(s.stateNode);case 26:case 5:Xe(s,s.return),cs(s);break;case 22:s.memoizedState===null&&cs(s);break;case 30:cs(s);break;default:cs(s)}e=e.sibling}}function Ci(e,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,h=e,f=s,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ci(h,f,l),vl(4,f);break;case 1:if(Ci(h,f,l),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(A){xt(o,o.return,A)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Jf(w[h],b)}catch(A){xt(o,o.return,A)}}l&&p&64&&og(f),ml(f,f.return);break;case 27:fg(f);case 26:case 5:Ci(h,f,l),l&&o===null&&p&4&&hg(f),ml(f,f.return);break;case 12:Ci(h,f,l);break;case 13:Ci(h,f,l),l&&p&4&&pg(h,f);break;case 22:f.memoizedState===null&&Ci(h,f,l),ml(f,f.return);break;case 30:break;default:Ci(h,f,l)}s=s.sibling}}function wu(e,s){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&el(l))}function Su(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&el(e))}function Je(e,s,l,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_g(e,s,l,o),s=s.sibling}function _g(e,s,l,o){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Je(e,s,l,o),h&2048&&vl(9,s);break;case 1:Je(e,s,l,o);break;case 3:Je(e,s,l,o),h&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&el(e)));break;case 12:if(h&2048){Je(e,s,l,o),e=s.stateNode;try{var f=s.memoizedProps,p=f.id,b=f.onPostCommit;typeof b=="function"&&b(p,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){xt(s,s.return,w)}}else Je(e,s,l,o);break;case 13:Je(e,s,l,o);break;case 23:break;case 22:f=s.stateNode,p=s.alternate,s.memoizedState!==null?f._visibility&2?Je(e,s,l,o):pl(e,s):f._visibility&2?Je(e,s,l,o):(f._visibility|=2,Ws(e,s,l,o,(s.subtreeFlags&10256)!==0)),h&2048&&wu(p,s);break;case 24:Je(e,s,l,o),h&2048&&Su(s.alternate,s);break;default:Je(e,s,l,o)}}function Ws(e,s,l,o,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var f=e,p=s,b=l,w=o,A=p.flags;switch(p.tag){case 0:case 11:case 15:Ws(f,p,b,w,h),vl(8,p);break;case 23:break;case 22:var D=p.stateNode;p.memoizedState!==null?D._visibility&2?Ws(f,p,b,w,h):pl(f,p):(D._visibility|=2,Ws(f,p,b,w,h)),h&&A&2048&&wu(p.alternate,p);break;case 24:Ws(f,p,b,w,h),h&&A&2048&&Su(p.alternate,p);break;default:Ws(f,p,b,w,h)}s=s.sibling}}function pl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=e,o=s,h=o.flags;switch(o.tag){case 22:pl(l,o),h&2048&&wu(o.alternate,o);break;case 24:pl(l,o),h&2048&&Su(o.alternate,o);break;default:pl(l,o)}s=s.sibling}}var yl=8192;function Is(e){if(e.subtreeFlags&yl)for(e=e.child;e!==null;)wg(e),e=e.sibling}function wg(e){switch(e.tag){case 26:Is(e),e.flags&yl&&e.memoizedState!==null&&cb(Ye,e.memoizedState,e.memoizedProps);break;case 5:Is(e);break;case 3:case 4:var s=Ye;Ye=ea(e.stateNode.containerInfo),Is(e),Ye=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=yl,yl=16777216,Is(e),yl=s):Is(e));break;default:Is(e)}}function Sg(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function bl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var o=s[l];Zt=o,Tg(o,e)}Sg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Eg(e),e=e.sibling}function Eg(e){switch(e.tag){case 0:case 11:case 15:bl(e),e.flags&2048&&Ri(9,e,e.return);break;case 3:bl(e);break;case 12:bl(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,Hr(e)):bl(e);break;default:bl(e)}}function Hr(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var o=s[l];Zt=o,Tg(o,e)}Sg(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:Ri(8,s,s.return),Hr(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Hr(s));break;default:Hr(s)}e=e.sibling}}function Tg(e,s){for(;Zt!==null;){var l=Zt;switch(l.tag){case 0:case 11:case 15:Ri(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var o=l.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:el(l.memoizedState.cache)}if(o=l.child,o!==null)o.return=l,Zt=o;else t:for(l=e;Zt!==null;){o=Zt;var h=o.sibling,f=o.return;if(vg(o),o===l){Zt=null;break t}if(h!==null){h.return=f,Zt=h;break t}Zt=f}}}var My={getCacheForType:function(e){var s=ae(Ht),l=s.data.get(e);return l===void 0&&(l=e(),s.data.set(e,l)),l}},Ry=typeof WeakMap=="function"?WeakMap:Map,_t=0,Mt=null,ut=null,dt=0,wt=0,Oe=null,zi=!1,Fs=!1,Eu=!1,fi=0,Ut=0,ji=0,fs=0,Tu=0,Le=0,tn=0,_l=null,me=null,xu=!1,Ou=0,$r=1/0,Gr=null,ki=null,te=0,Di=null,en=null,sn=0,Mu=0,Ru=null,xg=null,wl=0,Au=null;function Me(){if((_t&2)!==0&&dt!==0)return dt&-dt;if(k.T!==null){var e=Hs;return e!==0?e:Uu()}return Pc()}function Og(){Le===0&&(Le=(dt&536870912)===0||bt?Uc():536870912);var e=Ue.current;return e!==null&&(e.flags|=32),Le}function Re(e,s,l){(e===Mt&&(wt===2||wt===9)||e.cancelPendingCommit!==null)&&(nn(e,0),Ni(e,dt,Le,!1)),qn(e,l),((_t&2)===0||e!==Mt)&&(e===Mt&&((_t&2)===0&&(fs|=l),Ut===4&&Ni(e,dt,Le,!1)),Ke(e))}function Mg(e,s,l){if((_t&6)!==0)throw Error(n(327));var o=!l&&(s&124)===0&&(s&e.expiredLanes)===0||Bn(e,s),h=o?zy(e,s):ju(e,s,!0),f=o;do{if(h===0){Fs&&!o&&Ni(e,s,0,!1);break}else{if(l=e.current.alternate,f&&!Ay(l)){h=ju(e,s,!1),f=!1;continue}if(h===2){if(f=s,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){s=p;t:{var b=e;h=_l;var w=b.current.memoizedState.isDehydrated;if(w&&(nn(b,p).flags|=256),p=ju(b,p,!1),p!==2){if(Eu&&!w){b.errorRecoveryDisabledLanes|=f,fs|=f,h=4;break t}f=me,me=h,f!==null&&(me===null?me=f:me.push.apply(me,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){nn(e,0),Ni(e,s,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:Ni(o,s,Le,!zi);break t;case 2:me=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(h=Ou+300-$e(),10<h)){if(Ni(o,s,Le,!zi),ir(o,0,!0)!==0)break t;o.timeoutHandle=iv(Rg.bind(null,o,l,me,Gr,xu,s,Le,fs,tn,zi,f,2,-0,0),h);break t}Rg(o,l,me,Gr,xu,s,Le,fs,tn,zi,f,0,-0,0)}}break}while(!0);Ke(e)}function Rg(e,s,l,o,h,f,p,b,w,A,D,B,C,z){if(e.timeoutHandle=-1,B=s.subtreeFlags,(B&8192||(B&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:hb},wg(s),B=fb(),B!==null)){e.cancelPendingCommit=B(Ng.bind(null,e,s,f,l,o,h,p,b,w,D,1,C,z)),Ni(e,f,p,!A);return}Ng(e,s,f,l,o,h,p,b,w)}function Ay(e){for(var s=e;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var o=0;o<l.length;o++){var h=l[o],f=h.getSnapshot;h=h.value;try{if(!Se(f(),h))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ni(e,s,l,o){s&=~Tu,s&=~fs,e.suspendedLanes|=s,e.pingedLanes&=~s,o&&(e.warmLanes|=s),o=e.expirationTimes;for(var h=s;0<h;){var f=31-we(h),p=1<<f;o[f]=-1,h&=~p}l!==0&&Bc(e,l,s)}function Qr(){return(_t&6)===0?(Sl(0),!1):!0}function Cu(){if(ut!==null){if(wt===0)var e=ut.return;else e=ut,ni=rs=null,Xo(e),Ks=null,fl=0,e=ut;for(;e!==null;)ag(e.alternate,e),e=e.return;ut=null}}function nn(e,s){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Xy(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Cu(),Mt=e,ut=l=ei(e.current,null),dt=s,wt=0,Oe=null,zi=!1,Fs=Bn(e,s),Eu=!1,tn=Le=Tu=fs=ji=Ut=0,me=_l=null,xu=!1,(s&8)!==0&&(s|=s&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=s;0<o;){var h=31-we(o),f=1<<h;s|=e[h],o&=~f}return fi=s,gr(),l}function Ag(e,s){rt=null,k.H=kr,s===sl||s===Er?(s=Qf(),wt=3):s===Hf?(s=Qf(),wt=4):wt=s===Xd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Oe=s,ut===null&&(Ut=1,Br(e,je(s,e.current)))}function Cg(){var e=k.H;return k.H=kr,e===null?kr:e}function zg(){var e=k.A;return k.A=My,e}function zu(){Ut=4,zi||(dt&4194048)!==dt&&Ue.current!==null||(Fs=!0),(ji&134217727)===0&&(fs&134217727)===0||Mt===null||Ni(Mt,dt,Le,!1)}function ju(e,s,l){var o=_t;_t|=2;var h=Cg(),f=zg();(Mt!==e||dt!==s)&&(Gr=null,nn(e,s)),s=!1;var p=Ut;t:do try{if(wt!==0&&ut!==null){var b=ut,w=Oe;switch(wt){case 8:Cu(),p=6;break t;case 3:case 2:case 9:case 6:Ue.current===null&&(s=!0);var A=wt;if(wt=0,Oe=null,ln(e,b,w,A),l&&Fs){p=0;break t}break;default:A=wt,wt=0,Oe=null,ln(e,b,w,A)}}Cy(),p=Ut;break}catch(D){Ag(e,D)}while(!0);return s&&e.shellSuspendCounter++,ni=rs=null,_t=o,k.H=h,k.A=f,ut===null&&(Mt=null,dt=0,gr()),p}function Cy(){for(;ut!==null;)jg(ut)}function zy(e,s){var l=_t;_t|=2;var o=Cg(),h=zg();Mt!==e||dt!==s?(Gr=null,$r=$e()+500,nn(e,s)):Fs=Bn(e,s);t:do try{if(wt!==0&&ut!==null){s=ut;var f=Oe;e:switch(wt){case 1:wt=0,Oe=null,ln(e,s,f,1);break;case 2:case 9:if($f(f)){wt=0,Oe=null,kg(s);break}s=function(){wt!==2&&wt!==9||Mt!==e||(wt=7),Ke(e)},f.then(s,s);break t;case 3:wt=7;break t;case 4:wt=5;break t;case 7:$f(f)?(wt=0,Oe=null,kg(s)):(wt=0,Oe=null,ln(e,s,f,7));break;case 5:var p=null;switch(ut.tag){case 26:p=ut.memoizedState;case 5:case 27:var b=ut;if(!p||gv(p)){wt=0,Oe=null;var w=b.sibling;if(w!==null)ut=w;else{var A=b.return;A!==null?(ut=A,Xr(A)):ut=null}break e}}wt=0,Oe=null,ln(e,s,f,5);break;case 6:wt=0,Oe=null,ln(e,s,f,6);break;case 8:Cu(),Ut=6;break t;default:throw Error(n(462))}}jy();break}catch(D){Ag(e,D)}while(!0);return ni=rs=null,k.H=o,k.A=h,_t=l,ut!==null?0:(Mt=null,dt=0,gr(),Ut)}function jy(){for(;ut!==null&&!t0();)jg(ut)}function jg(e){var s=lg(e.alternate,e,fi);e.memoizedProps=e.pendingProps,s===null?Xr(e):ut=s}function kg(e){var s=e,l=s.alternate;switch(s.tag){case 15:case 0:s=Fd(l,s,s.pendingProps,s.type,void 0,dt);break;case 11:s=Fd(l,s,s.pendingProps,s.type.render,s.ref,dt);break;case 5:Xo(s);default:ag(l,s),s=ut=Df(s,fi),s=lg(l,s,fi)}e.memoizedProps=e.pendingProps,s===null?Xr(e):ut=s}function ln(e,s,l,o){ni=rs=null,Xo(s),Ks=null,fl=0;var h=s.return;try{if(wy(e,h,s,l,dt)){Ut=1,Br(e,je(l,e.current)),ut=null;return}}catch(f){if(h!==null)throw ut=h,f;Ut=1,Br(e,je(l,e.current)),ut=null;return}s.flags&32768?(bt||o===1?e=!0:Fs||(dt&536870912)!==0?e=!1:(zi=e=!0,(o===2||o===9||o===3||o===6)&&(o=Ue.current,o!==null&&o.tag===13&&(o.flags|=16384))),Dg(s,e)):Xr(s)}function Xr(e){var s=e;do{if((s.flags&32768)!==0){Dg(s,zi);return}e=s.return;var l=Ey(s.alternate,s,fi);if(l!==null){ut=l;return}if(s=s.sibling,s!==null){ut=s;return}ut=s=e}while(s!==null);Ut===0&&(Ut=5)}function Dg(e,s){do{var l=Ty(e.alternate,e);if(l!==null){l.flags&=32767,ut=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(e=e.sibling,e!==null)){ut=e;return}ut=e=l}while(e!==null);Ut=6,ut=null}function Ng(e,s,l,o,h,f,p,b,w){e.cancelPendingCommit=null;do Jr();while(te!==0);if((_t&6)!==0)throw Error(n(327));if(s!==null){if(s===e.current)throw Error(n(177));if(f=s.lanes|s.childLanes,f|=So,h0(e,l,f,p,b,w),e===Mt&&(ut=Mt=null,dt=0),en=s,Di=e,sn=l,Mu=f,Ru=h,xg=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Uy(Fl,function(){return Pg(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=k.T,k.T=null,h=$.p,$.p=2,p=_t,_t|=4;try{xy(e,s,l)}finally{_t=p,$.p=h,k.T=o}}te=1,Ug(),Lg(),Bg()}}function Ug(){if(te===1){te=0;var e=Di,s=en,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=k.T,k.T=null;var o=$.p;$.p=2;var h=_t;_t|=4;try{yg(s,e);var f=$u,p=Tf(e.containerInfo),b=f.focusedElem,w=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&Ef(b.ownerDocument.documentElement,b)){if(w!==null&&po(b)){var A=w.start,D=w.end;if(D===void 0&&(D=A),"selectionStart"in b)b.selectionStart=A,b.selectionEnd=Math.min(D,b.value.length);else{var B=b.ownerDocument||document,C=B&&B.defaultView||window;if(C.getSelection){var z=C.getSelection(),it=b.textContent.length,tt=Math.min(w.start,it),Tt=w.end===void 0?tt:Math.min(w.end,it);!z.extend&&tt>Tt&&(p=Tt,Tt=tt,tt=p);var O=Sf(b,tt),T=Sf(b,Tt);if(O&&T&&(z.rangeCount!==1||z.anchorNode!==O.node||z.anchorOffset!==O.offset||z.focusNode!==T.node||z.focusOffset!==T.offset)){var R=B.createRange();R.setStart(O.node,O.offset),z.removeAllRanges(),tt>Tt?(z.addRange(R),z.extend(T.node,T.offset)):(R.setEnd(T.node,T.offset),z.addRange(R))}}}}for(B=[],z=b;z=z.parentNode;)z.nodeType===1&&B.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<B.length;b++){var U=B[b];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}ra=!!Hu,$u=Hu=null}finally{_t=h,$.p=o,k.T=l}}e.current=s,te=2}}function Lg(){if(te===2){te=0;var e=Di,s=en,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=k.T,k.T=null;var o=$.p;$.p=2;var h=_t;_t|=4;try{gg(e,s.alternate,s)}finally{_t=h,$.p=o,k.T=l}}te=3}}function Bg(){if(te===4||te===3){te=0,e0();var e=Di,s=en,l=sn,o=xg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?te=5:(te=0,en=Di=null,qg(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ki=null),Ka(l),s=s.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(Ln,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=k.T,h=$.p,$.p=2,k.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var b=o[p];f(b.value,{componentStack:b.stack})}}finally{k.T=s,$.p=h}}(sn&3)!==0&&Jr(),Ke(e),h=e.pendingLanes,(l&4194090)!==0&&(h&42)!==0?e===Au?wl++:(wl=0,Au=e):wl=0,Sl(0)}}function qg(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,el(s)))}function Jr(e){return Ug(),Lg(),Bg(),Pg()}function Pg(){if(te!==5)return!1;var e=Di,s=Mu;Mu=0;var l=Ka(sn),o=k.T,h=$.p;try{$.p=32>l?32:l,k.T=null,l=Ru,Ru=null;var f=Di,p=sn;if(te=0,en=Di=null,sn=0,(_t&6)!==0)throw Error(n(331));var b=_t;if(_t|=4,Eg(f.current),_g(f,f.current,p,l),_t=b,Sl(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{$.p=h,k.T=o,qg(e,s)}}function Yg(e,s,l){s=je(l,s),s=au(e.stateNode,s,2),e=Ti(e,s,2),e!==null&&(qn(e,2),Ke(e))}function xt(e,s,l){if(e.tag===3)Yg(e,e,l);else for(;s!==null;){if(s.tag===3){Yg(s,e,l);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ki===null||!ki.has(o))){e=je(l,e),l=Gd(2),o=Ti(s,l,2),o!==null&&(Qd(l,o,s,e),qn(o,2),Ke(o));break}}s=s.return}}function ku(e,s,l){var o=e.pingCache;if(o===null){o=e.pingCache=new Ry;var h=new Set;o.set(s,h)}else h=o.get(s),h===void 0&&(h=new Set,o.set(s,h));h.has(l)||(Eu=!0,h.add(l),e=ky.bind(null,e,s,l),s.then(e,e))}function ky(e,s,l){var o=e.pingCache;o!==null&&o.delete(s),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Mt===e&&(dt&l)===l&&(Ut===4||Ut===3&&(dt&62914560)===dt&&300>$e()-Ou?(_t&2)===0&&nn(e,0):Tu|=l,tn===dt&&(tn=0)),Ke(e)}function Vg(e,s){s===0&&(s=Lc()),e=qs(e,s),e!==null&&(qn(e,s),Ke(e))}function Dy(e){var s=e.memoizedState,l=0;s!==null&&(l=s.retryLane),Vg(e,l)}function Ny(e,s){var l=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(l=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(n(314))}o!==null&&o.delete(s),Vg(e,l)}function Uy(e,s){return Ga(e,s)}var Kr=null,rn=null,Du=!1,Zr=!1,Nu=!1,ds=0;function Ke(e){e!==rn&&e.next===null&&(rn===null?Kr=rn=e:rn=rn.next=e),Zr=!0,Du||(Du=!0,By())}function Sl(e,s){if(!Nu&&Zr){Nu=!0;do for(var l=!1,o=Kr;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-we(42|e)+1)-1,f&=h&~(p&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(l=!0,Qg(o,f))}else f=dt,f=ir(o,o===Mt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(l=!0,Qg(o,f));o=o.next}while(l);Nu=!1}}function Ly(){Hg()}function Hg(){Zr=Du=!1;var e=0;ds!==0&&(Qy()&&(e=ds),ds=0);for(var s=$e(),l=null,o=Kr;o!==null;){var h=o.next,f=$g(o,s);f===0?(o.next=null,l===null?Kr=h:l.next=h,h===null&&(rn=l)):(l=o,(e!==0||(f&3)!==0)&&(Zr=!0)),o=h}Sl(e)}function $g(e,s){for(var l=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-we(f),b=1<<p,w=h[p];w===-1?((b&l)===0||(b&o)!==0)&&(h[p]=u0(b,s)):w<=s&&(e.expiredLanes|=b),f&=~b}if(s=Mt,l=dt,l=ir(e,e===s?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,l===0||e===s&&(wt===2||wt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Qa(o),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Bn(e,l)){if(s=l&-l,s===e.callbackPriority)return s;switch(o!==null&&Qa(o),Ka(l)){case 2:case 8:l=Dc;break;case 32:l=Fl;break;case 268435456:l=Nc;break;default:l=Fl}return o=Gg.bind(null,e),l=Ga(l,o),e.callbackPriority=s,e.callbackNode=l,s}return o!==null&&o!==null&&Qa(o),e.callbackPriority=2,e.callbackNode=null,2}function Gg(e,s){if(te!==0&&te!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Jr()&&e.callbackNode!==l)return null;var o=dt;return o=ir(e,e===Mt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Mg(e,o,s),$g(e,$e()),e.callbackNode!=null&&e.callbackNode===l?Gg.bind(null,e):null)}function Qg(e,s){if(Jr())return null;Mg(e,s,!0)}function By(){Jy(function(){(_t&6)!==0?Ga(kc,Ly):Hg()})}function Uu(){return ds===0&&(ds=Uc()),ds}function Xg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ar(""+e)}function Jg(e,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,e.id&&l.setAttribute("form",e.id),s.parentNode.insertBefore(l,s),e=new FormData(e),l.parentNode.removeChild(l),e}function qy(e,s,l,o,h){if(s==="submit"&&l&&l.stateNode===h){var f=Xg((h[fe]||null).action),p=o.submitter;p&&(s=(s=p[fe]||null)?Xg(s.formAction):p.getAttribute("formAction"),s!==null&&(f=s,p=null));var b=new cr("action","action",null,o,h);e.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ds!==0){var w=p?Jg(h,p):new FormData(h);iu(l,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(b.preventDefault(),w=p?Jg(h,p):new FormData(h),iu(l,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var Lu=0;Lu<wo.length;Lu++){var Bu=wo[Lu],Py=Bu.toLowerCase(),Yy=Bu[0].toUpperCase()+Bu.slice(1);Pe(Py,"on"+Yy)}Pe(Mf,"onAnimationEnd"),Pe(Rf,"onAnimationIteration"),Pe(Af,"onAnimationStart"),Pe("dblclick","onDoubleClick"),Pe("focusin","onFocus"),Pe("focusout","onBlur"),Pe(ny,"onTransitionRun"),Pe(ly,"onTransitionStart"),Pe(ry,"onTransitionCancel"),Pe(Cf,"onTransitionEnd"),As("onMouseEnter",["mouseout","mouseover"]),As("onMouseLeave",["mouseout","mouseover"]),As("onPointerEnter",["pointerout","pointerover"]),As("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function Kg(e,s){s=(s&4)!==0;for(var l=0;l<e.length;l++){var o=e[l],h=o.event;o=o.listeners;t:{var f=void 0;if(s)for(var p=o.length-1;0<=p;p--){var b=o[p],w=b.instance,A=b.currentTarget;if(b=b.listener,w!==f&&h.isPropagationStopped())break t;f=b,h.currentTarget=A;try{f(h)}catch(D){Lr(D)}h.currentTarget=null,f=w}else for(p=0;p<o.length;p++){if(b=o[p],w=b.instance,A=b.currentTarget,b=b.listener,w!==f&&h.isPropagationStopped())break t;f=b,h.currentTarget=A;try{f(h)}catch(D){Lr(D)}h.currentTarget=null,f=w}}}}function ht(e,s){var l=s[Za];l===void 0&&(l=s[Za]=new Set);var o=e+"__bubble";l.has(o)||(Zg(s,e,2,!1),l.add(o))}function qu(e,s,l){var o=0;s&&(o|=4),Zg(l,e,o,s)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Pu(e){if(!e[Wr]){e[Wr]=!0,Vc.forEach(function(l){l!=="selectionchange"&&(Vy.has(l)||qu(l,!1,e),qu(l,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Wr]||(s[Wr]=!0,qu("selectionchange",!1,s))}}function Zg(e,s,l,o){switch(_v(s)){case 2:var h=vb;break;case 8:h=mb;break;default:h=th}l=h.bind(null,s,l,e),h=void 0,!ao||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(s,l,{capture:!0,passive:h}):e.addEventListener(s,l,!0):h!==void 0?e.addEventListener(s,l,{passive:h}):e.addEventListener(s,l,!1)}function Yu(e,s,l,o,h){var f=o;if((s&1)===0&&(s&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var b=o.stateNode.containerInfo;if(b===h)break;if(p===4)for(p=o.return;p!==null;){var w=p.tag;if((w===3||w===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;b!==null;){if(p=Os(b),p===null)return;if(w=p.tag,w===5||w===6||w===26||w===27){o=f=p;continue t}b=b.parentNode}}o=o.return}sf(function(){var A=f,D=lo(l),B=[];t:{var C=zf.get(e);if(C!==void 0){var z=cr,it=e;switch(e){case"keypress":if(ur(l)===0)break t;case"keydown":case"keyup":z=U0;break;case"focusin":it="focus",z=co;break;case"focusout":it="blur",z=co;break;case"beforeblur":case"afterblur":z=co;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=T0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=q0;break;case Mf:case Rf:case Af:z=M0;break;case Cf:z=Y0;break;case"scroll":case"scrollend":z=S0;break;case"wheel":z=H0;break;case"copy":case"cut":case"paste":z=A0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=of;break;case"toggle":case"beforetoggle":z=G0}var tt=(s&4)!==0,Tt=!tt&&(e==="scroll"||e==="scrollend"),O=tt?C!==null?C+"Capture":null:C;tt=[];for(var T=A,R;T!==null;){var U=T;if(R=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||R===null||O===null||(U=Vn(T,O),U!=null&&tt.push(Tl(T,U,R))),Tt)break;T=T.return}0<tt.length&&(C=new z(C,it,null,l,D),B.push({event:C,listeners:tt}))}}if((s&7)===0){t:{if(C=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",C&&l!==no&&(it=l.relatedTarget||l.fromElement)&&(Os(it)||it[xs]))break t;if((z||C)&&(C=D.window===D?D:(C=D.ownerDocument)?C.defaultView||C.parentWindow:window,z?(it=l.relatedTarget||l.toElement,z=A,it=it?Os(it):null,it!==null&&(Tt=u(it),tt=it.tag,it!==Tt||tt!==5&&tt!==27&&tt!==6)&&(it=null)):(z=null,it=A),z!==it)){if(tt=rf,U="onMouseLeave",O="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(tt=of,U="onPointerLeave",O="onPointerEnter",T="pointer"),Tt=z==null?C:Yn(z),R=it==null?C:Yn(it),C=new tt(U,T+"leave",z,l,D),C.target=Tt,C.relatedTarget=R,U=null,Os(D)===A&&(tt=new tt(O,T+"enter",it,l,D),tt.target=R,tt.relatedTarget=Tt,U=tt),Tt=U,z&&it)e:{for(tt=z,O=it,T=0,R=tt;R;R=an(R))T++;for(R=0,U=O;U;U=an(U))R++;for(;0<T-R;)tt=an(tt),T--;for(;0<R-T;)O=an(O),R--;for(;T--;){if(tt===O||O!==null&&tt===O.alternate)break e;tt=an(tt),O=an(O)}tt=null}else tt=null;z!==null&&Wg(B,C,z,tt,!1),it!==null&&Tt!==null&&Wg(B,Tt,it,tt,!0)}}t:{if(C=A?Yn(A):window,z=C.nodeName&&C.nodeName.toLowerCase(),z==="select"||z==="input"&&C.type==="file")var J=mf;else if(gf(C))if(pf)J=ey;else{J=F0;var at=I0}else z=C.nodeName,!z||z.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?A&&so(A.elementType)&&(J=mf):J=ty;if(J&&(J=J(e,A))){vf(B,J,l,D);break t}at&&at(e,C,A),e==="focusout"&&A&&C.type==="number"&&A.memoizedProps.value!=null&&io(C,"number",C.value)}switch(at=A?Yn(A):window,e){case"focusin":(gf(at)||at.contentEditable==="true")&&(Us=at,yo=A,Zn=null);break;case"focusout":Zn=yo=Us=null;break;case"mousedown":bo=!0;break;case"contextmenu":case"mouseup":case"dragend":bo=!1,xf(B,l,D);break;case"selectionchange":if(sy)break;case"keydown":case"keyup":xf(B,l,D)}var W;if(go)t:{switch(e){case"compositionstart":var et="onCompositionStart";break t;case"compositionend":et="onCompositionEnd";break t;case"compositionupdate":et="onCompositionUpdate";break t}et=void 0}else Ns?ff(e,l)&&(et="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(et="onCompositionStart");et&&(uf&&l.locale!=="ko"&&(Ns||et!=="onCompositionStart"?et==="onCompositionEnd"&&Ns&&(W=nf()):(_i=D,oo="value"in _i?_i.value:_i.textContent,Ns=!0)),at=Ir(A,et),0<at.length&&(et=new af(et,e,null,l,D),B.push({event:et,listeners:at}),W?et.data=W:(W=df(l),W!==null&&(et.data=W)))),(W=X0?J0(e,l):K0(e,l))&&(et=Ir(A,"onBeforeInput"),0<et.length&&(at=new af("onBeforeInput","beforeinput",null,l,D),B.push({event:at,listeners:et}),at.data=W)),qy(B,e,A,l,D)}Kg(B,s)})}function Tl(e,s,l){return{instance:e,listener:s,currentTarget:l}}function Ir(e,s){for(var l=s+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Vn(e,l),h!=null&&o.unshift(Tl(e,h,f)),h=Vn(e,s),h!=null&&o.push(Tl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function an(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wg(e,s,l,o,h){for(var f=s._reactName,p=[];l!==null&&l!==o;){var b=l,w=b.alternate,A=b.stateNode;if(b=b.tag,w!==null&&w===o)break;b!==5&&b!==26&&b!==27||A===null||(w=A,h?(A=Vn(l,f),A!=null&&p.unshift(Tl(l,A,w))):h||(A=Vn(l,f),A!=null&&p.push(Tl(l,A,w)))),l=l.return}p.length!==0&&e.push({event:s,listeners:p})}var Hy=/\r\n?/g,$y=/\u0000|\uFFFD/g;function Ig(e){return(typeof e=="string"?e:""+e).replace(Hy,`
`).replace($y,"")}function Fg(e,s){return s=Ig(s),Ig(e)===s}function Fr(){}function Et(e,s,l,o,h,f){switch(l){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||js(e,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&js(e,""+o);break;case"className":nr(e,"class",o);break;case"tabIndex":nr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(e,l,o);break;case"style":tf(e,o,f);break;case"data":if(s!=="object"){nr(e,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||l!=="href")){e.removeAttribute(l);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=ar(""+o),e.setAttribute(l,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(l==="formAction"?(s!=="input"&&Et(e,s,"name",h.name,h,null),Et(e,s,"formEncType",h.formEncType,h,null),Et(e,s,"formMethod",h.formMethod,h,null),Et(e,s,"formTarget",h.formTarget,h,null)):(Et(e,s,"encType",h.encType,h,null),Et(e,s,"method",h.method,h,null),Et(e,s,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=ar(""+o),e.setAttribute(l,o);break;case"onClick":o!=null&&(e.onclick=Fr);break;case"onScroll":o!=null&&ht("scroll",e);break;case"onScrollEnd":o!=null&&ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(n(61));if(l=o.__html,l!=null){if(h.children!=null)throw Error(n(60));e.innerHTML=l}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}l=ar(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""+o):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":o===!0?e.setAttribute(l,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,o):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(l,o):e.removeAttribute(l);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(l):e.setAttribute(l,o);break;case"popover":ht("beforetoggle",e),ht("toggle",e),sr(e,"popover",o);break;case"xlinkActuate":Fe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Fe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Fe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Fe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Fe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Fe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=_0.get(l)||l,sr(e,l,o))}}function Vu(e,s,l,o,h,f){switch(l){case"style":tf(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(n(61));if(l=o.__html,l!=null){if(h.children!=null)throw Error(n(60));e.innerHTML=l}}break;case"children":typeof o=="string"?js(e,o):(typeof o=="number"||typeof o=="bigint")&&js(e,""+o);break;case"onScroll":o!=null&&ht("scroll",e);break;case"onScrollEnd":o!=null&&ht("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hc.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),s=l.slice(2,h?l.length-7:void 0),f=e[fe]||null,f=f!=null?f[l]:null,typeof f=="function"&&e.removeEventListener(s,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(s,o,h);break t}l in e?e[l]=o:o===!0?e.setAttribute(l,""):sr(e,l,o)}}}function ee(e,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",e),ht("load",e);var o=!1,h=!1,f;for(f in l)if(l.hasOwnProperty(f)){var p=l[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Et(e,s,f,p,l,null)}}h&&Et(e,s,"srcSet",l.srcSet,l,null),o&&Et(e,s,"src",l.src,l,null);return;case"input":ht("invalid",e);var b=f=p=h=null,w=null,A=null;for(o in l)if(l.hasOwnProperty(o)){var D=l[o];if(D!=null)switch(o){case"name":h=D;break;case"type":p=D;break;case"checked":w=D;break;case"defaultChecked":A=D;break;case"value":f=D;break;case"defaultValue":b=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(137,s));break;default:Et(e,s,o,D,l,null)}}Zc(e,f,b,w,A,p,h,!1),lr(e);return;case"select":ht("invalid",e),o=p=f=null;for(h in l)if(l.hasOwnProperty(h)&&(b=l[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":p=b;break;case"multiple":o=b;default:Et(e,s,h,b,l,null)}s=f,l=p,e.multiple=!!o,s!=null?zs(e,!!o,s,!1):l!=null&&zs(e,!!o,l,!0);return;case"textarea":ht("invalid",e),f=h=o=null;for(p in l)if(l.hasOwnProperty(p)&&(b=l[p],b!=null))switch(p){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:Et(e,s,p,b,l,null)}Ic(e,o,h,f),lr(e);return;case"option":for(w in l)if(l.hasOwnProperty(w)&&(o=l[w],o!=null))switch(w){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Et(e,s,w,o,l,null)}return;case"dialog":ht("beforetoggle",e),ht("toggle",e),ht("cancel",e),ht("close",e);break;case"iframe":case"object":ht("load",e);break;case"video":case"audio":for(o=0;o<El.length;o++)ht(El[o],e);break;case"image":ht("error",e),ht("load",e);break;case"details":ht("toggle",e);break;case"embed":case"source":case"link":ht("error",e),ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in l)if(l.hasOwnProperty(A)&&(o=l[A],o!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Et(e,s,A,o,l,null)}return;default:if(so(s)){for(D in l)l.hasOwnProperty(D)&&(o=l[D],o!==void 0&&Vu(e,s,D,o,l,void 0));return}}for(b in l)l.hasOwnProperty(b)&&(o=l[b],o!=null&&Et(e,s,b,o,l,null))}function Gy(e,s,l,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,b=null,w=null,A=null,D=null;for(z in l){var B=l[z];if(l.hasOwnProperty(z)&&B!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":w=B;default:o.hasOwnProperty(z)||Et(e,s,z,null,o,B)}}for(var C in o){var z=o[C];if(B=l[C],o.hasOwnProperty(C)&&(z!=null||B!=null))switch(C){case"type":f=z;break;case"name":h=z;break;case"checked":A=z;break;case"defaultChecked":D=z;break;case"value":p=z;break;case"defaultValue":b=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(n(137,s));break;default:z!==B&&Et(e,s,C,z,o,B)}}eo(e,p,b,w,A,D,f,h);return;case"select":z=p=b=C=null;for(f in l)if(w=l[f],l.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":z=w;default:o.hasOwnProperty(f)||Et(e,s,f,null,o,w)}for(h in o)if(f=o[h],w=l[h],o.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":C=f;break;case"defaultValue":b=f;break;case"multiple":p=f;default:f!==w&&Et(e,s,h,f,o,w)}s=b,l=p,o=z,C!=null?zs(e,!!l,C,!1):!!o!=!!l&&(s!=null?zs(e,!!l,s,!0):zs(e,!!l,l?[]:"",!1));return;case"textarea":z=C=null;for(b in l)if(h=l[b],l.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Et(e,s,b,null,o,h)}for(p in o)if(h=o[p],f=l[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":C=h;break;case"defaultValue":z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(n(91));break;default:h!==f&&Et(e,s,p,h,o,f)}Wc(e,C,z);return;case"option":for(var it in l)if(C=l[it],l.hasOwnProperty(it)&&C!=null&&!o.hasOwnProperty(it))switch(it){case"selected":e.selected=!1;break;default:Et(e,s,it,null,o,C)}for(w in o)if(C=o[w],z=l[w],o.hasOwnProperty(w)&&C!==z&&(C!=null||z!=null))switch(w){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:Et(e,s,w,C,o,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in l)C=l[tt],l.hasOwnProperty(tt)&&C!=null&&!o.hasOwnProperty(tt)&&Et(e,s,tt,null,o,C);for(A in o)if(C=o[A],z=l[A],o.hasOwnProperty(A)&&C!==z&&(C!=null||z!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(n(137,s));break;default:Et(e,s,A,C,o,z)}return;default:if(so(s)){for(var Tt in l)C=l[Tt],l.hasOwnProperty(Tt)&&C!==void 0&&!o.hasOwnProperty(Tt)&&Vu(e,s,Tt,void 0,o,C);for(D in o)C=o[D],z=l[D],!o.hasOwnProperty(D)||C===z||C===void 0&&z===void 0||Vu(e,s,D,C,o,z);return}}for(var O in l)C=l[O],l.hasOwnProperty(O)&&C!=null&&!o.hasOwnProperty(O)&&Et(e,s,O,null,o,C);for(B in o)C=o[B],z=l[B],!o.hasOwnProperty(B)||C===z||C==null&&z==null||Et(e,s,B,C,o,z)}var Hu=null,$u=null;function ta(e){return e.nodeType===9?e:e.ownerDocument}function tv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ev(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Gu(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qu=null;function Qy(){var e=window.event;return e&&e.type==="popstate"?e===Qu?!1:(Qu=e,!0):(Qu=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,Xy=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,Jy=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(e){return sv.resolve(null).then(e).catch(Ky)}:iv;function Ky(e){setTimeout(function(){throw e})}function Ui(e){return e==="head"}function nv(e,s){var l=s,o=0,h=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(0<o&&8>o){l=o;var p=e.ownerDocument;if(l&1&&xl(p.documentElement),l&2&&xl(p.body),l&4)for(l=p.head,xl(l),p=l.firstChild;p;){var b=p.nextSibling,w=p.nodeName;p[Pn]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=b}}if(h===0){e.removeChild(f),kl(s);return}h--}else l==="$"||l==="$?"||l==="$!"?h++:o=l.charCodeAt(0)-48;else o=0;l=f}while(l);kl(s)}function Xu(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Xu(l),Wa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Zy(e,s,l,o){for(;e.nodeType===1;){var h=l;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Pn])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ve(e.nextSibling),e===null)break}return null}function Wy(e,s,l){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Ve(e.nextSibling),e===null))return null;return e}function Ju(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Iy(e,s){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")s();else{var o=function(){s(),l.removeEventListener("DOMContentLoaded",o)};l.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ve(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return e}var Ku=null;function lv(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return e;s--}else l==="/$"&&s++}e=e.previousSibling}return null}function rv(e,s,l){switch(s=ta(l),e){case"html":if(e=s.documentElement,!e)throw Error(n(452));return e;case"head":if(e=s.head,!e)throw Error(n(453));return e;case"body":if(e=s.body,!e)throw Error(n(454));return e;default:throw Error(n(451))}}function xl(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Wa(e)}var Be=new Map,av=new Set;function ea(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var di=$.d;$.d={f:Fy,r:tb,D:eb,C:ib,L:sb,m:nb,X:rb,S:lb,M:ab};function Fy(){var e=di.f(),s=Qr();return e||s}function tb(e){var s=Ms(e);s!==null&&s.tag===5&&s.type==="form"?Md(s):di.r(e)}var on=typeof document>"u"?null:document;function ov(e,s,l){var o=on;if(o&&typeof s=="string"&&s){var h=ze(s);h='link[rel="'+e+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),av.has(h)||(av.add(h),e={rel:e,crossOrigin:l,href:s},o.querySelector(h)===null&&(s=o.createElement("link"),ee(s,"link",e),Jt(s),o.head.appendChild(s)))}}function eb(e){di.D(e),ov("dns-prefetch",e,null)}function ib(e,s){di.C(e,s),ov("preconnect",e,s)}function sb(e,s,l){di.L(e,s,l);var o=on;if(o&&e&&s){var h='link[rel="preload"][as="'+ze(s)+'"]';s==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+ze(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+ze(l.imageSizes)+'"]')):h+='[href="'+ze(e)+'"]';var f=h;switch(s){case"style":f=un(e);break;case"script":f=hn(e)}Be.has(f)||(e=m({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:e,as:s},l),Be.set(f,e),o.querySelector(h)!==null||s==="style"&&o.querySelector(Ol(f))||s==="script"&&o.querySelector(Ml(f))||(s=o.createElement("link"),ee(s,"link",e),Jt(s),o.head.appendChild(s)))}}function nb(e,s){di.m(e,s);var l=on;if(l&&e){var o=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+ze(o)+'"][href="'+ze(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=hn(e)}if(!Be.has(f)&&(e=m({rel:"modulepreload",href:e},s),Be.set(f,e),l.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ml(f)))return}o=l.createElement("link"),ee(o,"link",e),Jt(o),l.head.appendChild(o)}}}function lb(e,s,l){di.S(e,s,l);var o=on;if(o&&e){var h=Rs(o).hoistableStyles,f=un(e);s=s||"default";var p=h.get(f);if(!p){var b={loading:0,preload:null};if(p=o.querySelector(Ol(f)))b.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":s},l),(l=Be.get(f))&&Zu(e,l);var w=p=o.createElement("link");Jt(w),ee(w,"link",e),w._p=new Promise(function(A,D){w.onload=A,w.onerror=D}),w.addEventListener("load",function(){b.loading|=1}),w.addEventListener("error",function(){b.loading|=2}),b.loading|=4,ia(p,s,o)}p={type:"stylesheet",instance:p,count:1,state:b},h.set(f,p)}}}function rb(e,s){di.X(e,s);var l=on;if(l&&e){var o=Rs(l).hoistableScripts,h=hn(e),f=o.get(h);f||(f=l.querySelector(Ml(h)),f||(e=m({src:e,async:!0},s),(s=Be.get(h))&&Wu(e,s),f=l.createElement("script"),Jt(f),ee(f,"link",e),l.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function ab(e,s){di.M(e,s);var l=on;if(l&&e){var o=Rs(l).hoistableScripts,h=hn(e),f=o.get(h);f||(f=l.querySelector(Ml(h)),f||(e=m({src:e,async:!0,type:"module"},s),(s=Be.get(h))&&Wu(e,s),f=l.createElement("script"),Jt(f),ee(f,"link",e),l.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function uv(e,s,l,o){var h=(h=st.current)?ea(h):null;if(!h)throw Error(n(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=un(l.href),l=Rs(h).hoistableStyles,o=l.get(s),o||(o={type:"style",instance:null,count:0,state:null},l.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=un(l.href);var f=Rs(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(Ol(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Be.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Be.set(e,l),f||ob(h,e,l,p.state))),s&&o===null)throw Error(n(528,""));return p}if(s&&o!==null)throw Error(n(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=hn(l),l=Rs(h).hoistableScripts,o=l.get(s),o||(o={type:"script",instance:null,count:0,state:null},l.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,e))}}function un(e){return'href="'+ze(e)+'"'}function Ol(e){return'link[rel="stylesheet"]['+e+"]"}function hv(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function ob(e,s,l,o){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=e.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),ee(s,"link",l),Jt(s),e.head.appendChild(s))}function hn(e){return'[src="'+ze(e)+'"]'}function Ml(e){return"script[async]"+e}function cv(e,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var o=e.querySelector('style[data-href~="'+ze(l.href)+'"]');if(o)return s.instance=o,Jt(o),o;var h=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Jt(o),ee(o,"style",h),ia(o,l.precedence,e),s.instance=o;case"stylesheet":h=un(l.href);var f=e.querySelector(Ol(h));if(f)return s.state.loading|=4,s.instance=f,Jt(f),f;o=hv(l),(h=Be.get(h))&&Zu(o,h),f=(e.ownerDocument||e).createElement("link"),Jt(f);var p=f;return p._p=new Promise(function(b,w){p.onload=b,p.onerror=w}),ee(f,"link",o),s.state.loading|=4,ia(f,l.precedence,e),s.instance=f;case"script":return f=hn(l.src),(h=e.querySelector(Ml(f)))?(s.instance=h,Jt(h),h):(o=l,(h=Be.get(f))&&(o=m({},l),Wu(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Jt(h),ee(h,"link",o),e.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,ia(o,l.precedence,e));return s.instance}function ia(e,s,l){for(var o=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var b=o[p];if(b.dataset.precedence===s)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(e,s.firstChild))}function Zu(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Wu(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var sa=null;function fv(e,s,l){if(sa===null){var o=new Map,h=sa=new Map;h.set(l,o)}else h=sa,o=h.get(l),o||(o=new Map,h.set(l,o));if(o.has(e))return o;for(o.set(e,null),l=l.getElementsByTagName(e),h=0;h<l.length;h++){var f=l[h];if(!(f[Pn]||f[re]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(s)||"";p=e+p;var b=o.get(p);b?b.push(f):o.set(p,[f])}}return o}function dv(e,s,l){e=e.ownerDocument||e,e.head.insertBefore(l,s==="title"?e.querySelector("head > title"):null)}function ub(e,s,l){if(l===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function gv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Rl=null;function hb(){}function cb(e,s,l){if(Rl===null)throw Error(n(475));var o=Rl;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=un(l.href),f=e.querySelector(Ol(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=na.bind(o),e.then(o,o)),s.state.loading|=4,s.instance=f,Jt(f);return}f=e.ownerDocument||e,l=hv(l),(h=Be.get(h))&&Zu(l,h),f=f.createElement("link"),Jt(f);var p=f;p._p=new Promise(function(b,w){p.onload=b,p.onerror=w}),ee(f,"link",l),s.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(s,e),(e=s.state.preload)&&(s.state.loading&3)===0&&(o.count++,s=na.bind(o),e.addEventListener("load",s),e.addEventListener("error",s))}}function fb(){if(Rl===null)throw Error(n(475));var e=Rl;return e.stylesheets&&e.count===0&&Iu(e,e.stylesheets),0<e.count?function(s){var l=setTimeout(function(){if(e.stylesheets&&Iu(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l)}}:null}function na(){if(this.count--,this.count===0){if(this.stylesheets)Iu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var la=null;function Iu(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,la=new Map,s.forEach(db,e),la=null,na.call(e))}function db(e,s){if(!(s.state.loading&4)){var l=la.get(e);if(l)var o=l.get(null);else{l=new Map,la.set(e,l);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(l.set(p.dataset.precedence,p),o=p)}o&&l.set(null,o)}h=s.instance,p=h.getAttribute("data-precedence"),f=l.get(p)||o,f===o&&l.set(null,h),l.set(p,h),this.count++,o=na.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),s.state.loading|=4}}var Al={$$typeof:L,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function gb(e,s,l,o,h,f,p,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xa(0),this.hiddenUpdates=Xa(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function vv(e,s,l,o,h,f,p,b,w,A,D,B){return e=new gb(e,s,l,p,b,w,A,B),s=1,f===!0&&(s|=24),f=Ee(3,null,null,s),e.current=f,f.stateNode=e,s=ko(),s.refCount++,e.pooledCache=s,s.refCount++,f.memoizedState={element:o,isDehydrated:l,cache:s},Lo(f),e}function mv(e){return e?(e=Ps,e):Ps}function pv(e,s,l,o,h,f){h=mv(h),o.context===null?o.context=h:o.pendingContext=h,o=Ei(s),o.payload={element:l},f=f===void 0?null:f,f!==null&&(o.callback=f),l=Ti(e,o,s),l!==null&&(Re(l,e,s),ll(l,e,s))}function yv(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<s?l:s}}function Fu(e,s){yv(e,s),(e=e.alternate)&&yv(e,s)}function bv(e){if(e.tag===13){var s=qs(e,67108864);s!==null&&Re(s,e,67108864),Fu(e,67108864)}}var ra=!0;function vb(e,s,l,o){var h=k.T;k.T=null;var f=$.p;try{$.p=2,th(e,s,l,o)}finally{$.p=f,k.T=h}}function mb(e,s,l,o){var h=k.T;k.T=null;var f=$.p;try{$.p=8,th(e,s,l,o)}finally{$.p=f,k.T=h}}function th(e,s,l,o){if(ra){var h=eh(o);if(h===null)Yu(e,s,o,aa,l),wv(e,o);else if(yb(h,e,s,l,o))o.stopPropagation();else if(wv(e,o),s&4&&-1<pb.indexOf(e)){for(;h!==null;){var f=Ms(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Zi(f.pendingLanes);if(p!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var w=1<<31-we(p);b.entanglements[1]|=w,p&=~w}Ke(f),(_t&6)===0&&($r=$e()+500,Sl(0))}}break;case 13:b=qs(f,2),b!==null&&Re(b,f,2),Qr(),Fu(f,2)}if(f=eh(o),f===null&&Yu(e,s,o,aa,l),f===h)break;h=f}h!==null&&o.stopPropagation()}else Yu(e,s,o,null,l)}}function eh(e){return e=lo(e),ih(e)}var aa=null;function ih(e){if(aa=null,e=Os(e),e!==null){var s=u(e);if(s===null)e=null;else{var l=s.tag;if(l===13){if(e=c(s),e!==null)return e;e=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return aa=e,null}function _v(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(i0()){case kc:return 2;case Dc:return 8;case Fl:case s0:return 32;case Nc:return 268435456;default:return 32}default:return 32}}var sh=!1,Li=null,Bi=null,qi=null,Cl=new Map,zl=new Map,Pi=[],pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wv(e,s){switch(e){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Cl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(s.pointerId)}}function jl(e,s,l,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:s,domEventName:l,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},s!==null&&(s=Ms(s),s!==null&&bv(s)),e):(e.eventSystemFlags|=o,s=e.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),e)}function yb(e,s,l,o,h){switch(s){case"focusin":return Li=jl(Li,e,s,l,o,h),!0;case"dragenter":return Bi=jl(Bi,e,s,l,o,h),!0;case"mouseover":return qi=jl(qi,e,s,l,o,h),!0;case"pointerover":var f=h.pointerId;return Cl.set(f,jl(Cl.get(f)||null,e,s,l,o,h)),!0;case"gotpointercapture":return f=h.pointerId,zl.set(f,jl(zl.get(f)||null,e,s,l,o,h)),!0}return!1}function Sv(e){var s=Os(e.target);if(s!==null){var l=u(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){e.blockedOn=s,c0(e.priority,function(){if(l.tag===13){var o=Me();o=Ja(o);var h=qs(l,o);h!==null&&Re(h,l,o),Fu(l,o)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oa(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var l=eh(e.nativeEvent);if(l===null){l=e.nativeEvent;var o=new l.constructor(l.type,l);no=o,l.target.dispatchEvent(o),no=null}else return s=Ms(l),s!==null&&bv(s),e.blockedOn=l,!1;s.shift()}return!0}function Ev(e,s,l){oa(e)&&l.delete(s)}function bb(){sh=!1,Li!==null&&oa(Li)&&(Li=null),Bi!==null&&oa(Bi)&&(Bi=null),qi!==null&&oa(qi)&&(qi=null),Cl.forEach(Ev),zl.forEach(Ev)}function ua(e,s){e.blockedOn===s&&(e.blockedOn=null,sh||(sh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bb)))}var ha=null;function Tv(e){ha!==e&&(ha=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ha===e&&(ha=null);for(var s=0;s<e.length;s+=3){var l=e[s],o=e[s+1],h=e[s+2];if(typeof o!="function"){if(ih(o||l)===null)continue;break}var f=Ms(l);f!==null&&(e.splice(s,3),s-=3,iu(f,{pending:!0,data:h,method:l.method,action:o},o,h))}}))}function kl(e){function s(w){return ua(w,e)}Li!==null&&ua(Li,e),Bi!==null&&ua(Bi,e),qi!==null&&ua(qi,e),Cl.forEach(s),zl.forEach(s);for(var l=0;l<Pi.length;l++){var o=Pi[l];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Pi.length&&(l=Pi[0],l.blockedOn===null);)Sv(l),l.blockedOn===null&&Pi.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(o=0;o<l.length;o+=3){var h=l[o],f=l[o+1],p=h[fe]||null;if(typeof f=="function")p||Tv(l);else if(p){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[fe]||null)b=p.formAction;else if(ih(h)!==null)continue}else b=p.action;typeof b=="function"?l[o+1]=b:(l.splice(o,3),o-=3),Tv(l)}}}function nh(e){this._internalRoot=e}ca.prototype.render=nh.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(n(409));var l=s.current,o=Me();pv(l,o,e,s,null,null)},ca.prototype.unmount=nh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;pv(e.current,2,null,e,null,null),Qr(),s[xs]=null}};function ca(e){this._internalRoot=e}ca.prototype.unstable_scheduleHydration=function(e){if(e){var s=Pc();e={blockedOn:null,target:e,priority:s};for(var l=0;l<Pi.length&&s!==0&&s<Pi[l].priority;l++);Pi.splice(l,0,e),l===0&&Sv(e)}};var xv=t.version;if(xv!=="19.1.1")throw Error(n(527,xv,"19.1.1"));$.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=g(s),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var _b={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fa.isDisabled&&fa.supportsFiber)try{Ln=fa.inject(_b),_e=fa}catch{}}return Nl.createRoot=function(e,s){if(!r(e))throw Error(n(299));var l=!1,o="",h=Yd,f=Vd,p=Hd,b=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(p=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=vv(e,1,!1,null,null,l,o,h,f,p,b,null),e[xs]=s.current,Pu(e),new nh(s)},Nl.hydrateRoot=function(e,s,l){if(!r(e))throw Error(n(299));var o=!1,h="",f=Yd,p=Vd,b=Hd,w=null,A=null;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(f=l.onUncaughtError),l.onCaughtError!==void 0&&(p=l.onCaughtError),l.onRecoverableError!==void 0&&(b=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(w=l.unstable_transitionCallbacks),l.formState!==void 0&&(A=l.formState)),s=vv(e,1,!0,s,l??null,o,h,f,p,b,w,A),s.context=mv(null),l=s.current,o=Me(),o=Ja(o),h=Ei(o),h.callback=null,Ti(l,h,o),l=o,s.current.lanes=l,qn(s,l),Ke(s),e[xs]=s.current,Pu(e),new ca(s)},Nl.version="19.1.1",Nl}var Nv;function zb(){if(Nv)return ah.exports;Nv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ah.exports=Cb(),ah.exports}var jb=zb(),ch={exports:{}},fh={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function kb(){if(Uv)return fh;Uv=1;var a=Na().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return fh.c=function(t){return a.H.useMemoCache(t)},fh}var Lv;function Db(){return Lv||(Lv=1,ch.exports=kb()),ch.exports}var ue=Db();const Ph="/traders-tale/";function Sn({path:a,element:t,children:i}){const[n,r]=ct.useState(window.location.pathname.replace(Ph,"")),u=ct.useMemo(()=>lp(i),[i]);return ct.useEffect(()=>{const c=()=>{r(window.location.pathname.replace(Ph,""))};return window.addEventListener("navigate",c),()=>window.removeEventListener("navigate",c)},[]),a===void 0&&u?.includes(n)?i:n===a?t:null}const dh=a=>{const t=ue.c(6),{to:i,children:n}=a;let r;t[0]!==i?(r=d=>{d.preventDefault(),Ma(i)},t[0]=i,t[1]=r):r=t[1];const u=r;let c;return t[2]!==n||t[3]!==u||t[4]!==i?(c=N.jsx("a",{href:i,onClick:u,children:n}),t[2]=n,t[3]=u,t[4]=i,t[5]=c):c=t[5],c};function Ma(a){window.history.pushState({},"",Ph+a);const t=new PopStateEvent("navigate");window.dispatchEvent(t)}function lp(a){return ct.Children.toArray(a).flatMap(i=>ct.isValidElement(i)?i.type===Sn?[i.props.path]:lp(i.props.children):[])}const Nb="modulepreload",Ub=function(a){return"/traders-tale/"+a},Bv={},Kl=function(t,i,n){let r=Promise.resolve();if(i&&i.length>0){let v=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var c=v;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),g=d?.nonce||d?.getAttribute("nonce");r=v(i.map(m=>{if(m=Ub(m),m in Bv)return;Bv[m]=!0;const y=m.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":Nb,y||(S.as="script"),S.crossOrigin="",S.href=m,g&&S.setAttribute("nonce",g),document.head.appendChild(S),y)return new Promise((x,M)=>{S.addEventListener("load",x),S.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return r.then(d=>{for(const g of d||[])g.status==="rejected"&&u(g.reason);return t().catch(u)})},Lb=a=>{let t;return a?t=a:typeof fetch>"u"?t=(...i)=>Kl(async()=>{const{default:n}=await Promise.resolve().then(()=>Nn);return{default:n}},void 0).then(({default:n})=>n(...i)):t=fetch,(...i)=>t(...i)};class gc extends Error{constructor(t,i="FunctionsError",n){super(t),this.name=i,this.context=n}}class qv extends gc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Pv extends gc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Yv extends gc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Yh;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Yh||(Yh={}));var Bb=function(a,t,i,n){function r(u){return u instanceof i?u:new i(function(c){c(u)})}return new(i||(i=Promise))(function(u,c){function d(m){try{v(n.next(m))}catch(y){c(y)}}function g(m){try{v(n.throw(m))}catch(y){c(y)}}function v(m){m.done?u(m.value):r(m.value).then(d,g)}v((n=n.apply(a,t||[])).next())})};class qb{constructor(t,{headers:i={},customFetch:n,region:r=Yh.Any}={}){this.url=t,this.headers=i,this.region=r,this.fetch=Lb(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,i={}){var n;return Bb(this,void 0,void 0,function*(){try{const{headers:r,method:u,body:c,signal:d}=i;let g={},{region:v}=i;v||(v=this.region);const m=new URL(`${this.url}/${t}`);v&&v!=="any"&&(g["x-region"]=v,m.searchParams.set("forceFunctionRegion",v));let y;c&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(g["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(g["Content-Type"]="application/json",y=JSON.stringify(c)));const _=yield this.fetch(m.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),r),body:y,signal:d}).catch(j=>{throw j.name==="AbortError"?j:new qv(j)}),S=_.headers.get("x-relay-error");if(S&&S==="true")throw new Pv(_);if(!_.ok)throw new Yv(_);let x=((n=_.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),M;return x==="application/json"?M=yield _.json():x==="application/octet-stream"?M=yield _.blob():x==="text/event-stream"?M=_:x==="multipart/form-data"?M=yield _.formData():M=yield _.text(),{data:M,error:null,response:_}}catch(r){return r instanceof Error&&r.name==="AbortError"?{data:null,error:new qv(r)}:{data:null,error:r,response:r instanceof Yv||r instanceof Pv?r.context:void 0}}})}}var It={},cn={},fn={},dn={},gn={},vn={},Pb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},An=Pb();const Yb=An.fetch,rp=An.fetch.bind(An),ap=An.Headers,Vb=An.Request,Hb=An.Response,Nn=Object.freeze(Object.defineProperty({__proto__:null,Headers:ap,Request:Vb,Response:Hb,default:rp,fetch:Yb},Symbol.toStringTag,{value:"Module"})),$b=Sb(Nn);var da={},Vv;function op(){if(Vv)return da;Vv=1,Object.defineProperty(da,"__esModule",{value:!0});class a extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return da.default=a,da}var Hv;function up(){if(Hv)return vn;Hv=1;var a=vn&&vn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vn,"__esModule",{value:!0});const t=a($b),i=a(op());class n{constructor(u){var c,d;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(d=u.isMaybeSingle)!==null&&d!==void 0?d:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let g=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var m,y,_,S;let x=null,M=null,j=null,Y=v.status,q=v.statusText;if(v.ok){if(this.method!=="HEAD"){const K=await v.text();K===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?M=K:M=JSON.parse(K))}const H=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),G=(_=v.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");H&&G&&G.length>1&&(j=parseInt(G[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(M)&&(M.length>1?(x={code:"PGRST116",details:`Results contain ${M.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},M=null,j=null,Y=406,q="Not Acceptable"):M.length===1?M=M[0]:M=null)}else{const H=await v.text();try{x=JSON.parse(H),Array.isArray(x)&&v.status===404&&(M=[],x=null,Y=200,q="OK")}catch{v.status===404&&H===""?(Y=204,q="No Content"):x={message:H}}if(x&&this.isMaybeSingle&&(!((S=x?.details)===null||S===void 0)&&S.includes("0 rows"))&&(x=null,Y=200,q="OK"),x&&this.shouldThrowOnError)throw new i.default(x)}return{error:x,data:M,count:j,status:Y,statusText:q}});return this.shouldThrowOnError||(g=g.catch(v=>{var m,y,_;return{error:{message:`${(m=v?.name)!==null&&m!==void 0?m:"FetchError"}: ${v?.message}`,details:`${(y=v?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(_=v?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),g.then(u,c)}returns(){return this}overrideTypes(){return this}}return vn.default=n,vn}var $v;function hp(){if($v)return gn;$v=1;var a=gn&&gn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(gn,"__esModule",{value:!0});const t=a(up());class i extends t.default{select(r){let u=!1;const c=(r??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:u=!0,nullsFirst:c,foreignTable:d,referencedTable:g=d}={}){const v=g?`${g}.order`:"order",m=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${m?`${m},`:""}${r}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:u,referencedTable:c=u}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${r}`),this}range(r,u,{foreignTable:c,referencedTable:d=c}={}){const g=typeof d>"u"?"offset":`${d}.offset`,v=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(g,`${r}`),this.url.searchParams.set(v,`${u-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:u=!1,settings:c=!1,buffers:d=!1,wal:g=!1,format:v="text"}={}){var m;const y=[r?"analyze":null,u?"verbose":null,c?"settings":null,d?"buffers":null,g?"wal":null].filter(Boolean).join("|"),_=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${_}"; options=${y};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return gn.default=i,gn}var Gv;function vc(){if(Gv)return dn;Gv=1;var a=dn&&dn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(dn,"__esModule",{value:!0});const t=a(hp());class i extends t.default{eq(r,u){return this.url.searchParams.append(r,`eq.${u}`),this}neq(r,u){return this.url.searchParams.append(r,`neq.${u}`),this}gt(r,u){return this.url.searchParams.append(r,`gt.${u}`),this}gte(r,u){return this.url.searchParams.append(r,`gte.${u}`),this}lt(r,u){return this.url.searchParams.append(r,`lt.${u}`),this}lte(r,u){return this.url.searchParams.append(r,`lte.${u}`),this}like(r,u){return this.url.searchParams.append(r,`like.${u}`),this}likeAllOf(r,u){return this.url.searchParams.append(r,`like(all).{${u.join(",")}}`),this}likeAnyOf(r,u){return this.url.searchParams.append(r,`like(any).{${u.join(",")}}`),this}ilike(r,u){return this.url.searchParams.append(r,`ilike.${u}`),this}ilikeAllOf(r,u){return this.url.searchParams.append(r,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(r,u){return this.url.searchParams.append(r,`ilike(any).{${u.join(",")}}`),this}is(r,u){return this.url.searchParams.append(r,`is.${u}`),this}in(r,u){const c=Array.from(new Set(u)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(r,`in.(${c})`),this}contains(r,u){return typeof u=="string"?this.url.searchParams.append(r,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(r,`cs.{${u.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(u)}`),this}containedBy(r,u){return typeof u=="string"?this.url.searchParams.append(r,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(r,`cd.{${u.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(u)}`),this}rangeGt(r,u){return this.url.searchParams.append(r,`sr.${u}`),this}rangeGte(r,u){return this.url.searchParams.append(r,`nxl.${u}`),this}rangeLt(r,u){return this.url.searchParams.append(r,`sl.${u}`),this}rangeLte(r,u){return this.url.searchParams.append(r,`nxr.${u}`),this}rangeAdjacent(r,u){return this.url.searchParams.append(r,`adj.${u}`),this}overlaps(r,u){return typeof u=="string"?this.url.searchParams.append(r,`ov.${u}`):this.url.searchParams.append(r,`ov.{${u.join(",")}}`),this}textSearch(r,u,{config:c,type:d}={}){let g="";d==="plain"?g="pl":d==="phrase"?g="ph":d==="websearch"&&(g="w");const v=c===void 0?"":`(${c})`;return this.url.searchParams.append(r,`${g}fts${v}.${u}`),this}match(r){return Object.entries(r).forEach(([u,c])=>{this.url.searchParams.append(u,`eq.${c}`)}),this}not(r,u,c){return this.url.searchParams.append(r,`not.${u}.${c}`),this}or(r,{foreignTable:u,referencedTable:c=u}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${r})`),this}filter(r,u,c){return this.url.searchParams.append(r,`${u}.${c}`),this}}return dn.default=i,dn}var Qv;function cp(){if(Qv)return fn;Qv=1;var a=fn&&fn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(fn,"__esModule",{value:!0});const t=a(vc());class i{constructor(r,{headers:u={},schema:c,fetch:d}){this.url=r,this.headers=new Headers(u),this.schema=c,this.fetch=d}select(r,{head:u=!1,count:c}={}){const d=u?"HEAD":"GET";let g=!1;const v=(r??"*").split("").map(m=>/\s/.test(m)&&!g?"":(m==='"'&&(g=!g),m)).join("");return this.url.searchParams.set("select",v),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:u,defaultToNull:c=!0}={}){var d;const g="POST";if(u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const v=r.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(v.length>0){const m=[...new Set(v)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(r,{onConflict:u,ignoreDuplicates:c=!1,count:d,defaultToNull:g=!0}={}){var v;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),d&&this.headers.append("Prefer",`count=${d}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const y=r.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(y.length>0){const _=[...new Set(y)].map(S=>`"${S}"`);this.url.searchParams.set("columns",_.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(r,{count:u}={}){var c;const d="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:r}={}){var u;const c="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return fn.default=i,fn}var Xv;function Gb(){if(Xv)return cn;Xv=1;var a=cn&&cn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cn,"__esModule",{value:!0});const t=a(cp()),i=a(vc());class n{constructor(u,{headers:c={},schema:d,fetch:g}={}){this.url=u,this.headers=new Headers(c),this.schemaName=d,this.fetch=g}from(u){const c=new URL(`${this.url}/${u}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new n(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,c={},{head:d=!1,get:g=!1,count:v}={}){var m;let y;const _=new URL(`${this.url}/rpc/${u}`);let S;d||g?(y=d?"HEAD":"GET",Object.entries(c).filter(([M,j])=>j!==void 0).map(([M,j])=>[M,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([M,j])=>{_.searchParams.append(M,j)})):(y="POST",S=c);const x=new Headers(this.headers);return v&&x.set("Prefer",`count=${v}`),new i.default({method:y,url:_,headers:x,schema:this.schemaName,body:S,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return cn.default=n,cn}var Jv;function Qb(){if(Jv)return It;Jv=1;var a=It&&It.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(It,"__esModule",{value:!0}),It.PostgrestError=It.PostgrestBuilder=It.PostgrestTransformBuilder=It.PostgrestFilterBuilder=It.PostgrestQueryBuilder=It.PostgrestClient=void 0;const t=a(Gb());It.PostgrestClient=t.default;const i=a(cp());It.PostgrestQueryBuilder=i.default;const n=a(vc());It.PostgrestFilterBuilder=n.default;const r=a(hp());It.PostgrestTransformBuilder=r.default;const u=a(up());It.PostgrestBuilder=u.default;const c=a(op());return It.PostgrestError=c.default,It.default={PostgrestClient:t.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:u.default,PostgrestError:c.default},It}var Xb=Qb();const Jb=dc(Xb),{PostgrestClient:Kb,PostgrestQueryBuilder:ZE,PostgrestFilterBuilder:WE,PostgrestTransformBuilder:IE,PostgrestBuilder:FE,PostgrestError:tT}=Jb;class Zb{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const n=i.node,r=parseInt(n.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let i=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(i+=`

Suggested solution: ${t.workaround}`),new Error(i)}static createWebSocket(t,i){const n=this.getWebSocketConstructor();return new n(t,i)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Wb="2.15.5",Ib=`realtime-js/${Wb}`,Fb="1.0.0",Vh=1e4,t_=1e3,e_=100;var Pl;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Pl||(Pl={}));var Gt;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(Gt||(Gt={}));var He;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(He||(He={}));var Hh;(function(a){a.websocket="websocket"})(Hh||(Hh={}));var bs;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(bs||(bs={}));class i_{constructor(){this.HEADER_LENGTH=1}decode(t,i){return t.constructor===ArrayBuffer?i(this._binaryDecode(t)):i(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const i=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,i,n)}_decodeBroadcast(t,i,n){const r=i.getUint8(1),u=i.getUint8(2);let c=this.HEADER_LENGTH+2;const d=n.decode(t.slice(c,c+r));c=c+r;const g=n.decode(t.slice(c,c+u));c=c+u;const v=JSON.parse(n.decode(t.slice(c,t.byteLength)));return{ref:null,topic:d,event:g,payload:v}}}class fp{constructor(t,i){this.callback=t,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rt;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Rt||(Rt={}));const Kv=(a,t,i={})=>{var n;const r=(n=i.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((u,c)=>(u[c]=s_(c,a,t,r),u),{})},s_=(a,t,i,n)=>{const r=t.find(d=>d.name===a),u=r?.type,c=i[a];return u&&!n.includes(u)?dp(u,c):$h(c)},dp=(a,t)=>{if(a.charAt(0)==="_"){const i=a.slice(1,a.length);return a_(t,i)}switch(a){case Rt.bool:return n_(t);case Rt.float4:case Rt.float8:case Rt.int2:case Rt.int4:case Rt.int8:case Rt.numeric:case Rt.oid:return l_(t);case Rt.json:case Rt.jsonb:return r_(t);case Rt.timestamp:return o_(t);case Rt.abstime:case Rt.date:case Rt.daterange:case Rt.int4range:case Rt.int8range:case Rt.money:case Rt.reltime:case Rt.text:case Rt.time:case Rt.timestamptz:case Rt.timetz:case Rt.tsrange:case Rt.tstzrange:return $h(t);default:return $h(t)}},$h=a=>a,n_=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},l_=a=>{if(typeof a=="string"){const t=parseFloat(a);if(!Number.isNaN(t))return t}return a},r_=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(t){return console.log(`JSON parse error: ${t}`),a}return a},a_=(a,t)=>{if(typeof a!="string")return a;const i=a.length-1,n=a[i];if(a[0]==="{"&&n==="}"){let u;const c=a.slice(1,i);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(d=>dp(t,d))}return a},o_=a=>typeof a=="string"?a.replace(" ","T"):a,gp=a=>{let t=a;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class gh{constructor(t,i,n={},r=Vh){this.channel=t,this.event=i,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,i){var n;return this._hasReceived(t)&&i((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:i}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(i))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Zv;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Zv||(Zv={}));class Yl{constructor(t,i){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:u,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yl.syncState(this.state,r,u,c),this.pendingDiffs.forEach(g=>{this.state=Yl.syncDiff(this.state,g,u,c)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},r=>{const{onJoin:u,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Yl.syncDiff(this.state,r,u,c),d())}),this.onJoin((r,u,c)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:u,newPresences:c})}),this.onLeave((r,u,c)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,i,n,r){const u=this.cloneDeep(t),c=this.transformState(i),d={},g={};return this.map(u,(v,m)=>{c[v]||(g[v]=m)}),this.map(c,(v,m)=>{const y=u[v];if(y){const _=m.map(j=>j.presence_ref),S=y.map(j=>j.presence_ref),x=m.filter(j=>S.indexOf(j.presence_ref)<0),M=y.filter(j=>_.indexOf(j.presence_ref)<0);x.length>0&&(d[v]=x),M.length>0&&(g[v]=M)}else d[v]=m}),this.syncDiff(u,{joins:d,leaves:g},n,r)}static syncDiff(t,i,n,r){const{joins:u,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(u,(d,g)=>{var v;const m=(v=t[d])!==null&&v!==void 0?v:[];if(t[d]=this.cloneDeep(g),m.length>0){const y=t[d].map(S=>S.presence_ref),_=m.filter(S=>y.indexOf(S.presence_ref)<0);t[d].unshift(..._)}n(d,m,g)}),this.map(c,(d,g)=>{let v=t[d];if(!v)return;const m=g.map(y=>y.presence_ref);v=v.filter(y=>m.indexOf(y.presence_ref)<0),t[d]=v,r(d,v,g),v.length===0&&delete t[d]}),t}static map(t,i){return Object.getOwnPropertyNames(t).map(n=>i(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((i,n)=>{const r=t[n];return"metas"in r?i[n]=r.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[n]=r,i},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wv;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Wv||(Wv={}));var Vl;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Vl||(Vl={}));var gi;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(gi||(gi={}));class mc{constructor(t,i={config:{}},n){this.topic=t,this.params=i,this.socket=n,this.bindings={},this.state=Gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new gh(this,He.join,this.params,this.timeout),this.rejoinTimer=new fp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(He.reply,{},(r,u)=>{this._trigger(this._replyEventName(u),r)}),this.presence=new Yl(this),this.broadcastEndpointURL=gp(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,i=this.timeout){var n,r,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Gt.closed){const{config:{broadcast:c,presence:d,private:g}}=this.params,v=(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(S=>S.filter))!==null&&r!==void 0?r:[],m=!!this.bindings[Vl.PRESENCE]&&this.bindings[Vl.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,y={},_={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:v,private:g};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(S=>t?.(gi.CHANNEL_ERROR,S)),this._onClose(()=>t?.(gi.CLOSED)),this.updateJoinPayload(Object.assign({config:_},y)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:S})=>{var x;if(this.socket.setAuth(),S===void 0){t?.(gi.SUBSCRIBED);return}else{const M=this.bindings.postgres_changes,j=(x=M?.length)!==null&&x!==void 0?x:0,Y=[];for(let q=0;q<j;q++){const L=M[q],{filter:{event:H,schema:G,table:K,filter:I}}=L,gt=S&&S[q];if(gt&&gt.event===H&&gt.schema===G&&gt.table===K&&gt.filter===I)Y.push(Object.assign(Object.assign({},L),{id:gt.id}));else{this.unsubscribe(),this.state=Gt.errored,t?.(gi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Y,t&&t(gi.SUBSCRIBED);return}}).receive("error",S=>{this.state=Gt.errored,t?.(gi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t?.(gi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,i={}){return await this.send({type:"presence",event:"track",payload:t},i.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,i,n){return this.state===Gt.joined&&t===Vl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,i,n)}async send(t,i={}){var n,r;if(!this._canPush()&&t.type==="broadcast"){const{event:u,payload:c}=t,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(n=i.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=v.body)===null||r===void 0?void 0:r.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,d,g;const v=this._push(t.type,t,i.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),v.receive("ok",()=>u("ok")),v.receive("error",()=>u("error")),v.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Gt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(He.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new gh(this,He.leave,{},t),n.receive("ok",()=>{i(),r("ok")}).receive("timeout",()=>{i(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gt.closed,this.bindings={}}async _fetchWithTimeout(t,i,n){const r=new AbortController,u=setTimeout(()=>r.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},i),{signal:r.signal}));return clearTimeout(u),c}_push(t,i,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new gh(this,t,i,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>e_){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(t,i,n){return i}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,i,n){var r,u;const c=t.toLocaleLowerCase(),{close:d,error:g,leave:v,join:m}=He;if(n&&[d,g,v,m].indexOf(c)>=0&&n!==this._joinRef())return;let _=this._onMessage(c,i,n);if(i&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(S=>{var x,M,j;return((x=S.filter)===null||x===void 0?void 0:x.event)==="*"||((j=(M=S.filter)===null||M===void 0?void 0:M.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===c}).map(S=>S.callback(_,n)):(u=this.bindings[c])===null||u===void 0||u.filter(S=>{var x,M,j,Y,q,L;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in S){const H=S.id,G=(x=S.filter)===null||x===void 0?void 0:x.event;return H&&((M=i.ids)===null||M===void 0?void 0:M.includes(H))&&(G==="*"||G?.toLocaleLowerCase()===((j=i.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const H=(q=(Y=S?.filter)===null||Y===void 0?void 0:Y.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return H==="*"||H===((L=i?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===c}).map(S=>{if(typeof _=="object"&&"ids"in _){const x=_.data,{schema:M,table:j,commit_timestamp:Y,type:q,errors:L}=x;_=Object.assign(Object.assign({},{schema:M,table:j,commit_timestamp:Y,eventType:q,new:{},old:{},errors:L}),this._getPayloadRecords(x))}S.callback(_,n)})}_isClosed(){return this.state===Gt.closed}_isJoined(){return this.state===Gt.joined}_isJoining(){return this.state===Gt.joining}_isLeaving(){return this.state===Gt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,i,n){const r=t.toLocaleLowerCase(),u={type:r,filter:i,callback:n};return this.bindings[r]?this.bindings[r].push(u):this.bindings[r]=[u],this}_off(t,i){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(r=>{var u;return!(((u=r.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===n&&mc.isEqual(r.filter,i))})),this}static isEqual(t,i){if(Object.keys(t).length!==Object.keys(i).length)return!1;for(const n in t)if(t[n]!==i[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(He.close,{},t)}_onError(t){this._on(He.error,{},i=>t(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const i={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(i.new=Kv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(i.old=Kv(t.columns,t.old_record)),i}}const vh=()=>{},ga={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},u_=[1e3,2e3,5e3,1e4],h_=1e4,c_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class f_{constructor(t,i){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vh,this.transport=null,this.heartbeatIntervalMs=ga.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vh,this.ref=0,this.reconnectTimer=null,this.logger=vh,this.conn=null,this.sendBuffer=[],this.serializer=new i_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let u;return r?u=r:typeof fetch>"u"?u=(...c)=>Kl(async()=>{const{default:d}=await Promise.resolve().then(()=>Nn);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...c)=>u(...c)},!(!((n=i?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${t}/${Hh.websocket}`,this.httpEndpoint=gp(t),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Zb.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const i=t.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fb}))}disconnect(t,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,i??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const i=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const t=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,i,n){this.logger(t,i,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Pl.connecting:return bs.Connecting;case Pl.open:return bs.Open;case Pl.closing:return bs.Closing;default:return bs.Closed}}isConnected(){return this.connectionState()===bs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,i={config:{}}){const n=`realtime:${t}`,r=this.getChannels().find(u=>u.topic===n);if(r)return r;{const u=new mc(`realtime:${t}`,i,this);return this.channels.push(u),u}}push(t){const{topic:i,event:n,payload:r,ref:u}=t,c=()=>{this.encode(t,d=>{var g;(g=this.conn)===null||g===void 0||g.send(d)})};this.log("push",`${i} ${n} (${u})`,r),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(t_,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},ga.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let i=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${t}"`),i.unsubscribe())}_remove(t){this.channels=this.channels.filter(i=>i.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:r,payload:u,ref:c}=i,d=c?`(${c})`:"",g=u.status||"";this.log("receive",`${g} ${n} ${r} ${d}`.trim(),u),this.channels.filter(v=>v._isMember(n)).forEach(v=>v._trigger(r,u,c)),this._triggerStateCallbacks("message",i)})}_clearTimer(t){var i;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var i;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(He.error))}_appendParams(t,i){if(Object.keys(i).length===0)return t;const n=t.match(/\?/)?"&":"?",r=new URLSearchParams(i);return`${t}${n}${r}`}_workerObjectUrl(t){let i;if(t)i=t;else{const n=new Blob([c_],{type:"application/javascript"});i=URL.createObjectURL(n)}return i}_setConnectionState(t,i=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(t=null){let i;t?i=t:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(n=>{const r={access_token:i,version:Ib};i&&n.updateJoinPayload(r),n.joinedOnce&&n._isJoined()&&n._push(He.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${t}`,i)})}_triggerStateCallbacks(t,i){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(i)}catch(r){this.log("error",`error in ${t} callback`,r)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new fp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ga.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var i,n,r,u,c,d,g,v,m;if(this.transport=(i=t?.transport)!==null&&i!==void 0?i:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Vh,this.heartbeatIntervalMs=(r=t?.heartbeatIntervalMs)!==null&&r!==void 0?r:ga.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:vh,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t?.reconnectAfterMs)!==null&&g!==void 0?g:(y=>u_[y-1]||h_),this.encode=(v=t?.encode)!==null&&v!==void 0?v:((y,_)=>_(JSON.stringify(y))),this.decode=(m=t?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class pc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Vt(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class d_ extends pc{constructor(t,i,n){super(t),this.name="StorageApiError",this.status=i,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gh extends pc{constructor(t,i){super(t),this.name="StorageUnknownError",this.originalError=i}}var g_=function(a,t,i,n){function r(u){return u instanceof i?u:new i(function(c){c(u)})}return new(i||(i=Promise))(function(u,c){function d(m){try{v(n.next(m))}catch(y){c(y)}}function g(m){try{v(n.throw(m))}catch(y){c(y)}}function v(m){m.done?u(m.value):r(m.value).then(d,g)}v((n=n.apply(a,t||[])).next())})};const vp=a=>{let t;return a?t=a:typeof fetch>"u"?t=(...i)=>Kl(async()=>{const{default:n}=await Promise.resolve().then(()=>Nn);return{default:n}},void 0).then(({default:n})=>n(...i)):t=fetch,(...i)=>t(...i)},v_=()=>g_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Kl(()=>Promise.resolve().then(()=>Nn),void 0)).Response:Response}),Qh=a=>{if(Array.isArray(a))return a.map(i=>Qh(i));if(typeof a=="function"||a!==Object(a))return a;const t={};return Object.entries(a).forEach(([i,n])=>{const r=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[r]=Qh(n)}),t},m_=a=>{if(typeof a!="object"||a===null)return!1;const t=Object.getPrototypeOf(a);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)};var Ts=function(a,t,i,n){function r(u){return u instanceof i?u:new i(function(c){c(u)})}return new(i||(i=Promise))(function(u,c){function d(m){try{v(n.next(m))}catch(y){c(y)}}function g(m){try{v(n.throw(m))}catch(y){c(y)}}function v(m){m.done?u(m.value):r(m.value).then(d,g)}v((n=n.apply(a,t||[])).next())})};const mh=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),p_=(a,t,i)=>Ts(void 0,void 0,void 0,function*(){const n=yield v_();a instanceof n&&!i?.noResolveJson?a.json().then(r=>{const u=a.status||500,c=r?.statusCode||u+"";t(new d_(mh(r),u,c))}).catch(r=>{t(new Gh(mh(r),r))}):t(new Gh(mh(a),a))}),y_=(a,t,i,n)=>{const r={method:a,headers:t?.headers||{}};return a==="GET"||!n?r:(m_(n)?(r.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r.body=JSON.stringify(n)):r.body=n,t?.duplex&&(r.duplex=t.duplex),Object.assign(Object.assign({},r),i))};function Zl(a,t,i,n,r,u){return Ts(this,void 0,void 0,function*(){return new Promise((c,d)=>{a(i,y_(t,n,r,u)).then(g=>{if(!g.ok)throw g;return n?.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>p_(g,d,n))})})}function Ra(a,t,i,n){return Ts(this,void 0,void 0,function*(){return Zl(a,"GET",t,i,n)})}function Ie(a,t,i,n,r){return Ts(this,void 0,void 0,function*(){return Zl(a,"POST",t,n,r,i)})}function Xh(a,t,i,n,r){return Ts(this,void 0,void 0,function*(){return Zl(a,"PUT",t,n,r,i)})}function b_(a,t,i,n){return Ts(this,void 0,void 0,function*(){return Zl(a,"HEAD",t,Object.assign(Object.assign({},i),{noResolveJson:!0}),n)})}function mp(a,t,i,n,r){return Ts(this,void 0,void 0,function*(){return Zl(a,"DELETE",t,n,r,i)})}var __=function(a,t,i,n){function r(u){return u instanceof i?u:new i(function(c){c(u)})}return new(i||(i=Promise))(function(u,c){function d(m){try{v(n.next(m))}catch(y){c(y)}}function g(m){try{v(n.throw(m))}catch(y){c(y)}}function v(m){m.done?u(m.value):r(m.value).then(d,g)}v((n=n.apply(a,t||[])).next())})};class w_{constructor(t,i){this.downloadFn=t,this.shouldThrowOnError=i}then(t,i){return this.execute().then(t,i)}execute(){return __(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}}var S_=function(a,t,i,n){function r(u){return u instanceof i?u:new i(function(c){c(u)})}return new(i||(i=Promise))(function(u,c){function d(m){try{v(n.next(m))}catch(y){c(y)}}function g(m){try{v(n.throw(m))}catch(y){c(y)}}function v(m){m.done?u(m.value):r(m.value).then(d,g)}v((n=n.apply(a,t||[])).next())})};class E_{constructor(t,i){this.downloadFn=t,this.shouldThrowOnError=i}asStream(){return new w_(this.downloadFn,this.shouldThrowOnError)}then(t,i){return this.execute().then(t,i)}execute(){return S_(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}}var pe=function(a,t,i,n){function r(u){return u instanceof i?u:new i(function(c){c(u)})}return new(i||(i=Promise))(function(u,c){function d(m){try{v(n.next(m))}catch(y){c(y)}}function g(m){try{v(n.throw(m))}catch(y){c(y)}}function v(m){m.done?u(m.value):r(m.value).then(d,g)}v((n=n.apply(a,t||[])).next())})};const T_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Iv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class x_{constructor(t,i={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=i,this.bucketId=n,this.fetch=vp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,i,n,r){return pe(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},Iv),r);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),g&&u.append("metadata",this.encodeMetadata(g)),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl),g&&u.append("metadata",this.encodeMetadata(g))):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,g&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),r?.headers&&(d=Object.assign(Object.assign({},d),r.headers));const v=this._removeEmptyFolders(i),m=this._getFinalPath(v),y=yield(t=="PUT"?Xh:Ie)(this.fetch,`${this.url}/object/${m}`,u,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:v,id:y.Id,fullPath:y.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Vt(u))return{data:null,error:u};throw u}})}upload(t,i,n){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,i,n)})}uploadToSignedUrl(t,i,n,r){return pe(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(t),c=this._getFinalPath(u),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",i);try{let g;const v=Object.assign({upsert:Iv.upsert},r),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&n instanceof Blob?(g=new FormData,g.append("cacheControl",v.cacheControl),g.append("",n)):typeof FormData<"u"&&n instanceof FormData?(g=n,g.append("cacheControl",v.cacheControl)):(g=n,m["cache-control"]=`max-age=${v.cacheControl}`,m["content-type"]=v.contentType);const y=yield Xh(this.fetch,d.toString(),g,{headers:m});return{data:{path:u,fullPath:y.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Vt(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(t,i){return pe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const r=Object.assign({},this.headers);i?.upsert&&(r["x-upsert"]="true");const u=yield Ie(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),c=new URL(this.url+u.url),d=c.searchParams.get("token");if(!d)throw new pc("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:d},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}update(t,i,n){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,i,n)})}move(t,i,n){return pe(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:i,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}copy(t,i,n){return pe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ie(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:i,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}createSignedUrl(t,i,n){return pe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),u=yield Ie(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:i},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}createSignedUrls(t,i,n){return pe(this,void 0,void 0,function*(){try{const r=yield Ie(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:t},{headers:this.headers}),u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}download(t,i){const r=typeof i?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(i?.transform||{}),c=u?`?${u}`:"",d=this._getFinalPath(t),g=()=>Ra(this.fetch,`${this.url}/${r}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new E_(g,this.shouldThrowOnError)}info(t){return pe(this,void 0,void 0,function*(){const i=this._getFinalPath(t);try{const n=yield Ra(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Qh(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}exists(t){return pe(this,void 0,void 0,function*(){const i=this._getFinalPath(t);try{return yield b_(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n)&&n instanceof Gh){const r=n.originalError;if([400,404].includes(r?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,i){const n=this._getFinalPath(t),r=[],u=i?.download?`download=${i.download===!0?"":i.download}`:"";u!==""&&r.push(u);const d=typeof i?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(i?.transform||{});g!==""&&r.push(g);let v=r.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${v}`)}}}remove(t){return pe(this,void 0,void 0,function*(){try{return{data:yield mp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}list(t,i,n){return pe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},T_),i),{prefix:t||""});return{data:yield Ie(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}listV2(t,i){return pe(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ie(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},i),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const i=[];return t.width&&i.push(`width=${t.width}`),t.height&&i.push(`height=${t.height}`),t.resize&&i.push(`resize=${t.resize}`),t.format&&i.push(`format=${t.format}`),t.quality&&i.push(`quality=${t.quality}`),i.join("&")}}const O_="2.12.2",M_={"X-Client-Info":`storage-js/${O_}`};var mn=function(a,t,i,n){function r(u){return u instanceof i?u:new i(function(c){c(u)})}return new(i||(i=Promise))(function(u,c){function d(m){try{v(n.next(m))}catch(y){c(y)}}function g(m){try{v(n.throw(m))}catch(y){c(y)}}function v(m){m.done?u(m.value):r(m.value).then(d,g)}v((n=n.apply(a,t||[])).next())})};class R_{constructor(t,i={},n,r){this.shouldThrowOnError=!1;const u=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},M_),i),this.fetch=vp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return mn(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}getBucket(t){return mn(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}createBucket(t,i={public:!1}){return mn(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}updateBucket(t,i){return mn(this,void 0,void 0,function*(){try{return{data:yield Xh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return mn(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}deleteBucket(t){return mn(this,void 0,void 0,function*(){try{return{data:yield mp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}}class A_ extends R_{constructor(t,i={},n,r){super(t,i,n,r)}from(t){return new x_(this.url,this.headers,t,this.fetch)}}const C_="2.58.0";let ql="";typeof Deno<"u"?ql="deno":typeof document<"u"?ql="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ql="react-native":ql="node";const z_={"X-Client-Info":`supabase-js-${ql}/${C_}`},j_={headers:z_},k_={schema:"public"},D_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},N_={};var U_=function(a,t,i,n){function r(u){return u instanceof i?u:new i(function(c){c(u)})}return new(i||(i=Promise))(function(u,c){function d(m){try{v(n.next(m))}catch(y){c(y)}}function g(m){try{v(n.throw(m))}catch(y){c(y)}}function v(m){m.done?u(m.value):r(m.value).then(d,g)}v((n=n.apply(a,t||[])).next())})};const L_=a=>{let t;return a?t=a:typeof fetch>"u"?t=rp:t=fetch,(...i)=>t(...i)},B_=()=>typeof Headers>"u"?ap:Headers,q_=(a,t,i)=>{const n=L_(i),r=B_();return(u,c)=>U_(void 0,void 0,void 0,function*(){var d;const g=(d=yield t())!==null&&d!==void 0?d:a;let v=new r(c?.headers);return v.has("apikey")||v.set("apikey",a),v.has("Authorization")||v.set("Authorization",`Bearer ${g}`),n(u,Object.assign(Object.assign({},c),{headers:v}))})};var P_=function(a,t,i,n){function r(u){return u instanceof i?u:new i(function(c){c(u)})}return new(i||(i=Promise))(function(u,c){function d(m){try{v(n.next(m))}catch(y){c(y)}}function g(m){try{v(n.throw(m))}catch(y){c(y)}}function v(m){m.done?u(m.value):r(m.value).then(d,g)}v((n=n.apply(a,t||[])).next())})};function Y_(a){return a.endsWith("/")?a:a+"/"}function V_(a,t){var i,n;const{db:r,auth:u,realtime:c,global:d}=a,{db:g,auth:v,realtime:m,global:y}=t,_={db:Object.assign(Object.assign({},g),r),auth:Object.assign(Object.assign({},v),u),realtime:Object.assign(Object.assign({},m),c),storage:{},global:Object.assign(Object.assign(Object.assign({},y),d),{headers:Object.assign(Object.assign({},(i=y?.headers)!==null&&i!==void 0?i:{}),(n=d?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>P_(this,void 0,void 0,function*(){return""})};return a.accessToken?_.accessToken=a.accessToken:delete _.accessToken,_}function H_(a){const t=a?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Y_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const pp="2.72.0",En=30*1e3,Jh=3,ph=Jh*En,$_="http://localhost:9999",G_="supabase.auth.token",Q_={"X-Client-Info":`gotrue-js/${pp}`},Kh="X-Supabase-Api-Version",yp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},X_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,J_=600*1e3;class yc extends Error{constructor(t,i,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=n}}function nt(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class K_ extends yc{constructor(t,i,n){super(t,i,n),this.name="AuthApiError",this.status=i,this.code=n}}function Z_(a){return nt(a)&&a.name==="AuthApiError"}class bp extends yc{constructor(t,i){super(t),this.name="AuthUnknownError",this.originalError=i}}class Ki extends yc{constructor(t,i,n,r){super(t,n,r),this.name=i,this.status=n}}class $i extends Ki{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function W_(a){return nt(a)&&a.name==="AuthSessionMissingError"}class Ul extends Ki{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class va extends Ki{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ma extends Ki{constructor(t,i=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function I_(a){return nt(a)&&a.name==="AuthImplicitGrantRedirectError"}class Fv extends Ki{constructor(t,i=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zh extends Ki{constructor(t,i){super(t,"AuthRetryableFetchError",i,void 0)}}function yh(a){return nt(a)&&a.name==="AuthRetryableFetchError"}class tm extends Ki{constructor(t,i,n){super(t,"AuthWeakPasswordError",i,"weak_password"),this.reasons=n}}class Wh extends Ki{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Aa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),em=` 	
\r=`.split(""),F_=(()=>{const a=new Array(128);for(let t=0;t<a.length;t+=1)a[t]=-1;for(let t=0;t<em.length;t+=1)a[em[t].charCodeAt(0)]=-2;for(let t=0;t<Aa.length;t+=1)a[Aa[t].charCodeAt(0)]=t;return a})();function im(a,t,i){if(a!==null)for(t.queue=t.queue<<8|a,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;i(Aa[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;i(Aa[n]),t.queuedBits-=6}}function _p(a,t,i){const n=F_[a];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)i(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function sm(a){const t=[],i=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},u=c=>{iw(c,n,i)};for(let c=0;c<a.length;c+=1)_p(a.charCodeAt(c),r,u);return t.join("")}function tw(a,t){if(a<=127){t(a);return}else if(a<=2047){t(192|a>>6),t(128|a&63);return}else if(a<=65535){t(224|a>>12),t(128|a>>6&63),t(128|a&63);return}else if(a<=1114111){t(240|a>>18),t(128|a>>12&63),t(128|a>>6&63),t(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function ew(a,t){for(let i=0;i<a.length;i+=1){let n=a.charCodeAt(i);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(a.charCodeAt(i+1)-56320&65535|r)+65536,i+=1}tw(n,t)}}function iw(a,t,i){if(t.utf8seq===0){if(a<=127){i(a);return}for(let n=1;n<6;n+=1)if((a>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=a&31;else if(t.utf8seq===3)t.codepoint=a&15;else if(t.utf8seq===4)t.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|a&63,t.utf8seq-=1,t.utf8seq===0&&i(t.codepoint)}}function sw(a){const t=[],i={queue:0,queuedBits:0},n=r=>{t.push(r)};for(let r=0;r<a.length;r+=1)_p(a.charCodeAt(r),i,n);return new Uint8Array(t)}function nw(a){const t=[];return ew(a,i=>t.push(i)),new Uint8Array(t)}function lw(a){const t=[],i={queue:0,queuedBits:0},n=r=>{t.push(r)};return a.forEach(r=>im(r,i,n)),im(null,i,n),t.join("")}function rw(a){return Math.round(Date.now()/1e3)+a}function aw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const t=Math.random()*16|0;return(a=="x"?t:t&3|8).toString(16)})}const qe=()=>typeof window<"u"&&typeof document<"u",gs={tested:!1,writable:!1},wp=()=>{if(!qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gs.tested)return gs.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),gs.tested=!0,gs.writable=!0}catch{gs.tested=!0,gs.writable=!1}return gs.writable};function ow(a){const t={},i=new URL(a);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((r,u)=>{t[u]=r})}catch{}return i.searchParams.forEach((n,r)=>{t[r]=n}),t}const Sp=a=>{let t;return a?t=a:typeof fetch>"u"?t=(...i)=>Kl(async()=>{const{default:n}=await Promise.resolve().then(()=>Nn);return{default:n}},void 0).then(({default:n})=>n(...i)):t=fetch,(...i)=>t(...i)},uw=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Tn=async(a,t,i)=>{await a.setItem(t,JSON.stringify(i))},vs=async(a,t)=>{const i=await a.getItem(t);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Vi=async(a,t)=>{await a.removeItem(t)};class Ua{constructor(){this.promise=new Ua.promiseConstructor((t,i)=>{this.resolve=t,this.reject=i})}}Ua.promiseConstructor=Promise;function bh(a){const t=a.split(".");if(t.length!==3)throw new Wh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!X_.test(t[n]))throw new Wh("JWT not in base64url format");return{header:JSON.parse(sm(t[0])),payload:JSON.parse(sm(t[1])),signature:sw(t[2]),raw:{header:t[0],payload:t[1]}}}async function hw(a){return await new Promise(t=>{setTimeout(()=>t(null),a)})}function cw(a,t){return new Promise((n,r)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await a(u);if(!t(u,null,c)){n(c);return}}catch(c){if(!t(u,c)){r(c);return}}})()})}function fw(a){return("0"+a.toString(16)).substr(-2)}function dw(){const t=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=i.length;let r="";for(let u=0;u<56;u++)r+=i.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(t),Array.from(t,fw).join("")}async function gw(a){const i=new TextEncoder().encode(a),n=await crypto.subtle.digest("SHA-256",i),r=new Uint8Array(n);return Array.from(r).map(u=>String.fromCharCode(u)).join("")}async function vw(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const i=await gw(a);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pn(a,t,i=!1){const n=dw();let r=n;i&&(r+="/PASSWORD_RECOVERY"),await Tn(a,`${t}-code-verifier`,r);const u=await vw(n);return[u,n===u?"plain":"s256"]}const mw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pw(a){const t=a.headers.get(Kh);if(!t||!t.match(mw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function yw(a){if(!a)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(a<=t)throw new Error("JWT has expired")}function bw(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _w=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yn(a){if(!_w.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _h(){const a={};return new Proxy(a,{get:(t,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const n=i.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nm(a){return JSON.parse(JSON.stringify(a))}var ww=function(a,t){var i={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&t.indexOf(n)<0&&(i[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(a);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(a,n[r])&&(i[n[r]]=a[n[r]]);return i};const ys=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Sw=[502,503,504];async function lm(a){var t;if(!uw(a))throw new Zh(ys(a),0);if(Sw.includes(a.status))throw new Zh(ys(a),a.status);let i;try{i=await a.json()}catch(u){throw new bp(ys(u),u)}let n;const r=pw(a);if(r&&r.getTime()>=yp["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?n=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(n=i.error_code),n){if(n==="weak_password")throw new tm(ys(i),a.status,((t=i.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $i}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new tm(ys(i),a.status,i.weak_password.reasons);throw new K_(ys(i),a.status||500,n)}const Ew=(a,t,i,n)=>{const r={method:a,headers:t?.headers||{}};return a==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),i))};async function ot(a,t,i,n){var r;const u=Object.assign({},n?.headers);u[Kh]||(u[Kh]=yp["2024-01-01"].name),n?.jwt&&(u.Authorization=`Bearer ${n.jwt}`);const c=(r=n?.query)!==null&&r!==void 0?r:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await Tw(a,t,i+d,{headers:u,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(g):{data:Object.assign({},g),error:null}}async function Tw(a,t,i,n,r,u){const c=Ew(t,n,r,u);let d;try{d=await a(i,Object.assign({},c))}catch(g){throw console.error(g),new Zh(ys(g),0)}if(d.ok||await lm(d),n?.noResolveJson)return d;try{return await d.json()}catch(g){await lm(g)}}function We(a){var t;let i=null;Rw(a)&&(i=Object.assign({},a),a.expires_at||(i.expires_at=rw(a.expires_in)));const n=(t=a.user)!==null&&t!==void 0?t:a;return{data:{session:i,user:n},error:null}}function rm(a){const t=We(a);return!t.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((i,n)=>i&&typeof n=="string",!0)&&(t.data.weak_password=a.weak_password),t}function Qi(a){var t;return{data:{user:(t=a.user)!==null&&t!==void 0?t:a},error:null}}function xw(a){return{data:a,error:null}}function Ow(a){const{action_link:t,email_otp:i,hashed_token:n,redirect_to:r,verification_type:u}=a,c=ww(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:i,hashed_token:n,redirect_to:r,verification_type:u},g=Object.assign({},c);return{data:{properties:d,user:g},error:null}}function Mw(a){return a}function Rw(a){return a.access_token&&a.refresh_token&&a.expires_in}const wh=["global","local","others"];var Aw=function(a,t){var i={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&t.indexOf(n)<0&&(i[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(a);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(a,n[r])&&(i[n[r]]=a[n[r]]);return i};class Cw{constructor({url:t="",headers:i={},fetch:n}){this.url=t,this.headers=i,this.fetch=Sp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,i=wh[0]){if(wh.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wh.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,i={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Qi})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:i}=t,n=Aw(t,["options"]),r=Object.assign(Object.assign({},n),i);return"newEmail"in n&&(r.new_email=n?.newEmail,delete r.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Ow,redirectTo:i?.redirectTo})}catch(i){if(nt(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Qi})}catch(i){if(nt(i))return{data:{user:null},error:i};throw i}}async listUsers(t){var i,n,r,u,c,d,g;try{const v={nextPage:null,lastPage:0,total:0},m=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(i=t?.page)===null||i===void 0?void 0:i.toString())!==null&&n!==void 0?n:"",per_page:(u=(r=t?.perPage)===null||r===void 0?void 0:r.toString())!==null&&u!==void 0?u:""},xform:Mw});if(m.error)throw m.error;const y=await m.json(),_=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(g=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(x=>{const M=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(x.split(";")[1].split("=")[1]);v[`${j}Page`]=M}),v.total=parseInt(_)),{data:Object.assign(Object.assign({},y),v),error:null}}catch(v){if(nt(v))return{data:{users:[]},error:v};throw v}}async getUserById(t){yn(t);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Qi})}catch(i){if(nt(i))return{data:{user:null},error:i};throw i}}async updateUserById(t,i){yn(t);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:i,headers:this.headers,xform:Qi})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,i=!1){yn(t);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:i},xform:Qi})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){yn(t.userId);try{const{data:i,error:n}=await ot(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:i,error:n}}catch(i){if(nt(i))return{data:null,error:i};throw i}}async _deleteFactor(t){yn(t.userId),yn(t.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(i){if(nt(i))return{data:null,error:i};throw i}}}function am(a={}){return{getItem:t=>a[t]||null,setItem:(t,i)=>{a[t]=i},removeItem:t=>{delete a[t]}}}function zw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bn={debug:!!(globalThis&&wp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ep extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jw extends Ep{}async function kw(a,t,i){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),bn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,r.name);try{return await i()}finally{bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,r.name)}}else{if(t===0)throw bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new jw(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(bn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function Tp(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function Dw(a){return parseInt(a,16)}function Nw(a){const t=new TextEncoder().encode(a);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Uw(a){var t;const{chainId:i,domain:n,expirationTime:r,issuedAt:u=new Date,nonce:c,notBefore:d,requestId:g,resources:v,scheme:m,uri:y,version:_}=a;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((t=a.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const S=Tp(a.address),x=m?`${m}://${n}`:n,M=a.statement?`${a.statement}
`:"",j=`${x} wants you to sign in with your Ethereum account:
${S}

${M}`;let Y=`URI: ${y}
Version: ${_}
Chain ID: ${i}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(r&&(Y+=`
Expiration Time: ${r.toISOString()}`),d&&(Y+=`
Not Before: ${d.toISOString()}`),g&&(Y+=`
Request ID: ${g}`),v){let q=`
Resources:`;for(const L of v){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);q+=`
- ${L}`}Y+=q}return`${j}
${Y}`}zw();const Lw={url:$_,storageKey:G_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Q_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function om(a,t,i){return await i()}const _n={};class Xl{constructor(t){var i,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xl.nextInstanceID,Xl.nextInstanceID+=1,this.instanceID>0&&qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Lw),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Cw({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Sp(r.fetch),this.lock=r.lock||om,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:qe()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=kw:this.lock=om,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:wp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=am(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=am(this.memoryStorage)),qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var t,i;return(i=(t=_n[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(t){_n[this.storageKey]=Object.assign(Object.assign({},_n[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,i;return(i=(t=_n[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){_n[this.storageKey]=Object.assign(Object.assign({},_n[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pp}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const i=ow(window.location.href);let n="none";if(this._isImplicitGrantCallback(i)?n="implicit":await this._isPKCECallback(i)&&(n="pkce"),qe()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:u}=await this._getSessionFromURL(i,n);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),I_(u)){const g=(t=u.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:d}=r;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return nt(i)?{error:i}:{error:new bp("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var i,n,r;try{const u=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(i=t?.options)===null||i===void 0?void 0:i.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=t?.options)===null||r===void 0?void 0:r.captchaToken}},xform:We}),{data:c,error:d}=u;if(d||!c)return{data:{user:null,session:null},error:d};const g=c.session,v=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(u){if(nt(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(t){var i,n,r;try{let u;if("email"in t){const{email:m,password:y,options:_}=t;let S=null,x=null;this.flowType==="pkce"&&([S,x]=await pn(this.storage,this.storageKey)),u=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:m,password:y,data:(i=_?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:S,code_challenge_method:x},xform:We})}else if("phone"in t){const{phone:m,password:y,options:_}=t;u=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:(n=_?.data)!==null&&n!==void 0?n:{},channel:(r=_?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:We})}else throw new va("You must provide either an email or phone number and a password");const{data:c,error:d}=u;if(d||!c)return{data:{user:null,session:null},error:d};const g=c.session,v=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(u){if(nt(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(t){try{let i;if("email"in t){const{email:u,password:c,options:d}=t;i=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:rm})}else if("phone"in t){const{phone:u,password:c,options:d}=t;i=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:rm})}else throw new va("You must provide either an email or phone number and a password");const{data:n,error:r}=i;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ul}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(i){if(nt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(t){var i,n,r,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:i}=t;switch(i){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(t){var i,n,r,u,c,d,g,v,m,y,_;let S,x;if("message"in t)S=t.message,x=t.signature;else{const{chain:M,wallet:j,statement:Y,options:q}=t;let L;if(qe())if(typeof j=="object")L=j;else{const yt=window;if("ethereum"in yt&&typeof yt.ethereum=="object"&&"request"in yt.ethereum&&typeof yt.ethereum.request=="function")L=yt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=j}const H=new URL((i=q?.url)!==null&&i!==void 0?i:window.location.href),G=await L.request({method:"eth_requestAccounts"}).then(yt=>yt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!G||G.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=Tp(G[0]);let I=(n=q?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!I){const yt=await L.request({method:"eth_chainId"});I=Dw(yt)}const gt={domain:H.host,address:K,statement:Y,uri:H.href,version:"1",chainId:I,nonce:(r=q?.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(c=(u=q?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=q?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(g=q?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(v=q?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(m=q?.signInWithEthereum)===null||m===void 0?void 0:m.resources};S=Uw(gt),x=await L.request({method:"personal_sign",params:[Nw(S),K]})}try{const{data:M,error:j}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:x},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:We});if(j)throw j;return!M||!M.session||!M.user?{data:{user:null,session:null},error:new Ul}:(M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),{data:Object.assign({},M),error:j})}catch(M){if(nt(M))return{data:{user:null,session:null},error:M};throw M}}async signInWithSolana(t){var i,n,r,u,c,d,g,v,m,y,_,S;let x,M;if("message"in t)x=t.message,M=t.signature;else{const{chain:j,wallet:Y,statement:q,options:L}=t;let H;if(qe())if(typeof Y=="object")H=Y;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))H=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Y!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=Y}const G=new URL((i=L?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in H&&H.signIn){const K=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L?.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),q?{statement:q}:null));let I;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")I=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)I=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)x=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),M=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${G.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(r=(n=L?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((u=L?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((c=L?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((d=L?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((g=L?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((v=L?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((y=(m=L?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||y===void 0)&&y.length?["Resources",...L.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const K=await H.signMessage(new TextEncoder().encode(x),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");M=K}}try{const{data:j,error:Y}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:lw(M)},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:We});if(Y)throw Y;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Ul}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:Y})}catch(j){if(nt(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const i=await vs(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(i??"").split("/");try{const{data:u,error:c}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:We});if(await Vi(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Ul}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:r??null}),error:c})}catch(u){if(nt(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(t){try{const{options:i,provider:n,token:r,access_token:u,nonce:c}=t,d=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:We}),{data:g,error:v}=d;return v?{data:{user:null,session:null},error:v}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Ul}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:v})}catch(i){if(nt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(t){var i,n,r,u,c;try{if("email"in t){const{email:d,options:g}=t;let v=null,m=null;this.flowType==="pkce"&&([v,m]=await pn(this.storage,this.storageKey));const{error:y}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(n=g?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:m},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in t){const{phone:d,options:g}=t,{data:v,error:m}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(r=g?.data)!==null&&r!==void 0?r:{},create_user:(u=g?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(c=g?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:v?.message_id},error:m}}throw new va("You must provide either an email or phone number.")}catch(d){if(nt(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var i,n;try{let r,u;"options"in t&&(r=(i=t.options)===null||i===void 0?void 0:i.redirectTo,u=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:d}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:r,xform:We});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,v=c.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(r){if(nt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var i,n,r;try{let u=null,c=null;return this.flowType==="pkce"&&([u,c]=await pn(this.storage,this.storageKey)),await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(i=t.options)===null||i===void 0?void 0:i.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=t?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:xw})}catch(u){if(nt(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:i},error:n}=t;if(n)throw n;if(!i)throw new $i;const{error:r}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(nt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const i=`${this.url}/resend`;if("email"in t){const{email:n,type:r,options:u}=t,{error:c}=await ot(this.fetch,"POST",i,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:n,type:r,options:u}=t,{data:c,error:d}=await ot(this.fetch,"POST",i,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new va("You must provide either an email or phone number and a type")}catch(i){if(nt(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(t,i){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await i()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=i();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await t(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const i=await vs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ph:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await vs(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=_h()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(g,v,m)=>(!c&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,v,m))})}return{data:{session:t},error:null}}const{session:r,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{session:null},error:u}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Qi}):await this._useSession(async i=>{var n,r,u;const{data:c,error:d}=i;if(d)throw d;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $i}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&u!==void 0?u:void 0,xform:Qi})})}catch(i){if(nt(i))return W_(i)&&(await this._removeSession(),await Vi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(t,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,i))}async _updateUser(t,i={}){try{return await this._useSession(async n=>{const{data:r,error:u}=n;if(u)throw u;if(!r.session)throw new $i;const c=r.session;let d=null,g=null;this.flowType==="pkce"&&t.email!=null&&([d,g]=await pn(this.storage,this.storageKey));const{data:v,error:m}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:g}),jwt:c.access_token,xform:Qi});if(m)throw m;return c.user=v.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $i;const i=Date.now()/1e3;let n=i,r=!0,u=null;const{payload:c}=bh(t.access_token);if(c.exp&&(n=c.exp,r=n<=i),r){const{session:d,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!d)return{data:{user:null,session:null},error:null};u=d}else{const{data:d,error:g}=await this._getUser(t.access_token);if(g)throw g;u={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:n-i,expires_at:n},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(i){if(nt(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async i=>{var n;if(!t){const{data:c,error:d}=i;if(d)throw d;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new $i;const{session:r,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{user:null,session:null},error:u}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(nt(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(t,i){try{if(!qe())throw new ma("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ma(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Fv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ma("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Fv("No code detected.");const{data:q,error:L}=await this._exchangeCodeForSession(t.code);if(L)throw L;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:u,refresh_token:c,expires_in:d,expires_at:g,token_type:v}=t;if(!u||!d||!c||!v)throw new ma("No session defined in URL");const m=Math.round(Date.now()/1e3),y=parseInt(d);let _=m+y;g&&(_=parseInt(g));const S=_-m;S*1e3<=En&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${y}s`);const x=_-y;m-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,_,m):m-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,_,m);const{data:M,error:j}=await this._getUser(u);if(j)throw j;const Y={provider_token:n,provider_refresh_token:r,access_token:u,expires_in:y,expires_at:_,refresh_token:c,token_type:v,user:M.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:Y,redirectType:t.type},error:null}}catch(n){if(nt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const i=await vs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&i)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async i=>{var n;const{data:r,error:u}=i;if(u)return{error:u};const c=(n=r.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!(Z_(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await Vi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const i=aw(),n={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async i=>{var n,r;try{const{data:{session:u},error:c}=i;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,i={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await pn(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(nt(u))return{data:null,error:u};throw u}}async getUserIdentities(){var t;try{const{data:i,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=i.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(i){if(nt(i))return{data:null,error:i};throw i}}async linkIdentity(t){var i;try{const{data:n,error:r}=await this._useSession(async u=>{var c,d,g,v,m;const{data:y,error:_}=u;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",S,{headers:this.headers,jwt:(m=(v=y.session)===null||v===void 0?void 0:v.access_token)!==null&&m!==void 0?m:void 0})});if(r)throw r;return qe()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(nt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async i=>{var n,r;const{data:u,error:c}=i;if(c)throw c;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(n=u.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(i){if(nt(i))return{data:null,error:i};throw i}}async _refreshAccessToken(t){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{const n=Date.now();return await cw(async r=>(r>0&&await hw(200*Math.pow(2,r-1)),this._debug(i,"refreshing attempt",r),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:We})),(r,u)=>{const c=200*Math.pow(2,r);return u&&yh(u)&&Date.now()+c-n<En})}catch(n){if(this._debug(i,"error",n),nt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(i,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,i){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",i,"url",n),qe()&&!i.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,i;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await vs(this.storage,this.storageKey);if(r&&this.userStorage){let c=await vs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:r.user},await Tn(this.userStorage,this.storageKey+"-user",c)),r.user=(t=c?.user)!==null&&t!==void 0?t:_h()}else if(r&&!r.user&&!r.user){const c=await vs(this.storage,this.storageKey+"-user");c&&c?.user?(r.user=c.user,await Vi(this.storage,this.storageKey+"-user"),await Tn(this.storage,this.storageKey,r)):r.user=_h()}if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const u=((i=r.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<ph;if(this._debug(n,`session has${u?"":" not"} expired with margin of ${ph}s`),u){if(this.autoRefreshToken&&r.refresh_token){const{error:c}=await this._callRefreshToken(r.refresh_token);c&&(console.error(c),yh(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(r.access_token);!d&&c?.user?(r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var i,n;if(!t)throw new $i;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Ua;const{data:u,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!u.session)throw new $i;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const d={session:u.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(u){if(this._debug(r,"error",u),nt(u)){const c={session:null,error:u};return yh(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(u),u}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,i,n=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",i,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:i});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,i)}catch(g){u.push(g)}});if(await Promise.all(c),u.length>0){for(let d=0;d<u.length;d+=1)console.error(u[d]);throw u[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const i=Object.assign({},t),n=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&i.user&&await Tn(this.userStorage,this.storageKey+"-user",{user:i.user});const r=Object.assign({},i);delete r.user;const u=nm(r);await Tn(this.storage,this.storageKey,u)}else{const r=nm(i);await Tn(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Vi(this.storage,this.storageKey),await Vi(this.storage,this.storageKey+"-code-verifier"),await Vi(this.storage,this.storageKey+"-user"),this.userStorage&&await Vi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),En);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async i=>{const{data:{session:n}}=i;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-t)/En);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${En}ms, refresh threshold is ${Jh} ticks`),r<=Jh&&await this._callRefreshToken(n.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ep)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const i=`#_onVisibilityChanged(${t})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,i,n){const r=[`provider=${encodeURIComponent(i)}`];if(n?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[u,c]=await pn(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});r.push(d.toString())}if(n?.queryParams){const u=new URLSearchParams(n.queryParams);r.push(u.toString())}return n?.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async i=>{var n;const{data:r,error:u}=i;return u?{data:null,error:u}:await ot(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token})})}catch(i){if(nt(i))return{data:null,error:i};throw i}}async _enroll(t){try{return await this._useSession(async i=>{var n,r;const{data:u,error:c}=i;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:g,error:v}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=u?.session)===null||n===void 0?void 0:n.access_token});return v?{data:null,error:v}:(t.factorType==="totp"&&(!((r=g?.totp)===null||r===void 0)&&r.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(i){if(nt(i))return{data:null,error:i};throw i}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var n;const{data:r,error:u}=i;if(u)return{data:null,error:u};const{data:c,error:d}=await ot(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(i){if(nt(i))return{data:null,error:i};throw i}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var n;const{data:r,error:u}=i;return u?{data:null,error:u}:await ot(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token})})}catch(i){if(nt(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(t){const{data:i,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:i.id,code:t.code})}async _listFactors(){const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const n=t?.factors||[],r=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),u=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:r,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var i,n;const{data:{session:r},error:u}=t;if(u)return{data:null,error:u};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=bh(r.access_token);let d=null;c.aal&&(d=c.aal);let g=d;((n=(i=r.user.factors)===null||i===void 0?void 0:i.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const m=c.amr||[];return{data:{currentLevel:d,nextLevel:g,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,i={keys:[]}){let n=i.keys.find(d=>d.kid===t);if(n)return n;const r=Date.now();if(n=this.jwks.keys.find(d=>d.kid===t),n&&this.jwks_cached_at+J_>r)return n;const{data:u,error:c}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=r,n=u.keys.find(d=>d.kid===t),!n)?null:n}async getClaims(t,i={}){try{let n=t;if(!n){const{data:S,error:x}=await this.getSession();if(x||!S.session)return{data:null,error:x};n=S.session.access_token}const{header:r,payload:u,signature:c,raw:{header:d,payload:g}}=bh(n);i?.allowExpired||yw(u.exp);const v=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!v){const{error:S}=await this.getUser(n);if(S)throw S;return{data:{claims:u,header:r,signature:c},error:null}}const m=bw(r.alg),y=await crypto.subtle.importKey("jwk",v,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,c,nw(`${d}.${g}`)))throw new Wh("Invalid JWT signature");return{data:{claims:u,header:r,signature:c},error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}}}Xl.nextInstanceID=0;const Bw=Xl;class qw extends Bw{constructor(t){super(t)}}var Pw=function(a,t,i,n){function r(u){return u instanceof i?u:new i(function(c){c(u)})}return new(i||(i=Promise))(function(u,c){function d(m){try{v(n.next(m))}catch(y){c(y)}}function g(m){try{v(n.throw(m))}catch(y){c(y)}}function v(m){m.done?u(m.value):r(m.value).then(d,g)}v((n=n.apply(a,t||[])).next())})};class Yw{constructor(t,i,n){var r,u,c;this.supabaseUrl=t,this.supabaseKey=i;const d=H_(t);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const g=`sb-${d.hostname.split(".")[0]}-auth-token`,v={db:k_,realtime:N_,auth:Object.assign(Object.assign({},D_),{storageKey:g}),global:j_},m=V_(n??{},v);this.storageKey=(r=m.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(u=m.global.headers)!==null&&u!==void 0?u:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=q_(i,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new Kb(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new A_(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new qb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,i={},n={}){return this.rest.rpc(t,i,n)}channel(t,i={config:{}}){return this.realtime.channel(t,i)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,i;return Pw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(i=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&i!==void 0?i:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:i,detectSessionInUrl:n,storage:r,userStorage:u,storageKey:c,flowType:d,lock:g,debug:v},m,y){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qw({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),m),storageKey:c,autoRefreshToken:t,persistSession:i,detectSessionInUrl:n,storage:r,userStorage:u,flowType:d,lock:g,debug:v,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new f_(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,n)=>{this._handleTokenChanged(i,"CLIENT",n?.access_token)})}_handleTokenChanged(t,i,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vw=(a,t,i)=>new Yw(a,t,i);function Hw(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const t=a.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Hw()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $w="https://rhrbxtmqrpbnoyylgsyl.supabase.co",Gw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJocmJ4dG1xcnBibm95eWxnc3lsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MjU4ODcsImV4cCI6MjA3NDQwMTg4N30.ebVHsiz5P-aMgOP9w3hTt7yGSON3Q0bHYTtU3466ScE",Ji=Vw($w,Gw),xp=ct.createContext(void 0);function Qw(a){const t=ue.c(8),{children:i}=a,[n,r]=ct.useState(null),[u,c]=ct.useState(!0);let d,g;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{Ji.auth.getSession().then(S=>{const{data:x}=S,{session:M}=x;r(M),c(!1),M??Ma("auth")});const{data:y}=Ji.auth.onAuthStateChange((S,x)=>{r(x),x??Ma("auth")}),{subscription:_}=y;return()=>_.unsubscribe()},g=[],t[0]=d,t[1]=g):(d=t[0],g=t[1]),ct.useEffect(d,g);let v;t[2]!==u||t[3]!==n?(v={session:n,loading:u},t[2]=u,t[3]=n,t[4]=v):v=t[4];let m;return t[5]!==i||t[6]!==v?(m=N.jsx(xp.Provider,{value:v,children:i}),t[5]=i,t[6]=v,t[7]=m):m=t[7],m}function Op(){const a=ct.useContext(xp);if(!a)throw new Error("useTrades must be used inside TradesProvider");return a}function Xw(a){const t=ue.c(7),[i,n]=ct.useState(!0),[r,u]=ct.useState(null),[c,d]=ct.useState(null);let g;t[0]!==a?(g=()=>{let y=!0;return a().then(_=>{y&&u(_)}).catch(_=>{y&&d(_)}).finally(()=>{y&&n(!1)}),()=>{y=!1}},t[0]=a,t[1]=g):g=t[1];let v;t[2]===Symbol.for("react.memo_cache_sentinel")?(v=[],t[2]=v):v=t[2],ct.useEffect(g,v);let m;return t[3]!==r||t[4]!==c||t[5]!==i?(m={data:r,loading:i,error:c,setData:u},t[3]=r,t[4]=c,t[5]=i,t[6]=m):m=t[6],m}async function Jw(){const{data:a,error:t}=await Ji.from("trades").select("*").order("created_at",{ascending:!1});if(t)throw t;return a}async function Kw(a){const{data:t,error:i}=await Ji.from("trades").insert([a]).select().single();if(i)throw i;return console.log(t),t}async function Zw(a,t){const{data:i,error:n}=await Ji.from("trades").update(t).eq("id",a).select().single();if(n)throw n;return i}async function Ww(a){const{error:t}=await Ji.from("trades").delete().eq("id",a);if(t)throw t}const Mp=ct.createContext(void 0);function Rp(a){const t=ue.c(18),{children:i}=a,{data:n,error:r,loading:u,setData:c}=Xw(Jw);let d;t[0]!==c?(d=async function(Y){const q=await Kw(Y);return c(L=>[q,...L||[]]),q},t[0]=c,t[1]=d):d=t[1];const g=d;let v;t[2]!==c?(v=async function(Y,q){const L=await Zw(Y,q);c(H=>H?.map(G=>G.id===L.id?L:G)||null)},t[2]=c,t[3]=v):v=t[3];const m=v;let y;t[4]!==c?(y=async function(Y){await Ww(Y),c(q=>q?.filter(L=>L.id!==Y)||null)},t[4]=c,t[5]=y):y=t[5];const _=y;let S;t[6]!==n?(S=n||[],t[6]=n,t[7]=S):S=t[7];let x;t[8]!==_||t[9]!==r||t[10]!==g||t[11]!==u||t[12]!==S||t[13]!==m?(x={trades:S,error:r,loading:u,insertTrade:g,updateTrade:m,deleteTrade:_},t[8]=_,t[9]=r,t[10]=g,t[11]=u,t[12]=S,t[13]=m,t[14]=x):x=t[14];let M;return t[15]!==i||t[16]!==x?(M=N.jsx(Mp.Provider,{value:x,children:i}),t[15]=i,t[16]=x,t[17]=M):M=t[17],M}function bc(){const a=ct.useContext(Mp);if(!a)throw new Error("useTrades must be used inside TradesProvider");return a}function Iw(){const a=ue.c(12),{session:t}=Op(),[i,n]=ct.useState(""),[r,u]=ct.useState(""),[c,d]=ct.useState(!1);let g,v;a[0]!==t?(g=()=>{t&&Ma("")},v=[t],a[0]=t,a[1]=g,a[2]=v):(g=a[1],v=a[2]),ct.useEffect(g,v);let m;a[3]!==i||a[4]!==r?(m=async function(){d(!0);const{error:Y}=await Ji.auth.signInWithPassword({email:i,password:r});Y&&alert(Y.message),d(!1)},a[3]=i,a[4]=r,a[5]=m):m=a[5];const y=m;let _;a[6]===Symbol.for("react.memo_cache_sentinel")?(_={alignSelf:"anchor-center"},a[6]=_):_=a[6];let S;a[7]===Symbol.for("react.memo_cache_sentinel")?(S=N.jsx("input",{className:"border p-2",type:"email",placeholder:"Email",onChange:j=>n(j.target.value)}),a[7]=S):S=a[7];let x;a[8]===Symbol.for("react.memo_cache_sentinel")?(x=N.jsx("input",{className:"border p-2",type:"password",placeholder:"Password",onChange:j=>u(j.target.value)}),a[8]=x):x=a[8];let M;return a[9]!==y||a[10]!==c?(M=N.jsxs("dialog",{className:"flex flex-col gap-1",style:_,children:[S,x,N.jsx("button",{onClick:y,disabled:c,children:"Sign In"})]}),a[9]=y,a[10]=c,a[11]=M):M=a[11],M}var Sh={exports:{}},Eh,um;function Fw(){if(um)return Eh;um=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Eh=a,Eh}var Th,hm;function t1(){if(hm)return Th;hm=1;var a=Fw();function t(){}function i(){}return i.resetWarningCache=t,Th=function(){function n(c,d,g,v,m,y){if(y!==a){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}n.isRequired=n;function r(){return n}var u={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:i,resetWarningCache:t};return u.PropTypes=u,u},Th}var cm;function e1(){return cm||(cm=1,Sh.exports=t1()()),Sh.exports}var i1=e1();const pt=dc(i1);function Ih(){return Ih=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n])}return a},Ih.apply(this,arguments)}function s1(a,t){if(a==null)return{};var i=n1(a,t),n,r;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(r=0;r<u.length;r++)n=u[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(a,n)&&(i[n]=a[n])}return i}function n1(a,t){if(a==null)return{};var i={},n=Object.keys(a),r,u;for(u=0;u<n.length;u++)r=n[u],!(t.indexOf(r)>=0)&&(i[r]=a[r]);return i}var _c=ct.forwardRef(function(a,t){var i=a.color,n=i===void 0?"currentColor":i,r=a.size,u=r===void 0?24:r,c=s1(a,["color","size"]);return At.createElement("svg",Ih({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),At.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),At.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}))});_c.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};_c.displayName="Book";function Fh(){return Fh=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n])}return a},Fh.apply(this,arguments)}function l1(a,t){if(a==null)return{};var i=r1(a,t),n,r;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(r=0;r<u.length;r++)n=u[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(a,n)&&(i[n]=a[n])}return i}function r1(a,t){if(a==null)return{};var i={},n=Object.keys(a),r,u;for(u=0;u<n.length;u++)r=n[u],!(t.indexOf(r)>=0)&&(i[r]=a[r]);return i}var wc=ct.forwardRef(function(a,t){var i=a.color,n=i===void 0?"currentColor":i,r=a.size,u=r===void 0?24:r,c=l1(a,["color","size"]);return At.createElement("svg",Fh({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),At.createElement("circle",{cx:"12",cy:"12",r:"10"}))});wc.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};wc.displayName="Circle";function tc(){return tc=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n])}return a},tc.apply(this,arguments)}function a1(a,t){if(a==null)return{};var i=o1(a,t),n,r;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(r=0;r<u.length;r++)n=u[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(a,n)&&(i[n]=a[n])}return i}function o1(a,t){if(a==null)return{};var i={},n=Object.keys(a),r,u;for(u=0;u<n.length;u++)r=n[u],!(t.indexOf(r)>=0)&&(i[r]=a[r]);return i}var Sc=ct.forwardRef(function(a,t){var i=a.color,n=i===void 0?"currentColor":i,r=a.size,u=r===void 0?24:r,c=a1(a,["color","size"]);return At.createElement("svg",tc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),At.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),At.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});Sc.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Sc.displayName="Edit";function ec(){return ec=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n])}return a},ec.apply(this,arguments)}function u1(a,t){if(a==null)return{};var i=h1(a,t),n,r;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(r=0;r<u.length;r++)n=u[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(a,n)&&(i[n]=a[n])}return i}function h1(a,t){if(a==null)return{};var i={},n=Object.keys(a),r,u;for(u=0;u<n.length;u++)r=n[u],!(t.indexOf(r)>=0)&&(i[r]=a[r]);return i}var Ec=ct.forwardRef(function(a,t){var i=a.color,n=i===void 0?"currentColor":i,r=a.size,u=r===void 0?24:r,c=u1(a,["color","size"]);return At.createElement("svg",ec({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),At.createElement("circle",{cx:"12",cy:"12",r:"10"}),At.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),At.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))});Ec.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Ec.displayName="Info";function ic(){return ic=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n])}return a},ic.apply(this,arguments)}function c1(a,t){if(a==null)return{};var i=f1(a,t),n,r;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(r=0;r<u.length;r++)n=u[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(a,n)&&(i[n]=a[n])}return i}function f1(a,t){if(a==null)return{};var i={},n=Object.keys(a),r,u;for(u=0;u<n.length;u++)r=n[u],!(t.indexOf(r)>=0)&&(i[r]=a[r]);return i}var Tc=ct.forwardRef(function(a,t){var i=a.color,n=i===void 0?"currentColor":i,r=a.size,u=r===void 0?24:r,c=c1(a,["color","size"]);return At.createElement("svg",ic({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),At.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),At.createElement("polyline",{points:"16 17 21 12 16 7"}),At.createElement("line",{x1:"21",y1:"12",x2:"9",y2:"12"}))});Tc.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Tc.displayName="LogOut";function sc(){return sc=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n])}return a},sc.apply(this,arguments)}function d1(a,t){if(a==null)return{};var i=g1(a,t),n,r;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(r=0;r<u.length;r++)n=u[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(a,n)&&(i[n]=a[n])}return i}function g1(a,t){if(a==null)return{};var i={},n=Object.keys(a),r,u;for(u=0;u<n.length;u++)r=n[u],!(t.indexOf(r)>=0)&&(i[r]=a[r]);return i}var xc=ct.forwardRef(function(a,t){var i=a.color,n=i===void 0?"currentColor":i,r=a.size,u=r===void 0?24:r,c=d1(a,["color","size"]);return At.createElement("svg",sc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),At.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),At.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});xc.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};xc.displayName="Plus";function nc(){return nc=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n])}return a},nc.apply(this,arguments)}function v1(a,t){if(a==null)return{};var i=m1(a,t),n,r;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(r=0;r<u.length;r++)n=u[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(a,n)&&(i[n]=a[n])}return i}function m1(a,t){if(a==null)return{};var i={},n=Object.keys(a),r,u;for(u=0;u<n.length;u++)r=n[u],!(t.indexOf(r)>=0)&&(i[r]=a[r]);return i}var Oc=ct.forwardRef(function(a,t){var i=a.color,n=i===void 0?"currentColor":i,r=a.size,u=r===void 0?24:r,c=v1(a,["color","size"]);return At.createElement("svg",nc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),At.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),At.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),At.createElement("polyline",{points:"7 3 7 8 15 8"}))});Oc.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Oc.displayName="Save";function lc(){return lc=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n])}return a},lc.apply(this,arguments)}function p1(a,t){if(a==null)return{};var i=y1(a,t),n,r;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(r=0;r<u.length;r++)n=u[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(a,n)&&(i[n]=a[n])}return i}function y1(a,t){if(a==null)return{};var i={},n=Object.keys(a),r,u;for(u=0;u<n.length;u++)r=n[u],!(t.indexOf(r)>=0)&&(i[r]=a[r]);return i}var Mc=ct.forwardRef(function(a,t){var i=a.color,n=i===void 0?"currentColor":i,r=a.size,u=r===void 0?24:r,c=p1(a,["color","size"]);return At.createElement("svg",lc({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),At.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),At.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))});Mc.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Mc.displayName="X";function b1(a,t){const[i,n]=ct.useState(()=>{try{const r=window.localStorage.getItem(a);return r?JSON.parse(r):t}catch(r){return console.warn(`Error reading localStorage key “${a}”:`,r),t}});return ct.useEffect(()=>{Ap(a,i)},[a,i]),[i,n]}function Ap(a,t){try{t==null||t===void 0?window.localStorage.removeItem(a):window.localStorage.setItem(a,JSON.stringify(t))}catch(i){console.warn(`Error setting localStorage key “${a}”:`,i)}}function Cp(a,t){return parseFloat(a.toFixed(t))}function Gi(a){return a?.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:8,minimumFractionDigits:0})||""}function _1(a){if(!a.stop||!a.entry)return 0;const t=a.amount/a.account,i=Math.abs(a.stop/a.entry-1);return Cp(t*i,4)}function w1({stop:a,entry:t}){return a<t?"long":"short"}function S1({amount:a,entry:t,exit:i,long_short:n,fees:r}){if(!i||!t)return 0;const u=(r??0)*a,c=Cp(a-i/t*a,2);return(n=="long"?c*-1:c)-u}function fm(a){if(!a)return"";const i=a.match(new RegExp("(?<=https:\\/\\/www.tradingview.com\\/x\\/)(.*)(?=\\/)","g"))?.[0];return`https://s3.tradingview.com/snapshots/${i?.[0]?.toLowerCase()}/${i}.png`}function xn(a){const t=ue.c(8);let i,n,r;if(t[0]!==a){const{value:g,onChange:v,...m}=a;r=g,i=m,n=y=>{v?.(y.target.value)},t[0]=a,t[1]=i,t[2]=n,t[3]=r}else i=t[1],n=t[2],r=t[3];const u=n,c=r||"";let d;return t[4]!==u||t[5]!==i||t[6]!==c?(d=N.jsx("input",{...i,value:c,onChange:u}),t[4]=u,t[5]=i,t[6]=c,t[7]=d):d=t[7],d}function ms(a){const t=ue.c(9);let i,n,r;if(t[0]!==a){const{value:v,onChange:m,...y}=a;r=v,i=y,n=_=>{const S=_.target.value,x=S===""?0:Number(S);m?.(x)},t[0]=a,t[1]=i,t[2]=n,t[3]=r}else i=t[1],n=t[2],r=t[3];const u=n,c=typeof r=="number"?r:"";let d;t[4]===Symbol.for("react.memo_cache_sentinel")?(d={textAlign:"end"},t[4]=d):d=t[4];let g;return t[5]!==u||t[6]!==i||t[7]!==c?(g=N.jsx("input",{onFocus:E1,...i,type:"number",value:c,style:d,onChange:u}),t[5]=u,t[6]=i,t[7]=c,t[8]=g):g=t[8],g}function E1(a){return a.target.select()}function T1(a){const t=ue.c(13),{trade:i,disabled:n,onChange:r}=a,u=i.url1||"";let c;t[0]!==u?(c=fm(u),t[0]=u,t[1]=c):c=t[1];const d=c,g=i.url2||"";let v;t[2]!==g?(v=fm(g),t[2]=g,t[3]=v):v=t[3];const m=v;let y;return t[4]!==n||t[5]!==r||t[6]!==d||t[7]!==m||t[8]!==i.plan||t[9]!==i.review||t[10]!==i.url1||t[11]!==i.url2?(y=N.jsx("div",{className:"flex flex-col gap-1",children:n?N.jsxs(N.Fragment,{children:[N.jsx("span",{children:i.plan}),N.jsx("span",{children:i.review}),N.jsxs("div",{className:"flex gap-1",children:[N.jsxs("div",{className:"flex flex-col flex-1 items-center",children:[N.jsx("span",{children:i.url1}),N.jsx("img",{src:d,alt:"Tradingview chart image",style:{maxHeight:400,objectFit:"contain"}})]}),N.jsxs("div",{className:"flex  flex-col flex-1 items-center",children:[N.jsx("span",{children:i.url2}),N.jsx("img",{src:m,alt:"Tradingview chart image",style:{maxHeight:400,objectFit:"contain"}})]})]})]}):N.jsxs(N.Fragment,{children:[N.jsx(xn,{name:"plan",placeholder:"plan",value:i.plan,onChange:_=>r?.("plan",_)}),N.jsx(xn,{name:"review",placeholder:"review",value:i.review,onChange:_=>r?.("review",_)}),N.jsx(xn,{name:"url1",placeholder:"https://www.tradingview.com/x/y4rc4UTW/",value:i.url1,onChange:_=>r?.("url1",_)}),N.jsx(xn,{name:"url2",placeholder:"https://www.tradingview.com/x/y4rc4UTW/",value:i.url2,onChange:_=>r?.("url2",_)})]})}),t[4]=n,t[5]=r,t[6]=d,t[7]=m,t[8]=i.plan,t[9]=i.review,t[10]=i.url1,t[11]=i.url2,t[12]=y):y=t[12],y}function x1(){const a=ue.c(17),{trades:t,insertTrade:i}=bc();let n;a[0]!==i?(n=async()=>{const x=await i({account:0,amount:0,entry:0,long_short:"long",stop:0,symbol:"BTCUSD",target:0,time_frame:"1h"});Ap(`trade${x.id}`,{})},a[0]=i,a[1]=n):n=a[1];const r=n;let u;a[2]===Symbol.for("react.memo_cache_sentinel")?(u=rc.map(M1),a[2]=u):u=a[2];let c;a[3]===Symbol.for("react.memo_cache_sentinel")?(c=N.jsx(xc,{}),a[3]=c):c=a[3];let d;a[4]!==r?(d=N.jsx("thead",{children:N.jsxs("tr",{children:[u,N.jsx("th",{children:N.jsx("button",{"aria-label":"Add",title:"Add",onClick:r,children:c})})]})}),a[4]=r,a[5]=d):d=a[5];let g;a[6]!==t?(g=t?.map(O1),a[6]=t,a[7]=g):g=a[7];let v;a[8]!==g?(v=N.jsx("tbody",{children:g}),a[8]=g,a[9]=v):v=a[9];let m;a[10]!==d||a[11]!==v?(m=N.jsxs("table",{children:[d,v]}),a[10]=d,a[11]=v,a[12]=m):m=a[12];let y;a[13]===Symbol.for("react.memo_cache_sentinel")?(y=N.jsxs("datalist",{id:"data-list-symbols",children:[N.jsx("option",{value:"BTC"}),N.jsx("option",{value:"ETH"}),N.jsx("option",{value:"SOL"}),N.jsx("option",{value:"ADA"}),N.jsx("option",{value:"BNB"})]}),a[13]=y):y=a[13];let _;a[14]===Symbol.for("react.memo_cache_sentinel")?(_=N.jsxs("datalist",{id:"data-list-time_frames",children:[N.jsx("option",{value:"1m"}),N.jsx("option",{value:"3m"}),N.jsx("option",{value:"5m"}),N.jsx("option",{value:"15m"}),N.jsx("option",{value:"1h"}),N.jsx("option",{value:"4h"}),N.jsx("option",{value:"D"}),N.jsx("option",{value:"W"})]}),a[14]=_):_=a[14];let S;return a[15]!==m?(S=N.jsxs(N.Fragment,{children:[m,y,_]}),a[15]=m,a[16]=S):S=a[16],S}function O1(a){return N.jsx(R1,{trade:a},a.id)}function M1(a){return N.jsx("th",{children:a.label},a.key)}function R1(a){const t=ue.c(31),{trade:i}=a,{updateTrade:n}=bc(),[r,u]=b1(`trade${i.id}`,null),c={...i,...r},[d,g]=ct.useState(!1);let v;t[0]===Symbol.for("react.memo_cache_sentinel")?(v=()=>g(A1),t[0]=v):v=t[0];const m=v,y=r!==null,_=d||y;let S;t[1]!==u?(S=()=>{u({})},t[1]=u,t[2]=S):S=t[2];const x=S;let M;t[3]!==u||t[4]!==i.id||t[5]!==r||t[6]!==n?(M=async()=>{r&&Object.keys(r).length>0&&await n(i.id,{...r}),u(null)},t[3]=u,t[4]=i.id,t[5]=r,t[6]=n,t[7]=M):M=t[7];const j=M;let Y;t[8]!==u?(Y=()=>{u(null)},t[8]=u,t[9]=Y):Y=t[9];const q=Y;let L;t[10]!==u||t[11]!==i?(L=(Xt,Ct)=>{u(k=>{const $={...k,[Xt]:Ct},Z={...i,...$},ft=w1({...Z}),E=_1({...Z}),P=S1({...Z,long_short:ft});return{...$,long_short:ft,risk:E,pnl:P}})},t[10]=u,t[11]=i,t[12]=L):L=t[12];const H=L,G=_?"var(--color-bg-highlight)":void 0,K=_?"transparent":void 0;let I;t[13]!==G||t[14]!==K?(I={background:G,borderBottomColor:K},t[13]=G,t[14]=K,t[15]=I):I=t[15];const gt=rc.map(Xt=>{const Ct=Xt.render??(k=>k[Xt.key]);return N.jsx("th",{style:Xt.style,children:Ct(c,y,k=>H(Xt.key,k))},Xt.key)});let yt;t[16]===Symbol.for("react.memo_cache_sentinel")?(yt={justifyItems:"center",width:100},t[16]=yt):yt=t[16];let ne;t[17]!==y||t[18]!==q||t[19]!==x||t[20]!==j||t[21]!==_||t[22]!==m?(ne=N.jsx("th",{style:yt,children:N.jsx("div",{className:"flex gap-1",children:y?N.jsxs(N.Fragment,{children:[N.jsx("button",{"aria-label":"Save",title:"Save",onClick:j,children:N.jsx(Oc,{})}),N.jsx("button",{"aria-label":"Cancel",title:"Cancel",onClick:q,children:N.jsx(Mc,{})})]}):N.jsxs(N.Fragment,{children:[N.jsx("button",{"aria-label":"Edit",title:"Edit",onClick:x,children:N.jsx(Sc,{})}),N.jsx("button",{"aria-label":"Details",title:"Details",onClick:m,children:_?N.jsx(wc,{}):N.jsx(Ec,{})})]})})}),t[17]=y,t[18]=q,t[19]=x,t[20]=j,t[21]=_,t[22]=m,t[23]=ne):ne=t[23];let Qt;t[24]!==ne||t[25]!==I||t[26]!==gt?(Qt=N.jsxs("tr",{style:I,children:[gt,ne]}),t[24]=ne,t[25]=I,t[26]=gt,t[27]=Qt):Qt=t[27];const kt=_&&N.jsx("tr",{children:N.jsx("td",{colSpan:rc.length+1,style:{textAlign:"left",padding:"8px",background:"var(--color-bg-highlight)"},children:N.jsx(T1,{trade:c,disabled:!y,onChange:H})})});let le;return t[28]!==Qt||t[29]!==kt?(le=N.jsxs(N.Fragment,{children:[Qt,kt]}),t[28]=Qt,t[29]=kt,t[30]=le):le=t[30],le}function A1(a){return!a}const rc=[{label:"DATE",key:"created_at",style:{width:200},render:({created_at:a})=>new Date(a).toLocaleString()},{label:"SYMBOL",key:"symbol",style:{width:64},render:(a,t,i)=>t?N.jsx(xn,{name:"symbol",placeholder:a.symbol,list:"data-list-symbols",onChange:i}):a.symbol},{label:"TF",key:"time_frame",style:{width:64},render:(a,t,i)=>t?N.jsx(xn,{name:"time_frame",placeholder:a.time_frame,list:"data-list-time_frames",onChange:i}):a.time_frame},{label:"L / S",key:"long_short",style:{width:64},render:a=>N.jsx("span",{className:a.long_short,children:a.long_short})},{label:"ACCOUNT",key:"account",style:{minWidth:100,textAlign:"right"},render(a,t,i){return t?N.jsx(ms,{name:"account",value:a.account,onChange:i}):Gi(a.account)}},{label:"AMOUNT",key:"amount",style:{minWidth:100,textAlign:"right"},render(a,t,i){return t?N.jsx(ms,{name:"amount",value:a.amount,onChange:i}):Gi(a.amount)}},{label:"SL",key:"stop",style:{minWidth:100,textAlign:"right"},render(a,t,i){return t?N.jsx(ms,{name:"stop",value:a.stop,onChange:i}):Gi(a.stop)}},{label:"ENTRY",key:"entry",style:{minWidth:100,textAlign:"right"},render(a,t,i){return t?N.jsx(ms,{name:"entry",value:a.entry,onChange:i}):Gi(a.entry)}},{label:"TARGET",key:"target",style:{minWidth:100,textAlign:"right"},render(a,t,i){return t?N.jsx(ms,{name:"target",value:a.target,onChange:i}):Gi(a.target)}},{label:"EXIT",key:"exit",style:{minWidth:100,textAlign:"right"},render(a,t,i){return t?N.jsx(ms,{name:"exit",value:a.exit,onChange:i}):Gi(a.exit)}},{label:"FEES",key:"fees",style:{width:100,textAlign:"right"},render:(a,t,i)=>{const n=a.fees?(a.fees*100).toFixed(2)+"%":"";return t?N.jsx(ms,{name:"fees",min:"0",max:"0.1",step:"0.01",value:(a.fees||0)*100,onChange:r=>i(r/100)}):n}},{label:"RISK",key:"risk",style:{width:64,textAlign:"right"},render:a=>a.risk?(a.risk*100).toFixed(2)+"%":""},{label:"PNL",key:"pnl",style:{width:64,textAlign:"right"},render:a=>N.jsx("span",{className:"number"+Math.sign(a.pnl||0),children:Gi(a.pnl)})}];function C1(){const a=ue.c(1);let t;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=N.jsx("main",{children:N.jsx(x1,{})}),a[0]=t):t=a[0],t}function Ot(a){var t=a.width,i=a.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(i<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:i}}function _s(a,t){return a.width===t.width&&a.height===t.height}var z1=(function(){function a(t){var i=this;this._resolutionListener=function(){return i._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return a.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(a.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),a.prototype.subscribe=function(t){var i=this,n={next:t};return this._observers.push(n),{unsubscribe:function(){i._observers=i._observers.filter(function(r){return r!==n})}}},a.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},a.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},a.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},a.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(i){return i.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},a})();function j1(a){return new z1(a)}var k1=(function(){function a(t,i,n){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=Ot({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=i??(function(u){return u}),this._allowResizeObserver=(r=n?.allowResizeObserver)!==null&&r!==void 0?r:!0,this._chooseAndInitObserver()}return a.prototype.dispose=function(){var t,i;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(i=this._devicePixelRatioObservable)===null||i===void 0||i.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(a.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bitmapSize",{get:function(){return Ot({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),a.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=Ot(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},a.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},a.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(i){return i!==t})},Object.defineProperty(a.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),a.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},a.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(i){return i!==t})},a.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},a.prototype._resizeBitmap=function(t){var i=this.bitmapSize;_s(i,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(i,t))},a.prototype._emitBitmapSizeChanged=function(t,i){var n=this;this._bitmapSizeChangedListeners.forEach(function(r){return r.call(n,t,i)})},a.prototype._suggestNewBitmapSize=function(t){var i=this._suggestedBitmapSize,n=Ot(this._transformBitmapSize(t,this._canvasElementClientSize)),r=_s(this.bitmapSize,n)?null:n;i===null&&r===null||i!==null&&r!==null&&_s(i,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(i,r))},a.prototype._emitSuggestedBitmapSizeChanged=function(t,i){var n=this;this._suggestedBitmapSizeChangedListeners.forEach(function(r){return r.call(n,t,i)})},a.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}N1().then(function(i){return i?t._initResizeObserver():t._initDevicePixelRatioObservable()})},a.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var i=dm(this._canvasElement);if(i===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=j1(i),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},a.prototype._invalidateBitmapSize=function(){var t,i;if(this._canvasElement!==null){var n=dm(this._canvasElement);if(n!==null){var r=(i=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&i!==void 0?i:n.devicePixelRatio,u=this._canvasElement.getClientRects(),c=u[0]!==void 0?U1(u[0],r):Ot({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(c)}}},a.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(i){var n=i.find(function(c){return c.target===t._canvasElement});if(!(!n||!n.devicePixelContentBoxSize||!n.devicePixelContentBoxSize[0])){var r=n.devicePixelContentBoxSize[0],u=Ot({width:r.inlineSize,height:r.blockSize});t._suggestNewBitmapSize(u)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},a})();function D1(a,t){return new k1(a,t.transform,t.options)}function dm(a){return a.ownerDocument.defaultView}function N1(){return new Promise(function(a){var t=new ResizeObserver(function(i){a(i.every(function(n){return"devicePixelContentBoxSize"in n})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function U1(a,t){return Ot({width:Math.round(a.left*t+a.width*t)-Math.round(a.left*t),height:Math.round(a.top*t+a.height*t)-Math.round(a.top*t)})}var L1=(function(){function a(t,i,n){if(i.width===0||i.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=i,n.width===0||n.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=t}return a.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},a.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(a.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),a})();function ws(a,t){var i=a.canvasElementClientSize;if(i.width===0||i.height===0)return null;var n=a.bitmapSize;if(n.width===0||n.height===0)return null;var r=a.canvasElement.getContext("2d",t);return r===null?null:new L1(r,i,n)}/*!
 * @license
 * TradingView Lightweight Charts™ v5.0.9
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const zp={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var gm,vm;function Cn(a,t){const i={0:[],1:[a.lineWidth,a.lineWidth],2:[2*a.lineWidth,2*a.lineWidth],3:[6*a.lineWidth,6*a.lineWidth],4:[a.lineWidth,4*a.lineWidth]}[t];a.setLineDash(i)}function jp(a,t,i,n){a.beginPath();const r=a.lineWidth%2?.5:0;a.moveTo(i,t+r),a.lineTo(n,t+r),a.stroke()}function se(a,t){if(!a)throw new Error("Assertion failed"+(t?": "+t:""))}function ye(a){if(a===void 0)throw new Error("Value is undefined");return a}function V(a){if(a===null)throw new Error("Value is null");return a}function Xi(a){return V(ye(a))}(function(a){a[a.Simple=0]="Simple",a[a.WithSteps=1]="WithSteps",a[a.Curved=2]="Curved"})(gm||(gm={})),(function(a){a[a.Solid=0]="Solid",a[a.Dotted=1]="Dotted",a[a.Dashed=2]="Dashed",a[a.LargeDashed=3]="LargeDashed",a[a.SparseDotted=4]="SparseDotted"})(vm||(vm={}));class qt{constructor(){this.t=[]}i(t,i,n){const r={h:t,l:i,o:n===!0};this.t.push(r)}_(t){const i=this.t.findIndex((n=>t===n.h));i>-1&&this.t.splice(i,1)}u(t){this.t=this.t.filter((i=>i.l!==t))}p(t,i,n){const r=[...this.t];this.t=this.t.filter((u=>!u.o)),r.forEach((u=>u.h(t,i,n)))}v(){return this.t.length>0}m(){this.t=[]}}function Ae(a,...t){for(const i of t)for(const n in i)i[n]!==void 0&&Object.prototype.hasOwnProperty.call(i,n)&&!["__proto__","constructor","prototype"].includes(n)&&(typeof i[n]!="object"||a[n]===void 0||Array.isArray(i[n])?a[n]=i[n]:Ae(a[n],i[n]));return a}function zn(a){return typeof a=="number"&&isFinite(a)}function Jl(a){return typeof a=="number"&&a%1==0}function Wl(a){return typeof a=="string"}function pa(a){return typeof a=="boolean"}function vi(a){const t=a;if(!t||typeof t!="object")return t;let i,n,r;for(n in i=Array.isArray(t)?[]:{},t)t.hasOwnProperty(n)&&(r=t[n],i[n]=r&&typeof r=="object"?vi(r):r);return i}function B1(a){return a!==null}function ac(a){return a===null?void 0:a}const kp="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Ca(a,t,i){return t===void 0&&(t=kp),`${i=i!==void 0?`${i} `:""}${a}px ${t}`}class q1{constructor(t){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,B:0,I:0,A:0,L:0},this.O=t}N(){const t=this.M,i=this.F(),n=this.W();return t.P===i&&t.T===n||(t.P=i,t.T=n,t.k=Ca(i,n),t.A=2.5/12*i,t.V=t.A,t.B=i/12*t.C,t.I=i/12*t.C,t.L=0),t.R=this.H(),t.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function xh(a){return a<0?0:a>255?255:Math.round(a)||0}function mm(a){return .199*a[0]+.687*a[1]+.114*a[2]}class P1{constructor(t,i){this.q=new Map,this.Y=t,i&&(this.q=i)}j(t,i){if(t==="transparent")return t;const n=this.K(t),r=n[3];return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${i*r})`}X(t){const i=this.K(t);return{Z:`rgb(${i[0]}, ${i[1]}, ${i[2]})`,G:mm(i)>160?"black":"white"}}J(t){return mm(this.K(t))}tt(t,i,n){const[r,u,c,d]=this.K(t),[g,v,m,y]=this.K(i),_=[xh(r+n*(g-r)),xh(u+n*(v-u)),xh(c+n*(m-c)),(S=d+n*(y-d),S<=0||S>1?Math.min(Math.max(S,0),1):Math.round(1e4*S)/1e4)];var S;return`rgba(${_[0]}, ${_[1]}, ${_[2]}, ${_[3]})`}K(t){const i=this.q.get(t);if(i)return i;const n=(function(c){const d=document.createElement("div");d.style.display="none",document.body.appendChild(d),d.style.color=c;const g=window.getComputedStyle(d).color;return document.body.removeChild(d),g})(t),r=n.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!r){if(this.Y.length)for(const c of this.Y){const d=c(t);if(d)return this.q.set(t,d),d}throw new Error(`Failed to parse color: ${t}`)}const u=[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),r[4]?parseFloat(r[4]):1];return this.q.set(t,u),u}}class Y1{constructor(){this.it=[]}st(t){this.it=t}nt(t,i,n){this.it.forEach((r=>{r.nt(t,i,n)}))}}class Un{nt(t,i,n){t.useBitmapCoordinateSpace((r=>this.et(r,i,n)))}}class V1 extends Un{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et({context:t,horizontalPixelRatio:i,verticalPixelRatio:n}){if(this.rt===null||this.rt.lt===null)return;const r=this.rt.lt,u=this.rt,c=Math.max(1,Math.floor(i))%2/2,d=g=>{t.beginPath();for(let v=r.to-1;v>=r.from;--v){const m=u.ot[v],y=Math.round(m._t*i)+c,_=m.ut*n,S=g*n+c;t.moveTo(y,_),t.arc(y,_,S,0,2*Math.PI)}t.fill()};u.ct>0&&(t.fillStyle=u.dt,d(u.ft+u.ct)),t.fillStyle=u.vt,d(u.ft)}}function H1(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const $1={from:0,to:1};class G1{constructor(t,i,n){this.Mt=new Y1,this.bt=[],this.St=[],this.xt=!0,this.O=t,this.Ct=i,this.Pt=n,this.Mt.st(this.bt)}yt(t){this.kt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}kt(){const t=this.Pt.Dt();t.length!==this.bt.length&&(this.St=t.map(H1),this.bt=this.St.map((i=>{const n=new V1;return n.ht(i),n})),this.Mt.st(this.bt))}Rt(){const t=this.Ct.N().mode===2||!this.Ct.Vt(),i=this.Pt.Bt(),n=this.Ct.It(),r=this.O.Et();this.kt(),i.forEach(((u,c)=>{const d=this.St[c],g=u.At(n),v=u.zt();!t&&g!==null&&u.Vt()&&v!==null?(d.vt=g.Lt,d.ft=g.ft,d.ct=g.Ot,d.ot[0].gt=g.gt,d.ot[0].ut=u.Ft().Nt(g.gt,v.Wt),d.dt=g.Ht??this.O.Ut(d.ot[0].ut/u.Ft().$t()),d.ot[0].wt=n,d.ot[0]._t=r.qt(n),d.lt=$1):d.lt=null}))}}class Q1 extends Un{constructor(t){super(),this.Yt=t}et({context:t,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.Yt===null)return;const u=this.Yt.jt.Vt,c=this.Yt.Kt.Vt;if(!u&&!c)return;const d=Math.round(this.Yt._t*n),g=Math.round(this.Yt.ut*r);t.lineCap="butt",u&&d>=0&&(t.lineWidth=Math.floor(this.Yt.jt.ct*n),t.strokeStyle=this.Yt.jt.R,t.fillStyle=this.Yt.jt.R,Cn(t,this.Yt.jt.Xt),(function(v,m,y,_){v.beginPath();const S=v.lineWidth%2?.5:0;v.moveTo(m+S,y),v.lineTo(m+S,_),v.stroke()})(t,d,0,i.height)),c&&g>=0&&(t.lineWidth=Math.floor(this.Yt.Kt.ct*r),t.strokeStyle=this.Yt.Kt.R,t.fillStyle=this.Yt.Kt.R,Cn(t,this.Yt.Kt.Xt),jp(t,g,0,i.width))}}class X1{constructor(t,i){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new Q1(this.Zt),this.Jt=t,this.Pt=i}yt(){this.xt=!0}Tt(t){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const t=this.Jt.Vt(),i=this.Pt.Qt().N().crosshair,n=this.Zt;if(i.mode===2)return n.Kt.Vt=!1,void(n.jt.Vt=!1);n.Kt.Vt=t&&this.Jt.ti(this.Pt),n.jt.Vt=t&&this.Jt.ii(),n.Kt.ct=i.horzLine.width,n.Kt.Xt=i.horzLine.style,n.Kt.R=i.horzLine.color,n.jt.ct=i.vertLine.width,n.jt.Xt=i.vertLine.style,n.jt.R=i.vertLine.color,n._t=this.Jt.si(),n.ut=this.Jt.ni()}}function La(a,t,i,n,r,u){a.save(),a.globalCompositeOperation="copy",a.fillStyle=u,a.fillRect(t,i,n,r),a.restore()}function pm(a,t,i,n,r,u){a.beginPath(),a.roundRect?a.roundRect(t,i,n,r,u):(a.lineTo(t+n-u[1],i),u[1]!==0&&a.arcTo(t+n,i,t+n,i+u[1],u[1]),a.lineTo(t+n,i+r-u[2]),u[2]!==0&&a.arcTo(t+n,i+r,t+n-u[2],i+r,u[2]),a.lineTo(t+u[3],i+r),u[3]!==0&&a.arcTo(t,i+r,t,i+r-u[3],u[3]),a.lineTo(t,i+u[0]),u[0]!==0&&a.arcTo(t,i,t+u[0],i,u[0]))}function ym(a,t,i,n,r,u,c=0,d=[0,0,0,0],g=""){if(a.save(),!c||!g||g===u)return pm(a,t,i,n,r,d),a.fillStyle=u,a.fill(),void a.restore();const v=c/2;var m;pm(a,t+v,i+v,n-c,r-c,(m=-v,d.map((y=>y===0?y:y+m)))),u!=="transparent"&&(a.fillStyle=u,a.fill()),g!=="transparent"&&(a.lineWidth=c,a.strokeStyle=g,a.closePath(),a.stroke()),a.restore()}function Dp(a,t,i,n,r,u,c){a.save(),a.globalCompositeOperation="copy";const d=a.createLinearGradient(0,0,0,r);d.addColorStop(0,u),d.addColorStop(1,c),a.fillStyle=d,a.fillRect(t,i,n,r),a.restore()}class bm{constructor(t,i){this.ht(t,i)}ht(t,i){this.Yt=t,this.ei=i}$t(t,i){return this.Yt.Vt?t.P+t.A+t.V:0}nt(t,i,n,r){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const u=this.Yt.R,c=this.ei.Z,d=t.useBitmapCoordinateSpace((g=>{const v=g.context;v.font=i.k;const m=this.hi(g,i,n,r),y=m.ai;return m.li?ym(v,y.oi,y._i,y.ui,y.ci,c,y.di,[y.ft,0,0,y.ft],c):ym(v,y.fi,y._i,y.ui,y.ci,c,y.di,[0,y.ft,y.ft,0],c),this.Yt.pi&&(v.fillStyle=u,v.fillRect(y.fi,y.mi,y.wi-y.fi,y.gi)),this.Yt.Mi&&(v.fillStyle=i.D,v.fillRect(m.li?y.bi-y.di:0,y._i,y.di,y.Si-y._i)),m}));t.useMediaCoordinateSpace((({context:g})=>{const v=d.xi;g.font=i.k,g.textAlign=d.li?"right":"left",g.textBaseline="middle",g.fillStyle=u,g.fillText(this.Yt.ri,v.Ci,(v._i+v.Si)/2+v.Pi)}))}hi(t,i,n,r){const{context:u,bitmapSize:c,mediaSize:d,horizontalPixelRatio:g,verticalPixelRatio:v}=t,m=this.Yt.pi||!this.Yt.yi?i.C:0,y=this.Yt.ki?i.S:0,_=i.A+this.ei.Ti,S=i.V+this.ei.Ri,x=i.B,M=i.I,j=this.Yt.ri,Y=i.P,q=n.Di(u,j),L=Math.ceil(n.Vi(u,j)),H=Y+_+S,G=i.S+x+M+L+m,K=Math.max(1,Math.floor(v));let I=Math.round(H*v);I%2!=K%2&&(I+=1);const gt=y>0?Math.max(1,Math.floor(y*g)):0,yt=Math.round(G*g),ne=Math.round(m*g),Qt=this.ei.Bi??this.ei.Ii,kt=Math.round(Qt*v)-Math.floor(.5*v),le=Math.floor(kt+K/2-I/2),Xt=le+I,Ct=r==="right",k=Ct?d.width-y:y,$=Ct?c.width-gt:gt;let Z,ft,E;return Ct?(Z=$-yt,ft=$-ne,E=k-m-x-y):(Z=$+yt,ft=$+ne,E=k+m+x),{li:Ct,ai:{_i:le,mi:kt,Si:Xt,ui:yt,ci:I,ft:2*g,di:gt,oi:Z,fi:$,wi:ft,gi:K,bi:c.width},xi:{_i:le/v,Si:Xt/v,Ci:E,Pi:q}}}}class Ba{constructor(t){this.Ei={Ii:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,yi:!1,Ht:"",R:"#FFF",Mi:!1,ki:!1},this.zi={ri:"",Vt:!1,pi:!1,yi:!0,Ht:"",R:"#FFF",Mi:!0,ki:!0},this.xt=!0,this.Li=new(t||bm)(this.Ai,this.Ei),this.Oi=new(t||bm)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Ii(){return this.Ni(),this.Ei.Ii}yt(){this.xt=!0}$t(t,i=!1){return Math.max(this.Li.$t(t,i),this.Oi.$t(t,i))}Fi(){return this.Ei.Bi||0}Wi(t){this.Ei.Bi=t}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(t){return this.Ni(),this.Ai.pi=this.Ai.pi&&t.N().ticksVisible,this.zi.pi=this.zi.pi&&t.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}}class J1 extends Ba{constructor(t,i,n){super(),this.Jt=t,this.Yi=i,this.ji=n}qi(t,i,n){if(t.Vt=!1,this.Jt.N().mode===2)return;const r=this.Jt.N().horzLine;if(!r.labelVisible)return;const u=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||u===null)return;const c=this.Yi.Xi().X(r.labelBackgroundColor);n.Z=c.Z,t.R=c.G;const d=2/12*this.Yi.P();n.Ti=d,n.Ri=d;const g=this.ji(this.Yi);n.Ii=g.Ii,t.ri=this.Yi.Zi(g.gt,u),t.Vt=!0}}const K1=/[1-9]/g;class Np{constructor(){this.Yt=null}ht(t){this.Yt=t}nt(t,i){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const n=t.useMediaCoordinateSpace((({context:_})=>(_.font=i.k,Math.round(i.Gi.Vi(_,V(this.Yt).ri,K1)))));if(n<=0)return;const r=i.Ji,u=n+2*r,c=u/2,d=this.Yt.Qi;let g=this.Yt.Ii,v=Math.floor(g-c)+.5;v<0?(g+=Math.abs(0-v),v=Math.floor(g-c)+.5):v+u>d&&(g-=Math.abs(d-(v+u)),v=Math.floor(g-c)+.5);const m=v+u,y=Math.ceil(0+i.S+i.C+i.A+i.P+i.V);t.useBitmapCoordinateSpace((({context:_,horizontalPixelRatio:S,verticalPixelRatio:x})=>{const M=V(this.Yt);_.fillStyle=M.Z;const j=Math.round(v*S),Y=Math.round(0*x),q=Math.round(m*S),L=Math.round(y*x),H=Math.round(2*S);if(_.beginPath(),_.moveTo(j,Y),_.lineTo(j,L-H),_.arcTo(j,L,j+H,L,H),_.lineTo(q-H,L),_.arcTo(q,L,q,L-H,H),_.lineTo(q,Y),_.fill(),M.pi){const G=Math.round(M.Ii*S),K=Y,I=Math.round((K+i.C)*x);_.fillStyle=M.R;const gt=Math.max(1,Math.floor(S)),yt=Math.floor(.5*S);_.fillRect(G-yt,K,gt,I-K)}})),t.useMediaCoordinateSpace((({context:_})=>{const S=V(this.Yt),x=0+i.S+i.C+i.A+i.P/2;_.font=i.k,_.textAlign="left",_.textBaseline="middle",_.fillStyle=S.R;const M=i.Gi.Di(_,"Apr0");_.translate(v+r,x+M),_.fillText(S.ri,0,0)}))}}class Z1{constructor(t,i,n){this.xt=!0,this.Gt=new Np,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Ii:NaN,pi:!0},this.Ct=t,this.ts=i,this.ji=n}yt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const t=this.Zt;if(t.Vt=!1,this.Ct.N().mode===2)return;const i=this.Ct.N().vertLine;if(!i.labelVisible)return;const n=this.ts.Et();if(n.Ki())return;t.Qi=n.Qi();const r=this.ji();if(r===null)return;t.Ii=r.Ii;const u=n.ss(this.Ct.It());t.ri=n.ns(V(u)),t.Vt=!0;const c=this.ts.Xi().X(i.labelBackgroundColor);t.Z=c.Z,t.R=c.G,t.pi=n.N().ticksVisible}}class Up{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(t){this.rs=t}Ft(){return this.es}_s(t){this.es=t}us(t){return[]}cs(){return[]}Vt(){return!0}}var _m;(function(a){a[a.Normal=0]="Normal",a[a.Magnet=1]="Magnet",a[a.Hidden=2]="Hidden",a[a.MagnetOHLC=3]="MagnetOHLC"})(_m||(_m={}));class W1 extends Up{constructor(t,i){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=t,this.Ps=i,this.ys=((r,u)=>c=>{const d=u(),g=r();if(c===V(this.Pt).ks())return{gt:g,Ii:d};{const v=V(c.zt());return{gt:c.Ts(d,v),Ii:d}}})((()=>this.ds),(()=>this.Ss));const n=((r,u)=>()=>{const c=this.ts.Et().Rs(r()),d=u();return c&&Number.isFinite(d)?{wt:c,Ii:d}:null})((()=>this.fs),(()=>this.si()));this.Ds=new Z1(this,t,n)}N(){return this.Ps}Vs(t,i){this.xs=t,this.Cs=i}Bs(){this.xs=NaN,this.Cs=NaN}Is(){return this.xs}Es(){return this.Cs}As(t,i,n){this.ws||(this.ws=!0),this.ps=!0,this.zs(t,i,n)}It(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Bs(),this.Ns()}Fs(t){let i=this.gs.get(t);i||(i=new X1(this,t),this.gs.set(t,i));let n=this.Ms.get(t);return n||(n=new G1(this.ts,this,t),this.Ms.set(t,n)),[i,n]}ti(t){return t===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(t,i){this.ps&&this.Pt===t||this.vs.clear();const n=[];return this.Pt===t&&n.push(this.Hs(this.vs,i,this.ys)),n}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach((t=>{this.gs.get(t)?.yt(),this.Ms.get(t)?.yt()})),this.vs.forEach((t=>t.yt())),this.Ds.yt()}qs(t){return t&&!t.ks().Ki()?t.ks():null}zs(t,i,n){this.Ys(t,i,n)&&this.Ns()}Ys(t,i,n){const r=this.bs,u=this.Ss,c=this.ds,d=this.fs,g=this.Pt,v=this.qs(n);this.fs=t,this.bs=isNaN(t)?NaN:this.ts.Et().qt(t),this.Pt=n;const m=v!==null?v.zt():null;return v!==null&&m!==null?(this.ds=i,this.Ss=v.Nt(i,m)):(this.ds=NaN,this.Ss=NaN),r!==this.bs||u!==this.Ss||d!==this.fs||c!==this.ds||g!==this.Pt}Os(){const t=this.ts.js().map((n=>n.Xs().Ks())).filter(B1),i=t.length===0?null:Math.max(...t);this.fs=i!==null?i:NaN}Hs(t,i,n){let r=t.get(i);return r===void 0&&(r=new J1(this,i,n),t.set(i,r)),r}}function qa(a){return a==="left"||a==="right"}class ie{constructor(t){this.Zs=new Map,this.Gs=[],this.Js=t}Qs(t,i){const n=(function(r,u){return r===void 0?u:{tn:Math.max(r.tn,u.tn),sn:r.sn||u.sn}})(this.Zs.get(t),i);this.Zs.set(t,n)}nn(){return this.Js}en(t){const i=this.Zs.get(t);return i===void 0?{tn:this.Js}:{tn:Math.max(this.Js,i.tn),sn:i.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(t){this.hn(),this.Gs=[{an:1,Wt:t}]}_n(t){this.un(),this.Gs.push({an:5,Wt:t})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(t){this.hn(),this.Gs.push({an:2,Wt:t})}fn(t){this.hn(),this.Gs.push({an:3,Wt:t})}pn(){return this.Gs}vn(t){for(const i of t.Gs)this.mn(i);this.Js=Math.max(this.Js,t.Js),t.Zs.forEach(((i,n)=>{this.Qs(n,i)}))}static wn(){return new ie(2)}static gn(){return new ie(3)}mn(t){switch(t.an){case 0:this.rn();break;case 1:this.ln(t.Wt);break;case 2:this.dn(t.Wt);break;case 3:this.fn(t.Wt);break;case 4:this.cn();break;case 5:this._n(t.Wt);break;case 6:this.un()}}un(){const t=this.Gs.findIndex((i=>i.an===5));t!==-1&&this.Gs.splice(t,1)}}class Lp{formatTickmarks(t){return t.map((i=>this.format(i)))}}const wm=".";function mi(a,t){if(!zn(a))return"n/a";if(!Jl(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?a.toString():("0000000000000000"+a.toString()).slice(-t)}class Pa extends Lp{constructor(t,i){if(super(),i||(i=1),zn(t)&&Jl(t)||(t=100),t<0)throw new TypeError("invalid base");this.Yi=t,this.Mn=i,this.bn()}format(t){const i=t<0?"−":"";return t=Math.abs(t),i+this.Sn(t)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let t=this.Yi;for(;t>1;)t/=10,this.xn++}}Sn(t){const i=this.Yi/this.Mn;let n=Math.floor(t),r="";const u=this.xn!==void 0?this.xn:NaN;if(i>1){let c=+(Math.round(t*i)-n*i).toFixed(this.xn);c>=i&&(c-=i,n+=1),r=wm+mi(+c.toFixed(this.xn)*this.Mn,u)}else n=Math.round(n*i)/i,u>0&&(r=wm+mi(0,u));return n.toFixed(0)+r}}class Bp extends Pa{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class I1 extends Lp{constructor(t){super(),this.Cn=t}format(t){let i="";return t<0&&(i="-",t=-t),t<995?i+this.Pn(t):t<999995?i+this.Pn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),i+this.Pn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),i+this.Pn(t/1e9)+"B")}Pn(t){let i;const n=Math.pow(10,this.Cn);return i=(t=Math.round(t*n)/n)>=1e-15&&t<1?t.toFixed(this.Cn).replace(/\.?0+$/,""):String(t),i.replace(/(\.[1-9]*)0+$/,((r,u)=>u))}}const F1=/[2-9]/g;class za{constructor(t=50){this.yn=0,this.kn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=t}Bn(){this.yn=0,this.Dn.clear(),this.kn=1,this.Tn=1,this.Rn={}}Vi(t,i,n){return this.In(t,i,n).width}Di(t,i,n){const r=this.In(t,i,n);return((r.actualBoundingBoxAscent||0)-(r.actualBoundingBoxDescent||0))/2}In(t,i,n){const r=n||F1,u=String(i).replace(r,"0");if(this.Dn.has(u))return ye(this.Dn.get(u)).En;if(this.yn===this.Vn){const d=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(d),this.Tn++,this.yn--}t.save(),t.textBaseline="middle";const c=t.measureText(u);return t.restore(),c.width===0&&i.length||(this.Dn.set(u,{En:c,An:this.kn}),this.Rn[this.kn]=u,this.yn++,this.kn++),c}}class tS{constructor(t){this.zn=null,this.M=null,this.Ln="right",this.On=t}Nn(t,i,n){this.zn=t,this.M=i,this.Ln=n}nt(t){this.M!==null&&this.zn!==null&&this.zn.nt(t,this.M,this.On,this.Ln)}}class qp{constructor(t,i,n){this.Fn=t,this.On=new za(50),this.Wn=i,this.O=n,this.F=-1,this.Gt=new tS(this.On)}Tt(){const t=this.O.Hn(this.Wn);if(t===null)return null;const i=t.Un(this.Wn)?t.$n():this.Wn.Ft();if(i===null)return null;const n=t.qn(i);if(n==="overlay")return null;const r=this.O.Yn();return r.P!==this.F&&(this.F=r.P,this.On.Bn()),this.Gt.Nn(this.Fn.$i(),r,n),this.Gt}}class eS extends Un{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}jn(t,i){if(!this.Yt?.Vt)return null;const{ut:n,ct:r,Kn:u}=this.Yt;return i>=n-r-7&&i<=n+r+7?{Xn:this.Yt,Kn:u}:null}et({context:t,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.Yt===null||this.Yt.Vt===!1)return;const u=Math.round(this.Yt.ut*r);u<0||u>i.height||(t.lineCap="butt",t.strokeStyle=this.Yt.R,t.lineWidth=Math.floor(this.Yt.ct*n),Cn(t,this.Yt.Xt),jp(t,u,0,i.width))}}class Rc{constructor(t){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new eS,this.xt=!0,this.Jn=t,this.Qn=t.Qt(),this.Gn.ht(this.Zn)}yt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class iS extends Rc{constructor(t){super(t)}te(){this.Zn.Vt=!1;const t=this.Jn.Ft(),i=t.ie().ie;if(i!==2&&i!==3)return;const n=this.Jn.N();if(!n.baseLineVisible||!this.Jn.Vt())return;const r=this.Jn.zt();r!==null&&(this.Zn.Vt=!0,this.Zn.ut=t.Nt(r.Wt,r.Wt),this.Zn.R=n.baseLineColor,this.Zn.ct=n.baseLineWidth,this.Zn.Xt=n.baseLineStyle)}}class sS extends Un{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}se(){return this.Yt}et({context:t,horizontalPixelRatio:i,verticalPixelRatio:n}){const r=this.Yt;if(r===null)return;const u=Math.max(1,Math.floor(i)),c=u%2/2,d=Math.round(r.ne.x*i)+c,g=r.ne.y*n;t.fillStyle=r.ee,t.beginPath();const v=Math.max(2,1.5*r.re)*i;t.arc(d,g,v,0,2*Math.PI,!1),t.fill(),t.fillStyle=r.he,t.beginPath(),t.arc(d,g,r.ft*i,0,2*Math.PI,!1),t.fill(),t.lineWidth=u,t.strokeStyle=r.ae,t.beginPath(),t.arc(d,g,r.ft*i+u/2,0,2*Math.PI,!1),t.stroke()}}const nS=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class lS{constructor(t){this.Gt=new sS,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=t}Me(){this.we=this.me-1,this.yt()}be(){if(this.yt(),this.ge.N().lastPriceAnimation===2){const t=performance.now(),i=this.we-t;if(i>0)return void(i<650&&(this.we+=2600));this.me=t,this.we=t+2600}}yt(){this.xt=!0}Se(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const t=this.ge.Qt().Et(),i=t.Pe(),n=this.ge.zt();if(i===null||n===null)return;const r=this.ge.ye(!0);if(r.ke||!i.Te(r.Re))return;const u={x:t.qt(r.Re),y:this.ge.Ft().Nt(r.gt,n.Wt)},c=r.R,d=this.ge.N().lineWidth,g=this.De(this.Ve(),c);this.Gt.ht({ee:c,re:d,he:g.he,ae:g.ae,ft:g.ft,ne:u})}Ce(){const t=this.Gt.se();if(t!==null){const i=this.De(this.Ve(),t.ee);t.he=i.he,t.ae=i.ae,t.ft=i.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Be(t,i,n,r){const u=n+(r-n)*i;return this.ge.Qt().Xi().j(t,u)}De(t,i){const n=t%2600/2600;let r;for(const v of nS)if(n>=v.le&&n<=v.oe){r=v;break}se(r!==void 0,"Last price animation internal logic error");const u=(n-r.le)/(r.oe-r.le);return{he:this.Be(i,u,r.ce,r.de),ae:this.Be(i,u,r.fe,r.pe),ft:(c=u,d=r._e,g=r.ue,d+(g-d)*c)};var c,d,g}}class rS extends Rc{constructor(t){super(t)}te(){const t=this.Zn;t.Vt=!1;const i=this.Jn.N();if(!i.priceLineVisible||!this.Jn.Vt())return;const n=this.Jn.ye(i.priceLineSource===0);n.ke||(t.Vt=!0,t.ut=n.Ii,t.R=this.Jn.Ie(n.R),t.ct=i.priceLineWidth,t.Xt=i.priceLineStyle)}}class aS extends Ba{constructor(t){super(),this.Jt=t}qi(t,i,n){t.Vt=!1,i.Vt=!1;const r=this.Jt;if(!r.Vt())return;const u=r.N(),c=u.lastValueVisible,d=r.Ee()!=="",g=u.seriesLastValueMode===0,v=r.ye(!1);if(v.ke)return;c&&(t.ri=this.Ae(v,c,g),t.Vt=t.ri.length!==0),(d||g)&&(i.ri=this.ze(v,c,d,g),i.Vt=i.ri.length>0);const m=r.Ie(v.R),y=this.Jt.Qt().Xi().X(m);n.Z=y.Z,n.Ii=v.Ii,i.Ht=r.Qt().Ut(v.Ii/r.Ft().$t()),t.Ht=m,t.R=y.G,i.R=y.G}ze(t,i,n,r){let u="";const c=this.Jt.Ee();return n&&c.length!==0&&(u+=`${c} `),i&&r&&(u+=this.Jt.Ft().Le()?t.Oe:t.Ne),u.trim()}Ae(t,i,n){return i?n?this.Jt.Ft().Le()?t.Ne:t.Oe:t.ri:""}}function Sm(a,t,i,n){const r=Number.isFinite(t),u=Number.isFinite(i);return r&&u?a(t,i):r||u?r?t:i:n}class ce{constructor(t,i){this.Fe=t,this.We=i}He(t){return t!==null&&this.Fe===t.Fe&&this.We===t.We}Ue(){return new ce(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(t){return t===null?this:new ce(Sm(Math.min,this.$e(),t.$e(),-1/0),Sm(Math.max,this.qe(),t.qe(),1/0))}je(t){if(!zn(t)||this.We-this.Fe===0)return;const i=.5*(this.We+this.Fe);let n=this.We-i,r=this.Fe-i;n*=t,r*=t,this.We=i+n,this.Fe=i+r}Ke(t){zn(t)&&(this.We+=t,this.Fe+=t)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(t){return t===null?null:new ce(t.minValue,t.maxValue)}}class ja{constructor(t,i){this.Ge=t,this.Je=i||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:this.Ge===null?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(t){return t===null?null:new ja(ce.Ze(t.priceRange),t.margins)}}class oS extends Rc{constructor(t,i){super(t),this.ir=i}te(){const t=this.Zn;t.Vt=!1;const i=this.ir.N();if(!this.Jn.Vt()||!i.lineVisible)return;const n=this.ir.sr();n!==null&&(t.Vt=!0,t.ut=n,t.R=i.color,t.ct=i.lineWidth,t.Xt=i.lineStyle,t.Kn=this.ir.N().id)}}class uS extends Ba{constructor(t,i){super(),this.ge=t,this.ir=i}qi(t,i,n){t.Vt=!1,i.Vt=!1;const r=this.ir.N(),u=r.axisLabelVisible,c=r.title!=="",d=this.ge;if(!u||!d.Vt())return;const g=this.ir.sr();if(g===null)return;c&&(i.ri=r.title,i.Vt=!0),i.Ht=d.Qt().Ut(g/d.Ft().$t()),t.ri=this.nr(r.price),t.Vt=!0;const v=this.ge.Qt().Xi().X(r.axisLabelColor||r.color);n.Z=v.Z;const m=r.axisLabelTextColor||v.G;t.R=m,i.R=m,n.Ii=g}nr(t){const i=this.ge.zt();return i===null?"":this.ge.Ft().Zi(t,i.Wt)}}class hS{constructor(t,i){this.ge=t,this.Ps=i,this.er=new oS(t,this),this.Fn=new uS(t,this),this.rr=new qp(this.Fn,t,t.Qt())}hr(t){Ae(this.Ps,t),this.yt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}yt(){this.er.yt(),this.Fn.yt()}sr(){const t=this.ge,i=t.Ft();if(t.Qt().Et().Ki()||i.Ki())return null;const n=t.zt();return n===null?null:i.Nt(this.Ps.price,n.Wt)}}class cS extends Up{constructor(t){super(),this.ts=t}Qt(){return this.ts}}const fS={Bar:(a,t,i,n)=>{const r=t.upColor,u=t.downColor,c=V(a(i,n)),d=Xi(c.Wt[0])<=Xi(c.Wt[3]);return{cr:c.R??(d?r:u)}},Candlestick:(a,t,i,n)=>{const r=t.upColor,u=t.downColor,c=t.borderUpColor,d=t.borderDownColor,g=t.wickUpColor,v=t.wickDownColor,m=V(a(i,n)),y=Xi(m.Wt[0])<=Xi(m.Wt[3]);return{cr:m.R??(y?r:u),dr:m.Ht??(y?c:d),pr:m.vr??(y?g:v)}},Custom:(a,t,i,n)=>({cr:V(a(i,n)).R??t.color}),Area:(a,t,i,n)=>{const r=V(a(i,n));return{cr:r.vt??t.lineColor,vt:r.vt??t.lineColor,mr:r.mr??t.topColor,wr:r.wr??t.bottomColor}},Baseline:(a,t,i,n)=>{const r=V(a(i,n));return{cr:r.Wt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,gr:r.gr??t.topLineColor,Mr:r.Mr??t.bottomLineColor,br:r.br??t.topFillColor1,Sr:r.Sr??t.topFillColor2,Cr:r.Cr??t.bottomFillColor1,Pr:r.Pr??t.bottomFillColor2}},Line:(a,t,i,n)=>{const r=V(a(i,n));return{cr:r.R??t.color,vt:r.R??t.color}},Histogram:(a,t,i,n)=>({cr:V(a(i,n)).R??t.color})};class dS{constructor(t){this.yr=(i,n)=>n!==void 0?n.Wt:this.ge.Xs().kr(i),this.ge=t,this.Tr=fS[t.Rr()]}Dr(t,i){return this.Tr(this.yr,this.ge.N(),t,i)}}function Pp(a,t,i,n,r=0,u=t.length){let c=u-r;for(;0<c;){const d=c>>1,g=r+d;n(t[g],i)===a?(r=g+1,c-=d+1):c=d}return r}const jn=Pp.bind(null,!0),Yp=Pp.bind(null,!1);var Em;(function(a){a[a.NearestLeft=-1]="NearestLeft",a[a.None=0]="None",a[a.NearestRight=1]="NearestRight"})(Em||(Em={}));const Hi=30;class gS{constructor(){this.Vr=[],this.Br=new Map,this.Ir=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return this.zr()===0}Te(t){return this.Nr(t,0)!==null}kr(t){return this.Fr(t)}Fr(t,i=0){const n=this.Nr(t,i);return n===null?null:{...this.Wr(n),Re:this.Or(n)}}Hr(){return this.Vr}Ur(t,i,n){if(this.Ki())return null;let r=null;for(const u of n)r=ya(r,this.$r(t,i,u));return r}ht(t){this.Ir.clear(),this.Br.clear(),this.Vr=t,this.Er=t.map((i=>i.Re))}qr(){return this.Er}Or(t){return this.Vr[t].Re}Wr(t){return this.Vr[t]}Nr(t,i){const n=this.Yr(t);if(n===null&&i!==0)switch(i){case-1:return this.jr(t);case 1:return this.Kr(t);default:throw new TypeError("Unknown search mode")}return n}jr(t){let i=this.Xr(t);return i>0&&(i-=1),i!==this.Vr.length&&this.Or(i)<t?i:null}Kr(t){const i=this.Zr(t);return i!==this.Vr.length&&t<this.Or(i)?i:null}Yr(t){const i=this.Xr(t);return i===this.Vr.length||t<this.Vr[i].Re?null:i}Xr(t){return jn(this.Vr,t,((i,n)=>i.Re<n))}Zr(t){return Yp(this.Vr,t,((i,n)=>i.Re>n))}Gr(t,i,n){let r=null;for(let u=t;u<i;u++){const c=this.Vr[u].Wt[n];Number.isNaN(c)||(r===null?r={Jr:c,Qr:c}:(c<r.Jr&&(r.Jr=c),c>r.Qr&&(r.Qr=c)))}return r}$r(t,i,n){if(this.Ki())return null;let r=null;const u=V(this.Lr()),c=V(this.Ks()),d=Math.max(t,u),g=Math.min(i,c),v=Math.ceil(d/Hi)*Hi,m=Math.max(v,Math.floor(g/Hi)*Hi);{const _=this.Xr(d),S=this.Zr(Math.min(g,v,i));r=ya(r,this.Gr(_,S,n))}let y=this.Br.get(n);y===void 0&&(y=new Map,this.Br.set(n,y));for(let _=Math.max(v+1,d);_<m;_+=Hi){const S=Math.floor(_/Hi);let x=y.get(S);if(x===void 0){const M=this.Xr(S*Hi),j=this.Zr((S+1)*Hi-1);x=this.Gr(M,j,n),y.set(S,x)}r=ya(r,x)}{const _=this.Xr(m),S=this.Zr(g);r=ya(r,this.Gr(_,S,n))}return r}}function ya(a,t){return a===null?t:t===null?a:{Jr:Math.min(a.Jr,t.Jr),Qr:Math.max(a.Qr,t.Qr)}}const ka={setLineStyle:Cn};class vS{constructor(t){this.th=t}nt(t,i,n){this.th.draw(t,ka)}ih(t,i,n){this.th.drawBackground?.(t,ka)}}class mS{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(t===null)return null;if(this.Dn?.nh===t)return this.Dn.eh;const i=new vS(t);return this.Dn={nh:t,eh:i},i}rh(){return this.sh.zOrder?.()??"normal"}}class Vp{constructor(t){this.hh=null,this.ah=t}oh(){return this.ah}Ns(){this.ah.updateAllViews?.()}Fs(){const t=this.ah.paneViews?.()??[];if(this.hh?.nh===t)return this.hh.eh;const i=t.map((n=>new mS(n)));return this.hh={nh:t,eh:i},i}jn(t,i){return this.ah.hitTest?.(t,i)??null}}let pS=class extends Vp{us(){return[]}};class yS{constructor(t){this.th=t}nt(t,i,n){this.th.draw(t,ka)}ih(t,i,n){this.th.drawBackground?.(t,ka)}}class Tm{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(t===null)return null;if(this.Dn?.nh===t)return this.Dn.eh;const i=new yS(t);return this.Dn={nh:t,eh:i},i}rh(){return this.sh.zOrder?.()??"normal"}}function Hp(a){return{ri:a.text(),Ii:a.coordinate(),Bi:a.fixedCoordinate?.(),R:a.textColor(),Z:a.backColor(),Vt:a.visible?.()??!0,pi:a.tickVisible?.()??!0}}class bS{constructor(t,i){this.Gt=new Np,this._h=t,this.uh=i}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...Hp(this._h)}),this.Gt}}class _S extends Ba{constructor(t,i){super(),this._h=t,this.Yi=i}qi(t,i,n){const r=Hp(this._h);n.Z=r.Z,t.R=r.R;const u=2/12*this.Yi.P();n.Ti=u,n.Ri=u,n.Ii=r.Ii,n.Bi=r.Bi,t.ri=r.ri,t.Vt=r.Vt,t.pi=r.pi}}class wS extends Vp{constructor(t,i){super(t),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=i}cs(){const t=this.ah.timeAxisViews?.()??[];if(this.dh?.nh===t)return this.dh.eh;const i=this.ge.Qt().Et(),n=t.map((r=>new bS(r,i)));return this.dh={nh:t,eh:n},n}Ws(){const t=this.ah.priceAxisViews?.()??[];if(this.fh?.nh===t)return this.fh.eh;const i=this.ge.Ft(),n=t.map((r=>new _S(r,i)));return this.fh={nh:t,eh:n},n}wh(){const t=this.ah.priceAxisPaneViews?.()??[];if(this.ph?.nh===t)return this.ph.eh;const i=t.map((n=>new Tm(n)));return this.ph={nh:t,eh:i},i}gh(){const t=this.ah.timeAxisPaneViews?.()??[];if(this.mh?.nh===t)return this.mh.eh;const i=t.map((n=>new Tm(n)));return this.mh={nh:t,eh:i},i}Mh(t,i){return this.ah.autoscaleInfo?.(t,i)??null}}function Oh(a,t,i,n){a.forEach((r=>{t(r).forEach((u=>{u.rh()===i&&n.push(u)}))}))}function Mh(a){return a.Fs()}function SS(a){return a.wh()}function ES(a){return a.gh()}const TS=["Area","Line","Baseline"];class Ya extends cS{constructor(t,i,n,r,u){super(t),this.Yt=new gS,this.er=new rS(this),this.bh=[],this.Sh=new iS(this),this.xh=null,this.Ch=null,this.Ph=null,this.yh=[],this.Ps=n,this.kh=i;const c=new aS(this);this.vs=[c],this.rr=new qp(c,this,t),TS.includes(this.kh)&&(this.xh=new lS(this)),this.Th(),this.sh=r(this,this.Qt(),u)}m(){this.Ph!==null&&clearTimeout(this.Ph)}Ie(t){return this.Ps.priceLineColor||t}ye(t){const i={ke:!0},n=this.Ft();if(this.Qt().Et().Ki()||n.Ki()||this.Yt.Ki())return i;const r=this.Qt().Et().Pe(),u=this.zt();if(r===null||u===null)return i;let c,d;if(t){const y=this.Yt.Ar();if(y===null)return i;c=y,d=y.Re}else{const y=this.Yt.Fr(r.bi(),-1);if(y===null||(c=this.Yt.kr(y.Re),c===null))return i;d=y.Re}const g=c.Wt[3],v=this.Rh().Dr(d,{Wt:c}),m=n.Nt(g,u.Wt);return{ke:!1,gt:g,ri:n.Zi(g,u.Wt),Oe:n.Dh(g),Ne:n.Vh(g,u.Wt),R:v.cr,Ii:m,Re:d}}Rh(){return this.Ch!==null||(this.Ch=new dS(this)),this.Ch}N(){return this.Ps}hr(t){const i=t.priceScaleId;i!==void 0&&i!==this.Ps.priceScaleId&&this.Qt().Bh(this,i),Ae(this.Ps,t),t.priceFormat!==void 0&&(this.Th(),this.Qt().Ih()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.yt("options")}ht(t,i){this.Yt.ht(t),this.sh.yt("data"),this.xh!==null&&(i&&i.zh?this.xh.be():t.length===0&&this.xh.Me());const n=this.Qt().Hn(this);this.Qt().Lh(n),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(t){const i=new hS(this,t);return this.bh.push(i),this.Qt().Eh(this),i}Nh(t){const i=this.bh.indexOf(t);i!==-1&&this.bh.splice(i,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.kh}zt(){const t=this.Wh();return t===null?null:{Wt:t.Wt[3],Hh:t.wt}}Wh(){const t=this.Qt().Et().Pe();if(t===null)return null;const i=t.Uh();return this.Yt.Fr(i,1)}Xs(){return this.Yt}$h(t){const i=this.Yt.kr(t);return i===null?null:this.kh==="Bar"||this.kh==="Candlestick"||this.kh==="Custom"?{qh:i.Wt[0],Yh:i.Wt[1],jh:i.Wt[2],Kh:i.Wt[3]}:i.Wt[3]}Xh(t){const i=[];Oh(this.yh,Mh,"top",i);const n=this.xh;return n!==null&&n.Vt()&&(this.Ph===null&&n.xe()&&(this.Ph=setTimeout((()=>{this.Ph=null,this.Qt().Zh()}),0)),n.Se(),i.unshift(n)),i}Fs(){const t=[];this.Gh()||t.push(this.Sh),t.push(this.sh,this.er);const i=this.bh.map((n=>n.lr()));return t.push(...i),Oh(this.yh,Mh,"normal",t),t}Jh(){return this.Qh(Mh,"bottom")}ta(t){return this.Qh(SS,t)}ia(t){return this.Qh(ES,t)}sa(t,i){return this.yh.map((n=>n.jn(t,i))).filter((n=>n!==null))}us(){return[this.rr,...this.bh.map((t=>t._r()))]}Ws(t,i){if(i!==this.es&&!this.Gh())return[];const n=[...this.vs];for(const r of this.bh)n.push(r.ur());return this.yh.forEach((r=>{n.push(...r.Ws())})),n}cs(){const t=[];return this.yh.forEach((i=>{t.push(...i.cs())})),t}Mh(t,i){if(this.Ps.autoscaleInfoProvider!==void 0){const n=this.Ps.autoscaleInfoProvider((()=>{const r=this.na(t,i);return r===null?null:r.Xe()}));return ja.Ze(n)}return this.na(t,i)}nh(){const t=this.Ps.priceFormat;return t.base??1/t.minMove}ea(){return this.ra}Ns(){this.sh.yt();for(const t of this.vs)t.yt();for(const t of this.bh)t.yt();this.er.yt(),this.Sh.yt(),this.xh?.yt(),this.yh.forEach((t=>t.Ns()))}Ft(){return V(super.Ft())}At(t){if(!((this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const i=this.Yt.kr(t);return i===null?null:{gt:i.Wt[3],ft:this.ha(),Ht:this.aa(),Ot:this.la(),Lt:this.oa(t)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}_a(t){this.yh.push(new wS(t,this))}ua(t){this.yh=this.yh.filter((i=>i.oh()!==t))}ca(){if(this.kh==="Custom")return t=>this.sh.da(t)}fa(){if(this.kh==="Custom")return t=>this.sh.pa(t)}va(){return this.Yt.qr()}Gh(){return!qa(this.Ft().ma())}na(t,i){if(!Jl(t)||!Jl(i)||this.Yt.Ki())return null;const n=this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline"||this.kh==="Histogram"?[3]:[2,1],r=this.Yt.Ur(t,i,n);let u=r!==null?new ce(r.Jr,r.Qr):null,c=null;if(this.Rr()==="Histogram"){const d=this.Ps.base,g=new ce(d,d);u=u!==null?u.vn(g):g}return this.yh.forEach((d=>{const g=d.Mh(t,i);if(g?.priceRange){const v=new ce(g.priceRange.minValue,g.priceRange.maxValue);u=u!==null?u.vn(v):v}g?.margins&&(c=g.margins)})),new ja(u,c)}ha(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}aa(){switch(this.kh){case"Line":case"Area":case"Baseline":{const t=this.Ps.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}la(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}oa(t){switch(this.kh){case"Line":case"Area":case"Baseline":{const i=this.Ps.crosshairMarkerBackgroundColor;if(i.length!==0)return i}}return this.Rh().Dr(t).cr}Th(){switch(this.Ps.priceFormat.type){case"custom":{const t=this.Ps.priceFormat.formatter;this.ra={format:t,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(i=>i.map(t))};break}case"volume":this.ra=new I1(this.Ps.priceFormat.precision);break;case"percent":this.ra=new Bp(this.Ps.priceFormat.precision);break;default:{const t=Math.pow(10,this.Ps.priceFormat.precision);this.ra=new Pa(t,this.Ps.priceFormat.minMove*t)}}this.es!==null&&this.es.wa()}Qh(t,i){const n=[];return Oh(this.yh,t,i,n),n}}const xS=[3],OS=[0,1,2,3];class MS{constructor(t){this.Ps=t}ga(t,i,n){let r=t;if(this.Ps.mode===0)return r;const u=n.ks(),c=u.zt();if(c===null)return r;const d=u.Nt(t,c),g=n.Ma().filter((m=>m instanceof Ya)).reduce(((m,y)=>{if(n.Un(y)||!y.Vt())return m;const _=y.Ft(),S=y.Xs();if(_.Ki()||!S.Te(i))return m;const x=S.kr(i);if(x===null)return m;const M=Xi(y.zt()),j=this.Ps.mode===3?OS:xS;return m.concat(j.map((Y=>_.Nt(x.Wt[Y],M.Wt))))}),[]);if(g.length===0)return r;g.sort(((m,y)=>Math.abs(m-d)-Math.abs(y-d)));const v=g[0];return r=u.Ts(v,c),r}}function Hl(a,t,i){return Math.min(Math.max(a,t),i)}function ba(a,t,i){return t-a<=i}class RS extends Un{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}et({context:t,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.Yt===null)return;const u=Math.max(1,Math.floor(n));t.lineWidth=u,(function(c,d){c.save(),c.lineWidth%2&&c.translate(.5,.5),d(),c.restore()})(t,(()=>{const c=V(this.Yt);if(c.ba){t.strokeStyle=c.Sa,Cn(t,c.xa),t.beginPath();for(const d of c.Ca){const g=Math.round(d.Pa*n);t.moveTo(g,-u),t.lineTo(g,i.height+u)}t.stroke()}if(c.ya){t.strokeStyle=c.ka,Cn(t,c.Ta),t.beginPath();for(const d of c.Ra){const g=Math.round(d.Pa*r);t.moveTo(-u,g),t.lineTo(i.width+u,g)}t.stroke()}}))}}class AS{constructor(t){this.Gt=new RS,this.xt=!0,this.Pt=t}yt(){this.xt=!0}Tt(){if(this.xt){const t=this.Pt.Qt().N().grid,i={ya:t.horzLines.visible,ba:t.vertLines.visible,ka:t.horzLines.color,Sa:t.vertLines.color,Ta:t.horzLines.style,xa:t.vertLines.style,Ra:this.Pt.ks().Da(),Ca:(this.Pt.Qt().Et().Da()||[]).map((n=>({Pa:n.coord})))};this.Gt.ht(i),this.xt=!1}return this.Gt}}class CS{constructor(t){this.sh=new AS(t)}lr(){return this.sh}}const Rh={Va:4,Ba:1e-4};function On(a,t){const i=100*(a-t)/t;return t<0?-i:i}function zS(a,t){const i=On(a.$e(),t),n=On(a.qe(),t);return new ce(i,n)}function $l(a,t){const i=100*(a-t)/t+100;return t<0?-i:i}function jS(a,t){const i=$l(a.$e(),t),n=$l(a.qe(),t);return new ce(i,n)}function Da(a,t){const i=Math.abs(a);if(i<1e-15)return 0;const n=Math.log10(i+t.Ba)+t.Va;return a<0?-n:n}function Gl(a,t){const i=Math.abs(a);if(i<1e-15)return 0;const n=Math.pow(10,i-t.Va)-t.Ba;return a<0?-n:n}function Ll(a,t){if(a===null)return null;const i=Da(a.$e(),t),n=Da(a.qe(),t);return new ce(i,n)}function Mn(a,t){if(a===null)return null;const i=Gl(a.$e(),t),n=Gl(a.qe(),t);return new ce(i,n)}function Ah(a){if(a===null)return Rh;const t=Math.abs(a.qe()-a.$e());if(t>=1||t<1e-15)return Rh;const i=Math.ceil(Math.abs(Math.log10(t))),n=Rh.Va+i;return{Va:n,Ba:1/Math.pow(10,n)}}class Ch{constructor(t,i){if(this.Ia=t,this.Ea=i,(function(n){if(n<0)return!1;if(n>1e18)return!0;for(let r=n;r>1;r/=10)if(r%10!=0)return!1;return!0})(this.Ia))this.Aa=[2,2.5,2];else{this.Aa=[];for(let n=this.Ia;n!==1;){if(n%2==0)this.Aa.push(2),n/=2;else{if(n%5!=0)throw new Error("unexpected base");this.Aa.push(2,2.5),n/=5}if(this.Aa.length>100)throw new Error("something wrong with base")}}}za(t,i,n){const r=this.Ia===0?0:1/this.Ia;let u=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-i)))),c=0,d=this.Ea[0];for(;;){const y=ba(u,r,1e-14)&&u>r+1e-14,_=ba(u,n*d,1e-14),S=ba(u,1,1e-14);if(!(y&&_&&S))break;u/=d,d=this.Ea[++c%this.Ea.length]}if(u<=r+1e-14&&(u=r),u=Math.max(1,u),this.Aa.length>0&&(g=u,v=1,m=1e-14,Math.abs(g-v)<m))for(c=0,d=this.Aa[0];ba(u,n*d,1e-14)&&u>r+1e-14;)u/=d,d=this.Aa[++c%this.Aa.length];var g,v,m;return u}}class xm{constructor(t,i,n,r){this.La=[],this.Yi=t,this.Ia=i,this.Oa=n,this.Na=r}za(t,i){if(t<i)throw new Error("high < low");const n=this.Yi.$t(),r=(t-i)*this.Fa()/n,u=new Ch(this.Ia,[2,2.5,2]),c=new Ch(this.Ia,[2,2,2.5]),d=new Ch(this.Ia,[2.5,2,2]),g=[];return g.push(u.za(t,i,r),c.za(t,i,r),d.za(t,i,r)),(function(v){if(v.length<1)throw Error("array is empty");let m=v[0];for(let y=1;y<v.length;++y)v[y]<m&&(m=v[y]);return m})(g)}Wa(){const t=this.Yi,i=t.zt();if(i===null)return void(this.La=[]);const n=t.$t(),r=this.Oa(n-1,i),u=this.Oa(0,i),c=this.Yi.N().entireTextOnly?this.Ha()/2:0,d=c,g=n-1-c,v=Math.max(r,u),m=Math.min(r,u);if(v===m)return void(this.La=[]);const y=this.za(v,m);if(this.Ua(i,y,v,m,d,g),t.$a()&&this.qa(y,m,v)){const x=this.Yi.Ya();this.ja(i,y,d,g,x,2*x)}const _=this.La.map((x=>x.Ka)),S=this.Yi.Xa(_);for(let x=0;x<this.La.length;x++)this.La[x].Za=S[x]}Da(){return this.La}Ha(){return this.Yi.P()}Fa(){return Math.ceil(2.5*this.Ha())}Ua(t,i,n,r,u,c){const d=this.La,g=this.Yi;let v=n%i;v+=v<0?i:0;const m=n>=r?1:-1;let y=null,_=0;for(let S=n-v;S>r;S-=i){const x=this.Na(S,t,!0);y!==null&&Math.abs(x-y)<this.Fa()||x<u||x>c||(_<d.length?(d[_].Pa=x,d[_].Za=g.Ga(S),d[_].Ka=S):d.push({Pa:x,Za:g.Ga(S),Ka:S}),_++,y=x,g.Ja()&&(i=this.za(S*m,r)))}d.length=_}ja(t,i,n,r,u,c){const d=this.La,g=this.Qa(t,n,u,c),v=this.Qa(t,r,-c,-u),m=this.Na(0,t,!0)-this.Na(i,t,!0);d.length>0&&d[0].Pa-g.Pa<m/2&&d.shift(),d.length>0&&v.Pa-d[d.length-1].Pa<m/2&&d.pop(),d.unshift(g),d.push(v)}Qa(t,i,n,r){const u=(n+r)/2,c=this.Oa(i+n,t),d=this.Oa(i+r,t),g=Math.min(c,d),v=Math.max(c,d),m=Math.max(.1,this.za(v,g)),y=this.Oa(i+u,t),_=y-y%m,S=this.Na(_,t,!0);return{Za:this.Yi.Ga(_),Pa:S,Ka:_}}qa(t,i,n){let r=Xi(this.Yi.Qe());return this.Yi.Ja()&&(r=Mn(r,this.Yi.tl())),r.$e()-i<t&&n-r.qe()<t}}function $p(a){return a.slice().sort(((t,i)=>V(t.hs())-V(i.hs())))}var Om;(function(a){a[a.Normal=0]="Normal",a[a.Logarithmic=1]="Logarithmic",a[a.Percentage=2]="Percentage",a[a.IndexedTo100=3]="IndexedTo100"})(Om||(Om={}));const Mm=new Bp,Rm=new Pa(100,1);class kS{constructor(t,i,n,r,u){this.il=0,this.sl=null,this.Ge=null,this.nl=null,this.el={rl:!1,hl:null},this.al=!1,this.ll=0,this.ol=0,this._l=new qt,this.ul=new qt,this.cl=[],this.dl=null,this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.ra=Rm,this.wl=Ah(null),this.gl=t,this.Ps=i,this.Ml=n,this.bl=r,this.Sl=u,this.xl=new xm(this,100,this.Cl.bind(this),this.Pl.bind(this))}ma(){return this.gl}N(){return this.Ps}hr(t){if(Ae(this.Ps,t),this.wa(),t.mode!==void 0&&this.yl({ie:t.mode}),t.scaleMargins!==void 0){const i=ye(t.scaleMargins.top),n=ye(t.scaleMargins.bottom);if(i<0||i>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${i}`);if(n<0||n>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${n}`);if(i+n>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${i+n}`);this.kl(),this.pl=null}}Tl(){return this.Ps.autoScale}Rl(){return this.al}Ja(){return this.Ps.mode===1}Le(){return this.Ps.mode===2}Dl(){return this.Ps.mode===3}tl(){return this.wl}ie(){return{sn:this.Ps.autoScale,Vl:this.Ps.invertScale,ie:this.Ps.mode}}yl(t){const i=this.ie();let n=null;t.sn!==void 0&&(this.Ps.autoScale=t.sn),t.ie!==void 0&&(this.Ps.mode=t.ie,t.ie!==2&&t.ie!==3||(this.Ps.autoScale=!0),this.el.rl=!1),i.ie===1&&t.ie!==i.ie&&((function(u,c){if(u===null)return!1;const d=Gl(u.$e(),c),g=Gl(u.qe(),c);return isFinite(d)&&isFinite(g)})(this.Ge,this.wl)?(n=Mn(this.Ge,this.wl),n!==null&&this.Bl(n)):this.Ps.autoScale=!0),t.ie===1&&t.ie!==i.ie&&(n=Ll(this.Ge,this.wl),n!==null&&this.Bl(n));const r=i.ie!==this.Ps.mode;r&&(i.ie===2||this.Le())&&this.wa(),r&&(i.ie===3||this.Dl())&&this.wa(),t.Vl!==void 0&&i.Vl!==t.Vl&&(this.Ps.invertScale=t.Vl,this.Il()),this.ul.p(i,this.ie())}El(){return this.ul}P(){return this.Ml.fontSize}$t(){return this.il}Al(t){this.il!==t&&(this.il=t,this.kl(),this.pl=null)}zl(){if(this.sl)return this.sl;const t=this.$t()-this.Ll()-this.Ol();return this.sl=t,t}Qe(){return this.Nl(),this.Ge}Bl(t,i){const n=this.Ge;(i||n===null&&t!==null||n!==null&&!n.He(t))&&(this.pl=null,this.Ge=t)}Fl(t){this.Bl(t),this.Wl(t!==null)}Ki(){return this.Nl(),this.il===0||!this.Ge||this.Ge.Ki()}Hl(t){return this.Vl()?t:this.$t()-1-t}Nt(t,i){return this.Le()?t=On(t,i):this.Dl()&&(t=$l(t,i)),this.Pl(t,i)}Ul(t,i,n){this.Nl();const r=this.Ol(),u=V(this.Qe()),c=u.$e(),d=u.qe(),g=this.zl()-1,v=this.Vl(),m=g/(d-c),y=n===void 0?0:n.from,_=n===void 0?t.length:n.to,S=this.$l();for(let x=y;x<_;x++){const M=t[x],j=M.gt;if(isNaN(j))continue;let Y=j;S!==null&&(Y=S(M.gt,i));const q=r+m*(Y-c),L=v?q:this.il-1-q;M.ut=L}}ql(t,i,n){this.Nl();const r=this.Ol(),u=V(this.Qe()),c=u.$e(),d=u.qe(),g=this.zl()-1,v=this.Vl(),m=g/(d-c),y=n===void 0?0:n.from,_=n===void 0?t.length:n.to,S=this.$l();for(let x=y;x<_;x++){const M=t[x];let j=M.qh,Y=M.Yh,q=M.jh,L=M.Kh;S!==null&&(j=S(M.qh,i),Y=S(M.Yh,i),q=S(M.jh,i),L=S(M.Kh,i));let H=r+m*(j-c),G=v?H:this.il-1-H;M.Yl=G,H=r+m*(Y-c),G=v?H:this.il-1-H,M.jl=G,H=r+m*(q-c),G=v?H:this.il-1-H,M.Kl=G,H=r+m*(L-c),G=v?H:this.il-1-H,M.Xl=G}}Ts(t,i){const n=this.Cl(t,i);return this.Zl(n,i)}Zl(t,i){let n=t;return this.Le()?n=(function(r,u){return u<0&&(r=-r),r/100*u+u})(n,i):this.Dl()&&(n=(function(r,u){return r-=100,u<0&&(r=-r),r/100*u+u})(n,i)),n}Ma(){return this.cl}Dt(){return this.fl||(this.fl=$p(this.cl)),this.fl}Gl(t){this.cl.indexOf(t)===-1&&(this.cl.push(t),this.wa(),this.Jl())}Ql(t){const i=this.cl.indexOf(t);if(i===-1)throw new Error("source is not attached to scale");this.cl.splice(i,1),this.cl.length===0&&(this.yl({sn:!0}),this.Bl(null)),this.wa(),this.Jl()}zt(){let t=null;for(const i of this.cl){const n=i.zt();n!==null&&(t===null||n.Hh<t.Hh)&&(t=n)}return t===null?null:t.Wt}Vl(){return this.Ps.invertScale}Da(){const t=this.zt()===null;if(this.pl!==null&&(t||this.pl.io===t))return this.pl.Da;this.xl.Wa();const i=this.xl.Da();return this.pl={Da:i,io:t},this._l.p(),i}so(){return this._l}no(t){this.Le()||this.Dl()||this.vl===null&&this.nl===null&&(this.Ki()||(this.vl=this.il-t,this.nl=V(this.Qe()).Ue()))}eo(t){if(this.Le()||this.Dl()||this.vl===null)return;this.yl({sn:!1}),(t=this.il-t)<0&&(t=0);let i=(this.vl+.2*(this.il-1))/(t+.2*(this.il-1));const n=V(this.nl).Ue();i=Math.max(i,.1),n.je(i),this.Bl(n)}ro(){this.Le()||this.Dl()||(this.vl=null,this.nl=null)}ho(t){this.Tl()||this.ml===null&&this.nl===null&&(this.Ki()||(this.ml=t,this.nl=V(this.Qe()).Ue()))}ao(t){if(this.Tl()||this.ml===null)return;const i=V(this.Qe()).Ye()/(this.zl()-1);let n=t-this.ml;this.Vl()&&(n*=-1);const r=n*i,u=V(this.nl).Ue();u.Ke(r),this.Bl(u,!0),this.pl=null}lo(){this.Tl()||this.ml!==null&&(this.ml=null,this.nl=null)}ea(){return this.ra||this.wa(),this.ra}Zi(t,i){switch(this.Ps.mode){case 2:return this.oo(On(t,i));case 3:return this.ea().format($l(t,i));default:return this.nr(t)}}Ga(t){switch(this.Ps.mode){case 2:return this.oo(t);case 3:return this.ea().format(t);default:return this.nr(t)}}Xa(t){switch(this.Ps.mode){case 2:return this._o(t);case 3:return this.ea().formatTickmarks(t);default:return this.uo(t)}}Dh(t){return this.nr(t,V(this.dl).ea())}Vh(t,i){return t=On(t,i),this.oo(t,Mm)}co(){return this.cl}do(t){this.el={hl:t,rl:!1}}Ns(){this.cl.forEach((t=>t.Ns()))}$a(){return this.Ps.ensureEdgeTickMarksVisible&&this.Tl()}Ya(){return this.P()/2}wa(){this.pl=null;let t=1/0;this.dl=null;for(const n of this.cl)n.hs()<t&&(t=n.hs(),this.dl=n);let i=100;this.dl!==null&&(i=Math.round(this.dl.nh())),this.ra=Rm,this.Le()?(this.ra=Mm,i=100):this.Dl()?(this.ra=new Pa(100,1),i=100):this.dl!==null&&(this.ra=this.dl.ea()),this.xl=new xm(this,i,this.Cl.bind(this),this.Pl.bind(this)),this.xl.Wa()}Jl(){this.fl=null}fo(){return this.dl===null||this.Le()||this.Dl()?1:1/this.dl.nh()}Xi(){return this.Sl}Wl(t){this.al=t}Ll(){return this.Vl()?this.Ps.scaleMargins.bottom*this.$t()+this.ol:this.Ps.scaleMargins.top*this.$t()+this.ll}Ol(){return this.Vl()?this.Ps.scaleMargins.top*this.$t()+this.ll:this.Ps.scaleMargins.bottom*this.$t()+this.ol}Nl(){this.el.rl||(this.el.rl=!0,this.po())}kl(){this.sl=null}Pl(t,i){if(this.Nl(),this.Ki())return 0;t=this.Ja()&&t?Da(t,this.wl):t;const n=V(this.Qe()),r=this.Ol()+(this.zl()-1)*(t-n.$e())/n.Ye();return this.Hl(r)}Cl(t,i){if(this.Nl(),this.Ki())return 0;const n=this.Hl(t),r=V(this.Qe()),u=r.$e()+r.Ye()*((n-this.Ol())/(this.zl()-1));return this.Ja()?Gl(u,this.wl):u}Il(){this.pl=null,this.xl.Wa()}po(){if(this.Rl()&&!this.Tl())return;const t=this.el.hl;if(t===null)return;let i=null;const n=this.co();let r=0,u=0;for(const g of n){if(!g.Vt())continue;const v=g.zt();if(v===null)continue;const m=g.Mh(t.Uh(),t.bi());let y=m&&m.Qe();if(y!==null){switch(this.Ps.mode){case 1:y=Ll(y,this.wl);break;case 2:y=zS(y,v.Wt);break;case 3:y=jS(y,v.Wt)}if(i=i===null?y:i.vn(V(y)),m!==null){const _=m.tr();_!==null&&(r=Math.max(r,_.above),u=Math.max(u,_.below))}}}if(this.$a()&&(r=Math.max(r,this.Ya()),u=Math.max(u,this.Ya())),r===this.ll&&u===this.ol||(this.ll=r,this.ol=u,this.pl=null,this.kl()),i!==null){if(i.$e()===i.qe()){const g=5*this.fo();this.Ja()&&(i=Mn(i,this.wl)),i=new ce(i.$e()-g,i.qe()+g),this.Ja()&&(i=Ll(i,this.wl))}if(this.Ja()){const g=Mn(i,this.wl),v=Ah(g);if(c=v,d=this.wl,c.Va!==d.Va||c.Ba!==d.Ba){const m=this.nl!==null?Mn(this.nl,this.wl):null;this.wl=v,i=Ll(g,v),m!==null&&(this.nl=Ll(m,v))}}this.Bl(i)}else this.Ge===null&&(this.Bl(new ce(-.5,.5)),this.wl=Ah(null));var c,d}$l(){return this.Le()?On:this.Dl()?$l:this.Ja()?t=>Da(t,this.wl):null}vo(t,i,n){return i===void 0?(n===void 0&&(n=this.ea()),n.format(t)):i(t)}mo(t,i,n){return i===void 0?(n===void 0&&(n=this.ea()),n.formatTickmarks(t)):i(t)}nr(t,i){return this.vo(t,this.bl.priceFormatter,i)}uo(t,i){const n=this.bl.priceFormatter;return this.mo(t,this.bl.tickmarksPriceFormatter??(n?r=>r.map(n):void 0),i)}oo(t,i){return this.vo(t,this.bl.percentageFormatter,i)}_o(t,i){const n=this.bl.percentageFormatter;return this.mo(t,this.bl.tickmarksPercentageFormatter??(n?r=>r.map(n):void 0),i)}}function Am(a){return a instanceof Ya}class Cm{constructor(t,i){this.cl=[],this.wo=new Map,this.il=0,this.Mo=0,this.bo=1,this.fl=null,this.So=!1,this.xo=new qt,this.yh=[],this.uh=t,this.ts=i,this.Co=new CS(this);const n=i.N();this.Po=this.yo("left",n.leftPriceScale),this.ko=this.yo("right",n.rightPriceScale),this.Po.El().i(this.To.bind(this,this.Po),this),this.ko.El().i(this.To.bind(this,this.ko),this),this.Ro(n)}Ro(t){if(t.leftPriceScale&&this.Po.hr(t.leftPriceScale),t.rightPriceScale&&this.ko.hr(t.rightPriceScale),t.localization&&(this.Po.wa(),this.ko.wa()),t.overlayPriceScales){const i=Array.from(this.wo.values());for(const n of i){const r=V(n[0].Ft());r.hr(t.overlayPriceScales),t.localization&&r.wa()}}}Do(t){switch(t){case"left":return this.Po;case"right":return this.ko}return this.wo.has(t)?ye(this.wo.get(t))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.El().u(this),this.ko.El().u(this),this.cl.forEach((t=>{t.m&&t.m()})),this.yh=this.yh.filter((t=>{const i=t.oh();return i.detached&&i.detached(),!1})),this.xo.p()}Bo(){return this.bo}Io(t){this.bo=t}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.il}Eo(t){this.Mo=t,this.Ao()}Al(t){this.il=t,this.Po.Al(t),this.ko.Al(t),this.cl.forEach((i=>{if(this.Un(i)){const n=i.Ft();n!==null&&n.Al(t)}})),this.Ao()}zo(t){this.So=t}Lo(){return this.So}Oo(){return this.cl.filter(Am)}Ma(){return this.cl}Un(t){const i=t.Ft();return i===null||this.Po!==i&&this.ko!==i}Gl(t,i,n){this.No(t,i,n?t.hs():this.cl.length)}Ql(t,i){const n=this.cl.indexOf(t);se(n!==-1,"removeDataSource: invalid data source"),this.cl.splice(n,1),i||this.cl.forEach(((c,d)=>c.ls(d)));const r=V(t.Ft()).ma();if(this.wo.has(r)){const c=ye(this.wo.get(r)),d=c.indexOf(t);d!==-1&&(c.splice(d,1),c.length===0&&this.wo.delete(r))}const u=t.Ft();u&&u.Ma().indexOf(t)>=0&&(u.Ql(t),this.Fo(u)),this.fl=null}qn(t){return t===this.Po?"left":t===this.ko?"right":"overlay"}Wo(){return this.Po}Ho(){return this.ko}Uo(t,i){t.no(i)}$o(t,i){t.eo(i),this.Ao()}qo(t){t.ro()}Yo(t,i){t.ho(i)}jo(t,i){t.ao(i),this.Ao()}Ko(t){t.lo()}Ao(){this.cl.forEach((t=>{t.Ns()}))}ks(){let t=null;return this.ts.N().rightPriceScale.visible&&this.ko.Ma().length!==0?t=this.ko:this.ts.N().leftPriceScale.visible&&this.Po.Ma().length!==0?t=this.Po:this.cl.length!==0&&(t=this.cl[0].Ft()),t===null&&(t=this.ko),t}$n(){let t=null;return this.ts.N().rightPriceScale.visible?t=this.ko:this.ts.N().leftPriceScale.visible&&(t=this.Po),t}Fo(t){t!==null&&t.Tl()&&this.Xo(t)}Zo(t){const i=this.uh.Pe();t.yl({sn:!0}),i!==null&&t.do(i),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.ko)}Jo(){this.Fo(this.Po),this.Fo(this.ko),this.cl.forEach((t=>{this.Un(t)&&this.Fo(t.Ft())})),this.Ao(),this.ts.ar()}Dt(){return this.fl===null&&(this.fl=$p(this.cl)),this.fl}Qo(t,i){i=Hl(i,0,this.cl.length-1);const n=this.cl.indexOf(t);se(n!==-1,"setSeriesOrder: invalid data source"),this.cl.splice(n,1),this.cl.splice(i,0,t),this.cl.forEach(((r,u)=>r.ls(u))),this.fl=null;for(const r of[this.Po,this.ko])r.Jl(),r.wa();this.ts.ar()}Bt(){return this.Dt().filter(Am)}t_(){return this.xo}i_(){return this.Co}_a(t){this.yh.push(new pS(t))}ua(t){this.yh=this.yh.filter((i=>i.oh()!==t)),t.detached&&t.detached(),this.ts.ar()}s_(){return this.yh}sa(t,i){return this.yh.map((n=>n.jn(t,i))).filter((n=>n!==null))}Xo(t){const i=t.co();if(i&&i.length>0&&!this.uh.Ki()){const n=this.uh.Pe();n!==null&&t.do(n)}t.Ns()}No(t,i,n){let r=this.Do(i);if(r===null&&(r=this.yo(i,this.ts.N().overlayPriceScales)),this.cl.splice(n,0,t),!qa(i)){const u=this.wo.get(i)||[];u.push(t),this.wo.set(i,u)}t.ls(n),r.Gl(t),t._s(r),this.Fo(r),this.fl=null}To(t,i,n){i.ie!==n.ie&&this.Xo(t)}yo(t,i){const n={visible:!0,autoScale:!0,...vi(i)},r=new kS(t,n,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return r.Al(this.$t()),r}}function _a(a){return{n_:a.n_,e_:{Kn:a.r_.externalId},h_:a.r_.cursorStyle}}function DS(a,t,i,n){for(const r of a){const u=r.Tt(n);if(u!==null&&u.jn){const c=u.jn(t,i);if(c!==null)return{a_:r,e_:c}}}return null}function NS(a){return a.Fs!==void 0}function Gp(a,t,i){const n=[a,...a.Dt()],r=(function(u,c,d){let g,v;for(const _ of u){const S=_.sa?.(c,d)??[];for(const x of S)m=x.zOrder,y=g?.zOrder,(!y||m==="top"&&y!=="top"||m==="normal"&&y==="bottom")&&(g=x,v=_)}var m,y;return g&&v?{r_:g,n_:v}:null})(n,t,i);if(r?.r_.zOrder==="top")return _a(r);for(const u of n){if(r&&r.n_===u&&r.r_.zOrder!=="bottom"&&!r.r_.isBackground)return _a(r);if(NS(u)){const c=DS(u.Fs(a),t,i,a);if(c!==null)return{n_:u,a_:c.a_,e_:c.e_}}if(r&&r.n_===u&&r.r_.zOrder!=="bottom"&&r.r_.isBackground)return _a(r)}return r?.r_?_a(r):null}class US{constructor(t,i,n=50){this.yn=0,this.kn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=t,this.o_=i,this.Vn=n}__(t){const i=t.time,n=this.o_.cacheKey(i),r=this.Dn.get(n);if(r!==void 0)return r.u_;if(this.yn===this.Vn){const c=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(ye(c)),this.Tn++,this.yn--}const u=this.l_(t);return this.Dn.set(n,{u_:u,An:this.kn}),this.Rn.set(this.kn,n),this.yn++,this.kn++,u}}class Ql{constructor(t,i){se(t<=i,"right should be >= left"),this.c_=t,this.d_=i}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(t){return this.c_<=t&&t<=this.d_}He(t){return this.c_===t.Uh()&&this.d_===t.bi()}}function zm(a,t){return a===null||t===null?a===t:a.He(t)}class LS{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(t){this.v_=t,this.Dn=null}w_(t,i){this.g_(i),this.Dn=null;for(let n=i;n<t.length;++n){const r=t[n];let u=this.p_.get(r.timeWeight);u===void 0&&(u=[],this.p_.set(r.timeWeight,u)),u.push({index:n,time:r.time,weight:r.timeWeight,originalTime:r.originalTime})}}M_(t,i,n,r,u){const c=Math.ceil(i/t);return this.Dn!==null&&this.Dn.b_===c&&u===this.Dn.S_&&n===this.Dn.x_||(this.Dn={S_:u,x_:n,Da:this.C_(c,n,r),b_:c}),this.Dn.Da}g_(t){if(t===0)return void this.p_.clear();const i=[];this.p_.forEach(((n,r)=>{t<=n[0].index?i.push(r):n.splice(jn(n,t,(u=>u.index<t)),1/0)}));for(const n of i)this.p_.delete(n)}C_(t,i,n){let r=[];const u=c=>!i||n.has(c.index);for(const c of Array.from(this.p_.keys()).sort(((d,g)=>g-d))){if(!this.p_.get(c))continue;const d=r;r=[];const g=d.length;let v=0;const m=ye(this.p_.get(c)),y=m.length;let _=1/0,S=-1/0;for(let x=0;x<y;x++){const M=m[x],j=M.index;for(;v<g;){const Y=d[v],q=Y.index;if(!(q<j&&u(Y))){_=q;break}v++,r.push(Y),S=q,_=1/0}if(_-j>=t&&j-S>=t&&u(M))r.push(M),S=j;else if(this.v_)return d}for(;v<g;v++)u(d[v])&&r.push(d[v])}return r}}class Rn{constructor(t){this.P_=t}y_(){return this.P_===null?null:new Ql(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}k_(){return this.P_}static T_(){return new Rn(null)}}function BS(a,t){return a.weight>t.weight?a:t}class qS{constructor(t,i,n,r){this.Mo=0,this.R_=null,this.D_=[],this.ml=null,this.vl=null,this.V_=new LS,this.B_=new Map,this.I_=Rn.T_(),this.E_=!0,this.A_=new qt,this.z_=new qt,this.L_=new qt,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=i,this.bl=n,this.U_=i.rightOffset,this.q_=i.barSpacing,this.ts=t,this.Y_(i),this.o_=r,this.j_(),this.V_.m_(i.uniformDistribution),this.K_()}N(){return this.Ps}X_(t){Ae(this.bl,t),this.Z_(),this.j_()}hr(t,i){Ae(this.Ps,t),this.Ps.fixLeftEdge&&this.G_(),this.Ps.fixRightEdge&&this.J_(),t.barSpacing!==void 0&&this.ts.dn(t.barSpacing),t.rightOffset!==void 0&&this.ts.fn(t.rightOffset),this.Y_(t),t.minBarSpacing===void 0&&t.maxBarSpacing===void 0||this.ts.dn(t.barSpacing??this.q_),t.ignoreWhitespaceIndices!==void 0&&t.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.K_(),this.Z_(),this.j_(),this.L_.p()}Rs(t){return this.D_[t]?.time??null}ss(t){return this.D_[t]??null}Q_(t,i){if(this.D_.length<1)return null;if(this.o_.key(t)>this.o_.key(this.D_[this.D_.length-1].time))return i?this.D_.length-1:null;const n=jn(this.D_,this.o_.key(t),((r,u)=>this.o_.key(r.time)<u));return this.o_.key(t)<this.o_.key(this.D_[n].time)?i?n:null:n}Ki(){return this.Mo===0||this.D_.length===0||this.R_===null}tu(){return this.D_.length>0}Pe(){return this.iu(),this.I_.y_()}su(){return this.iu(),this.I_.k_()}nu(){const t=this.Pe();if(t===null)return null;const i={from:t.Uh(),to:t.bi()};return this.eu(i)}eu(t){const i=Math.round(t.from),n=Math.round(t.to),r=V(this.ru()),u=V(this.hu());return{from:V(this.ss(Math.max(r,i))),to:V(this.ss(Math.min(u,n)))}}au(t){return{from:V(this.Q_(t.from,!0)),to:V(this.Q_(t.to,!0))}}Qi(){return this.Mo}Eo(t){if(!isFinite(t)||t<=0||this.Mo===t)return;const i=this.su(),n=this.Mo;if(this.Mo=t,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&n!==0){const r=this.q_*t/n;this.q_=r}if(this.Ps.fixLeftEdge&&i!==null&&i.Uh()<=0){const r=n-t;this.U_-=Math.round(r/this.q_)+1,this.E_=!0}this.lu(),this.ou()}qt(t){if(this.Ki()||!Jl(t))return 0;const i=this._u()+this.U_-t;return this.Mo-(i+.5)*this.q_-1}uu(t,i){const n=this._u(),r=i===void 0?0:i.from,u=i===void 0?t.length:i.to;for(let c=r;c<u;c++){const d=t[c].wt,g=n+this.U_-d,v=this.Mo-(g+.5)*this.q_-1;t[c]._t=v}}cu(t,i){const n=Math.ceil(this.du(t));return i&&this.Ps.ignoreWhitespaceIndices&&!this.fu(n)?this.pu(n):n}fn(t){this.E_=!0,this.U_=t,this.ou(),this.ts.vu(),this.ts.ar()}mu(){return this.q_}dn(t){const i=this.q_;if(this.wu(t),this.Ps.rightOffsetPixels!==void 0&&i!==0){const n=this.U_*i/this.q_;this.U_=n}this.ou(),this.ts.vu(),this.ts.ar()}gu(){return this.U_}Da(){if(this.Ki())return null;if(this.N_!==null)return this.N_;const t=this.q_,i=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),n=Math.round(i/t),r=V(this.Pe()),u=Math.max(r.Uh(),r.Uh()-n),c=Math.max(r.bi(),r.bi()-n),d=this.V_.M_(t,i,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),g=this.ru()+n,v=this.hu()-n,m=this.Mu(),y=this.Ps.fixLeftEdge||m,_=this.Ps.fixRightEdge||m;let S=0;for(const x of d){if(!(u<=x.index&&x.index<=c))continue;let M;S<this.H_.length?(M=this.H_[S],M.coord=this.qt(x.index),M.label=this.bu(x),M.weight=x.weight):(M={needAlignCoordinate:!1,coord:this.qt(x.index),label:this.bu(x),weight:x.weight},this.H_.push(M)),this.q_>i/2&&!m?M.needAlignCoordinate=!1:M.needAlignCoordinate=y&&x.index<=g||_&&x.index>=v,S++}return this.H_.length=S,this.N_=this.H_,this.H_}Su(){let t;this.E_=!0,this.dn(this.Ps.barSpacing),t=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.mu():this.Ps.rightOffset,this.fn(t)}xu(t){this.E_=!0,this.R_=t,this.ou(),this.G_()}Cu(t,i){const n=this.du(t),r=this.mu(),u=r+i*(r/10);this.dn(u),this.Ps.rightBarStaysOnScroll||this.fn(this.gu()+(n-this.du(t)))}no(t){this.ml&&this.lo(),this.vl===null&&this.O_===null&&(this.Ki()||(this.vl=t,this.Pu()))}eo(t){if(this.O_===null)return;const i=Hl(this.Mo-t,0,this.Mo),n=Hl(this.Mo-V(this.vl),0,this.Mo);i!==0&&n!==0&&this.dn(this.O_.mu*i/n)}ro(){this.vl!==null&&(this.vl=null,this.yu())}ho(t){this.ml===null&&this.O_===null&&(this.Ki()||(this.ml=t,this.Pu()))}ao(t){if(this.ml===null)return;const i=(this.ml-t)/this.mu();this.U_=V(this.O_).gu+i,this.E_=!0,this.ou()}lo(){this.ml!==null&&(this.ml=null,this.yu())}ku(){this.Tu(this.Ps.rightOffset)}Tu(t,i=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(i)||i<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const n=this.U_,r=performance.now();this.ts._n({Ru:u=>(u-r)/i>=1,Du:u=>{const c=(u-r)/i;return c>=1?t:n+(t-n)*c}})}yt(t,i){this.E_=!0,this.D_=t,this.V_.w_(t,i),this.ou()}Vu(){return this.A_}Bu(){return this.z_}Iu(){return this.L_}_u(){return this.R_||0}Eu(t,i){const n=t.f_(),r=i&&this.Ps.rightOffsetPixels||0;this.wu((this.Mo-r)/n),this.U_=t.bi()-this._u(),i&&(this.U_=r?r/this.mu():this.Ps.rightOffset),this.ou(),this.E_=!0,this.ts.vu(),this.ts.ar()}Au(){const t=this.ru(),i=this.hu();t!==null&&i!==null&&this.Eu(new Ql(t,i),!0)}zu(t){const i=new Ql(t.from,t.to);this.Eu(i)}ns(t){return this.bl.timeFormatter!==void 0?this.bl.timeFormatter(t.originalTime):this.o_.formatHorzItem(t.time)}K_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const t=this.ts.js();for(const i of t)for(const n of i.va())this.F_.set(n,!0);this.W_++}Mu(){const t=this.ts.N().handleScroll,i=this.ts.N().handleScale;return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||i.axisDoubleClickReset.time||i.axisPressedMouseMove.time||i.mouseWheel||i.pinch)}ru(){return this.D_.length===0?null:0}hu(){return this.D_.length===0?null:this.D_.length-1}Lu(t){return(this.Mo-1-t)/this.q_}du(t){const i=this.Lu(t),n=this._u()+this.U_-i;return Math.round(1e6*n)/1e6}wu(t){const i=this.q_;this.q_=t,this.lu(),i!==this.q_&&(this.E_=!0,this.Ou())}iu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Nu(Rn.T_());const t=this._u(),i=this.Mo/this.q_,n=this.U_+t,r=new Ql(n-i+1,n);this.Nu(new Rn(r))}lu(){const t=Hl(this.q_,this.Fu(),this.Wu());this.q_!==t&&(this.q_=t,this.E_=!0)}Wu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Fu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.D_.length!==0?this.Mo/this.D_.length:this.Ps.minBarSpacing}ou(){const t=this.Hu();t!==null&&this.U_<t&&(this.U_=t,this.E_=!0);const i=this.Uu();this.U_>i&&(this.U_=i,this.E_=!0)}Hu(){const t=this.ru(),i=this.R_;return t===null||i===null?null:t-i-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Uu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Pu(){this.O_={mu:this.mu(),gu:this.gu()}}yu(){this.O_=null}bu(t){let i=this.B_.get(t.weight);return i===void 0&&(i=new US((n=>this.$u(n)),this.o_),this.B_.set(t.weight,i)),i.__(t)}$u(t){return this.o_.formatTickmark(t,this.bl)}Nu(t){const i=this.I_;this.I_=t,zm(i.y_(),this.I_.y_())||this.A_.p(),zm(i.k_(),this.I_.k_())||this.z_.p(),this.Ou()}Ou(){this.N_=null}Z_(){this.Ou(),this.B_.clear()}j_(){this.o_.updateFormatter(this.bl)}G_(){if(!this.Ps.fixLeftEdge)return;const t=this.ru();if(t===null)return;const i=this.Pe();if(i===null)return;const n=i.Uh()-t;if(n<0){const r=this.U_-n-1;this.fn(r)}this.lu()}J_(){this.ou(),this.lu()}fu(t){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(t)||!1}pu(t){const i=(function*(r){const u=Math.round(r),c=u<r;let d=1;for(;;)c?(yield u+d,yield u-d):(yield u-d,yield u+d),d++})(t),n=this.hu();for(;n;){const r=i.next().value;if(this.F_.get(r))return r;if(r<0||r>n)break}return t}Y_(t){if(t.rightOffsetPixels!==void 0){const i=t.rightOffsetPixels/(t.barSpacing||this.q_);this.ts.fn(i)}}}var jm,km,Dm,oc,Nm;(function(a){a[a.OnTouchEnd=0]="OnTouchEnd",a[a.OnNextTap=1]="OnNextTap"})(jm||(jm={}));class PS{constructor(t,i,n){this.qu=[],this.Yu=[],this.Mo=0,this.ju=null,this.Ku=new qt,this.Xu=new qt,this.Zu=null,this.Gu=t,this.Ps=i,this.o_=n,this.Sl=new P1(this.Ps.layout.colorParsers),this.Ju=new q1(this),this.uh=new qS(this,i.timeScale,this.Ps.localization,n),this.Ct=new W1(this,i.crosshair),this.Qu=new MS(i.crosshair),i.addDefaultPane&&(this.tc(0),this.qu[0].Io(2)),this.sc=this.nc(0),this.ec=this.nc(1)}Ih(){this.rc(ie.gn())}ar(){this.rc(ie.wn())}Zh(){this.rc(new ie(1))}Eh(t){const i=this.hc(t);this.rc(i)}ac(){return this.ju}lc(t){if(this.ju?.n_===t?.n_&&this.ju?.e_?.Kn===t?.e_?.Kn)return;const i=this.ju;this.ju=t,i!==null&&this.Eh(i.n_),t!==null&&t.n_!==i?.n_&&this.Eh(t.n_)}N(){return this.Ps}hr(t){Ae(this.Ps,t),this.qu.forEach((i=>i.Ro(t))),t.timeScale!==void 0&&this.uh.hr(t.timeScale),t.localization!==void 0&&this.uh.X_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Ku.p(),this.sc=this.nc(0),this.ec=this.nc(1),this.Ih()}oc(t,i,n=0){const r=this.qu[n];if(r===void 0)return;if(t==="left")return Ae(this.Ps,{leftPriceScale:i}),r.Ro({leftPriceScale:i}),this.Ku.p(),void this.Ih();if(t==="right")return Ae(this.Ps,{rightPriceScale:i}),r.Ro({rightPriceScale:i}),this.Ku.p(),void this.Ih();const u=this._c(t,n);u!==null&&(u.Ft.hr(i),this.Ku.p())}_c(t,i){const n=this.qu[i];if(n===void 0)return null;const r=n.Do(t);return r!==null?{Us:n,Ft:r}:null}Et(){return this.uh}$s(){return this.qu}uc(){return this.Ct}cc(){return this.Xu}dc(t,i){t.Al(i),this.vu()}Eo(t){this.Mo=t,this.uh.Eo(this.Mo),this.qu.forEach((i=>i.Eo(t))),this.vu()}fc(t){this.qu.length!==1&&(se(t>=0&&t<this.qu.length,"Invalid pane index"),this.qu.splice(t,1),this.Ih())}vc(t,i){if(this.qu.length<2)return;se(t>=0&&t<this.qu.length,"Invalid pane index");const n=this.qu[t],r=this.qu.reduce(((y,_)=>y+_.Bo()),0),u=this.qu.reduce(((y,_)=>y+_.$t()),0),c=u-30*(this.qu.length-1);i=Math.min(c,Math.max(30,i));const d=r/u,g=n.$t();n.Io(i*d);let v=i-g,m=this.qu.length-1;for(const y of this.qu)if(y!==n){const _=Math.min(c,Math.max(30,y.$t()-v/m));v-=y.$t()-_,m-=1;const S=_*d;y.Io(S)}this.Ih()}mc(t,i){se(t>=0&&t<this.qu.length&&i>=0&&i<this.qu.length,"Invalid pane index");const n=this.qu[t],r=this.qu[i];this.qu[t]=r,this.qu[i]=n,this.Ih()}wc(t,i){if(se(t>=0&&t<this.qu.length&&i>=0&&i<this.qu.length,"Invalid pane index"),t===i)return;const[n]=this.qu.splice(t,1);this.qu.splice(i,0,n),this.Ih()}Uo(t,i,n){t.Uo(i,n)}$o(t,i,n){t.$o(i,n),this.Ah(),this.rc(this.gc(t,2))}qo(t,i){t.qo(i),this.rc(this.gc(t,2))}Yo(t,i,n){i.Tl()||t.Yo(i,n)}jo(t,i,n){i.Tl()||(t.jo(i,n),this.Ah(),this.rc(this.gc(t,2)))}Ko(t,i){i.Tl()||(t.Ko(i),this.rc(this.gc(t,2)))}Zo(t,i){t.Zo(i),this.rc(this.gc(t,2))}Mc(t){this.uh.no(t)}bc(t,i){const n=this.Et();if(n.Ki()||i===0)return;const r=n.Qi();t=Math.max(1,Math.min(t,r)),n.Cu(t,i),this.vu()}Sc(t){this.xc(0),this.Cc(t),this.Pc()}yc(t){this.uh.eo(t),this.vu()}kc(){this.uh.ro(),this.ar()}xc(t){this.uh.ho(t)}Cc(t){this.uh.ao(t),this.vu()}Pc(){this.uh.lo(),this.ar()}js(){return this.Yu}Tc(t,i,n,r,u){this.Ct.Vs(t,i);let c=NaN,d=this.uh.cu(t,!0);const g=this.uh.Pe();g!==null&&(d=Math.min(Math.max(g.Uh(),d),g.bi()));const v=r.ks(),m=v.zt();if(m!==null&&(c=v.Ts(i,m)),c=this.Qu.ga(c,d,r),this.Ct.As(d,c,r),this.Zh(),!u){const y=Gp(r,t,i);this.lc(y&&{n_:y.n_,e_:y.e_,h_:y.h_||null}),this.Xu.p(this.Ct.It(),{x:t,y:i},n)}}Rc(t,i,n){const r=n.ks(),u=r.zt(),c=r.Nt(t,V(u)),d=this.uh.Q_(i,!0),g=this.uh.qt(V(d));this.Tc(g,c,null,n,!0)}Dc(t){this.uc().Ls(),this.Zh(),t||this.Xu.p(null,null,null)}Ah(){const t=this.Ct.Us();if(t!==null){const i=this.Ct.Is(),n=this.Ct.Es();this.Tc(i,n,null,t)}this.Ct.Ns()}Vc(t,i,n){const r=this.uh.Rs(0);i!==void 0&&n!==void 0&&this.uh.yt(i,n);const u=this.uh.Rs(0),c=this.uh._u(),d=this.uh.Pe();if(d!==null&&r!==null&&u!==null){const g=d.Te(c),v=this.o_.key(r)>this.o_.key(u),m=t!==null&&t>c&&!v,y=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,_=g&&(n!==void 0||y)&&this.uh.N().shiftVisibleRangeOnNewBar;if(m&&!_){const S=t-c;this.uh.fn(this.uh.gu()-S)}}this.uh.xu(t)}Lh(t){t!==null&&t.Jo()}Hn(t){if((function(n){return n instanceof Cm})(t))return t;const i=this.qu.find((n=>n.Dt().includes(t)));return i===void 0?null:i}vu(){this.qu.forEach((t=>t.Jo())),this.Ah()}m(){this.qu.forEach((t=>t.m())),this.qu.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Bc(){return this.Ju}Yn(){return this.Ju.N()}Vo(){return this.Ku}Ic(t,i){const n=this.tc(i);this.Ec(t,n),this.Yu.push(t),this.Yu.length===1?this.Ih():this.ar()}Ac(t){const i=this.Hn(t),n=this.Yu.indexOf(t);se(n!==-1,"Series not found");const r=V(i);this.Yu.splice(n,1),r.Ql(t),t.m&&t.m(),this.uh.K_(),this.zc(r)}Bh(t,i){const n=V(this.Hn(t));n.Ql(t,!0),n.Gl(t,i,!0)}Au(){const t=ie.wn();t.rn(),this.rc(t)}Lc(t){const i=ie.wn();i.ln(t),this.rc(i)}cn(){const t=ie.wn();t.cn(),this.rc(t)}dn(t){const i=ie.wn();i.dn(t),this.rc(i)}fn(t){const i=ie.wn();i.fn(t),this.rc(i)}_n(t){const i=ie.wn();i._n(t),this.rc(i)}hn(){const t=ie.wn();t.hn(),this.rc(t)}Oc(){return this.Ps.rightPriceScale.visible?"right":"left"}Nc(t,i){if(se(i>=0,"Index should be greater or equal to 0"),i===this.Fc(t))return;const n=V(this.Hn(t));n.Ql(t);const r=this.tc(i);this.Ec(t,r),n.Ma().length===0&&this.zc(n),this.Ih()}Wc(){return this.ec}$(){return this.sc}Ut(t){const i=this.ec,n=this.sc;if(i===n)return i;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Zu===null||this.Zu.mr!==n||this.Zu.wr!==i)this.Zu={mr:n,wr:i,Hc:new Map};else{const u=this.Zu.Hc.get(t);if(u!==void 0)return u}const r=this.Sl.tt(n,i,t/100);return this.Zu.Hc.set(t,r),r}Uc(t){return this.qu.indexOf(t)}Xi(){return this.Sl}$c(){return this.qc()}qc(t){const i=new Cm(this.uh,this);this.qu.push(i);const n=t??this.qu.length-1,r=ie.gn();return r.Qs(n,{tn:0,sn:!0}),this.rc(r),i}tc(t){return se(t>=0,"Index should be greater or equal to 0"),(t=Math.min(this.qu.length,t))<this.qu.length?this.qu[t]:this.qc(t)}Fc(t){return this.qu.findIndex((i=>i.Oo().includes(t)))}gc(t,i){const n=new ie(i);if(t!==null){const r=this.qu.indexOf(t);n.Qs(r,{tn:i})}return n}hc(t,i){return i===void 0&&(i=2),this.gc(this.Hn(t),i)}rc(t){this.Gu&&this.Gu(t),this.qu.forEach((i=>i.i_().lr().yt()))}Ec(t,i){const n=t.N().priceScaleId,r=n!==void 0?n:this.Oc();i.Gl(t,r),qa(r)||t.hr(t.N())}nc(t){const i=this.Ps.layout;return i.background.type==="gradient"?t===0?i.background.topColor:i.background.bottomColor:i.background.color}zc(t){!t.Lo()&&t.Ma().length===0&&this.qu.length>1&&this.qu.splice(this.Uc(t),1)}}function Qp(a){if(a>=1)return 0;let t=0;for(;t<8;t++){const i=Math.round(a);if(Math.abs(i-a)<1e-8)return t;a*=10}return t}function uc(a){return!zn(a)&&!Wl(a)}function Xp(a){return zn(a)}(function(a){a[a.Disabled=0]="Disabled",a[a.Continuous=1]="Continuous",a[a.OnDataUpdate=2]="OnDataUpdate"})(km||(km={})),(function(a){a[a.LastBar=0]="LastBar",a[a.LastVisible=1]="LastVisible"})(Dm||(Dm={})),(function(a){a.Solid="solid",a.VerticalGradient="gradient"})(oc||(oc={})),(function(a){a[a.Year=0]="Year",a[a.Month=1]="Month",a[a.DayOfMonth=2]="DayOfMonth",a[a.Time=3]="Time",a[a.TimeWithSeconds=4]="TimeWithSeconds"})(Nm||(Nm={}));const Um=a=>a.getUTCFullYear();function YS(a,t,i){return t.replace(/yyyy/g,(n=>mi(Um(n),4))(a)).replace(/yy/g,(n=>mi(Um(n)%100,2))(a)).replace(/MMMM/g,((n,r)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(r,{month:"long"}))(a,i)).replace(/MMM/g,((n,r)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(r,{month:"short"}))(a,i)).replace(/MM/g,(n=>mi((r=>r.getUTCMonth()+1)(n),2))(a)).replace(/dd/g,(n=>mi((r=>r.getUTCDate())(n),2))(a))}class Jp{constructor(t="yyyy-MM-dd",i="default"){this.Yc=t,this.jc=i}__(t){return YS(t,this.Yc,this.jc)}}class VS{constructor(t){this.Kc=t||"%h:%m:%s"}__(t){return this.Kc.replace("%h",mi(t.getUTCHours(),2)).replace("%m",mi(t.getUTCMinutes(),2)).replace("%s",mi(t.getUTCSeconds(),2))}}const HS={Xc:"yyyy-MM-dd",Zc:"%h:%m:%s",Gc:" ",Jc:"default"};class $S{constructor(t={}){const i={...HS,...t};this.Qc=new Jp(i.Xc,i.Jc),this.td=new VS(i.Zc),this.sd=i.Gc}__(t){return`${this.Qc.__(t)}${this.sd}${this.td.__(t)}`}}function wa(a){return 60*a*60*1e3}function zh(a){return 60*a*1e3}const Sa=[{nd:(Lm=1,1e3*Lm),ed:10},{nd:zh(1),ed:20},{nd:zh(5),ed:21},{nd:zh(30),ed:22},{nd:wa(1),ed:30},{nd:wa(3),ed:31},{nd:wa(6),ed:32},{nd:wa(12),ed:33}];var Lm;function Bm(a,t){if(a.getUTCFullYear()!==t.getUTCFullYear())return 70;if(a.getUTCMonth()!==t.getUTCMonth())return 60;if(a.getUTCDate()!==t.getUTCDate())return 50;for(let i=Sa.length-1;i>=0;--i)if(Math.floor(t.getTime()/Sa[i].nd)!==Math.floor(a.getTime()/Sa[i].nd))return Sa[i].ed;return 0}function jh(a){let t=a;if(Wl(a)&&(t=Ac(a)),!uc(t))throw new Error("time must be of type BusinessDay");const i=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{rd:Math.round(i.getTime()/1e3),hd:t}}function qm(a){if(!Xp(a))throw new Error("time must be of type isUTCTimestamp");return{rd:a}}function Ac(a){const t=new Date(a);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${a}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function Pm(a){Wl(a.time)&&(a.time=Ac(a.time))}class Ym{options(){return this.Ps}setOptions(t){this.Ps=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?(function(i){i.forEach(Pm)})(t):Pm(t)}createConverterToInternalObj(t){return V((function(i){return i.length===0?null:uc(i[0].time)||Wl(i[0].time)?jh:qm})(t))}key(t){return typeof t=="object"&&"rd"in t?t.rd:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const i=t;return i.hd===void 0?new Date(1e3*i.rd).getTime():new Date(Date.UTC(i.hd.year,i.hd.month-1,i.hd.day)).getTime()}convertHorzItemToInternal(t){return Xp(i=t)?qm(i):uc(i)?jh(i):jh(Ac(i));var i}updateFormatter(t){if(!this.Ps)return;const i=t.dateFormat;this.Ps.timeScale.timeVisible?this.ad=new $S({Xc:i,Zc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Gc:"   ",Jc:t.locale}):this.ad=new Jp(i,t.locale)}formatHorzItem(t){const i=t;return this.ad.__(new Date(1e3*i.rd))}formatTickmark(t,i){const n=(function(u,c,d){switch(u){case 0:case 10:return c?d?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return c?3:2;case 50:return 2;case 60:return 1;case 70:return 0}})(t.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),r=this.Ps.timeScale;if(r.tickMarkFormatter!==void 0){const u=r.tickMarkFormatter(t.originalTime,n,i.locale);if(u!==null)return u}return(function(u,c,d){const g={};switch(c){case 0:g.year="numeric";break;case 1:g.month="short";break;case 2:g.day="numeric";break;case 3:g.hour12=!1,g.hour="2-digit",g.minute="2-digit";break;case 4:g.hour12=!1,g.hour="2-digit",g.minute="2-digit",g.second="2-digit"}const v=u.hd===void 0?new Date(1e3*u.rd):new Date(Date.UTC(u.hd.year,u.hd.month-1,u.hd.day));return new Date(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate(),v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()).toLocaleString(d,g)})(t.time,n,i.locale)}maxTickMarkWeight(t){let i=t.reduce(BS,t[0]).weight;return i>30&&i<50&&(i=30),i}fillWeightsForPoints(t,i){(function(n,r=0){if(n.length===0)return;let u=r===0?null:n[r-1].time.rd,c=u!==null?new Date(1e3*u):null,d=0;for(let g=r;g<n.length;++g){const v=n[g],m=new Date(1e3*v.time.rd);c!==null&&(v.timeWeight=Bm(m,c)),d+=v.time.rd-(u||v.time.rd),u=v.time.rd,c=m}if(r===0&&n.length>1){const g=Math.ceil(d/(n.length-1)),v=new Date(1e3*(n[0].time.rd-g));n[0].timeWeight=Bm(new Date(1e3*n[0].time.rd),v)}})(t,i)}static ld(t){return Ae({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const kn=typeof window<"u";function Vm(){return!!kn&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function kh(){return!!kn&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function hc(a){return a+a%2}function GS(a){kn&&window.chrome!==void 0&&a.addEventListener("mousedown",(t=>{if(t.button===1)return t.preventDefault(),!1}))}class Va{constructor(t,i,n){this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.vd=null,this.md=!1,this.wd=null,this.gd=null,this.Md=!1,this.bd=!1,this.Sd=!1,this.xd=null,this.Cd=null,this.Pd=null,this.yd=null,this.kd=null,this.Td=null,this.Rd=null,this.Dd=0,this.Vd=!1,this.Bd=!1,this.Id=!1,this.Ed=0,this.Ad=null,this.zd=!kh(),this.Ld=r=>{this.Od(r)},this.Nd=r=>{if(this.Fd(r)){const u=this.Wd(r);if(++this.dd,this.fd&&this.dd>1){const{Hd:c}=this.Ud(Ze(r),this.pd);c<30&&!this.Sd&&this.$d(u,this.Yd.qd),this.jd()}}else{const u=this.Wd(r);if(++this.od,this._d&&this.od>1){const{Hd:c}=this.Ud(Ze(r),this.ud);c<5&&!this.bd&&this.Kd(u,this.Yd.Xd),this.Zd()}}},this.Gd=t,this.Yd=i,this.Ps=n,this.Jd()}m(){this.xd!==null&&(this.xd(),this.xd=null),this.Cd!==null&&(this.Cd(),this.Cd=null),this.yd!==null&&(this.yd(),this.yd=null),this.kd!==null&&(this.kd(),this.kd=null),this.Td!==null&&(this.Td(),this.Td=null),this.Pd!==null&&(this.Pd(),this.Pd=null),this.Qd(),this.Zd()}tf(t){this.yd&&this.yd();const i=this.if.bind(this);if(this.yd=()=>{this.Gd.removeEventListener("mousemove",i)},this.Gd.addEventListener("mousemove",i),this.Fd(t))return;const n=this.Wd(t);this.Kd(n,this.Yd.sf),this.zd=!0}Zd(){this._d!==null&&clearTimeout(this._d),this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}jd(){this.fd!==null&&clearTimeout(this.fd),this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}if(t){if(this.Id||this.gd!==null||this.Fd(t))return;const i=this.Wd(t);this.Kd(i,this.Yd.nf),this.zd=!0}ef(t){const i=Dh(t.changedTouches,V(this.Ad));if(i===null||(this.Ed=Ea(t),this.Rd!==null)||this.Bd)return;this.Vd=!0;const n=this.Ud(Ze(i),V(this.gd)),{rf:r,hf:u,Hd:c}=n;if(this.Md||!(c<5)){if(!this.Md){const d=.5*r,g=u>=d&&!this.Ps.af(),v=d>u&&!this.Ps.lf();g||v||(this.Bd=!0),this.Md=!0,this.Sd=!0,this.Qd(),this.jd()}if(!this.Bd){const d=this.Wd(t,i);this.$d(d,this.Yd._f),wn(t)}}}uf(t){if(t.button!==0)return;const i=this.Ud(Ze(t),V(this.wd)),{Hd:n}=i;if(n>=5&&(this.bd=!0,this.Zd()),this.bd){const r=this.Wd(t);this.Kd(r,this.Yd.cf)}}Ud(t,i){const n=Math.abs(i._t-t._t),r=Math.abs(i.ut-t.ut);return{rf:n,hf:r,Hd:n+r}}df(t){let i=Dh(t.changedTouches,V(this.Ad));if(i===null&&t.touches.length===0&&(i=t.changedTouches[0]),i===null)return;this.Ad=null,this.Ed=Ea(t),this.Qd(),this.gd=null,this.Td&&(this.Td(),this.Td=null);const n=this.Wd(t,i);if(this.$d(n,this.Yd.ff),++this.dd,this.fd&&this.dd>1){const{Hd:r}=this.Ud(Ze(i),this.pd);r<30&&!this.Sd&&this.$d(n,this.Yd.qd),this.jd()}else this.Sd||(this.$d(n,this.Yd.pf),this.Yd.pf&&wn(t));this.dd===0&&wn(t),t.touches.length===0&&this.md&&(this.md=!1,wn(t))}Od(t){if(t.button!==0)return;const i=this.Wd(t);if(this.wd=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),Vm()&&this.Gd.ownerDocument.documentElement.removeEventListener("mouseleave",this.Ld),!this.Fd(t))if(this.Kd(i,this.Yd.vf),++this.od,this._d&&this.od>1){const{Hd:n}=this.Ud(Ze(t),this.ud);n<5&&!this.bd&&this.Kd(i,this.Yd.Xd),this.Zd()}else this.bd||this.Kd(i,this.Yd.mf)}Qd(){this.vd!==null&&(clearTimeout(this.vd),this.vd=null)}wf(t){if(this.Ad!==null)return;const i=t.changedTouches[0];this.Ad=i.identifier,this.Ed=Ea(t);const n=this.Gd.ownerDocument.documentElement;this.Sd=!1,this.Md=!1,this.Bd=!1,this.gd=Ze(i),this.Td&&(this.Td(),this.Td=null);{const u=this.ef.bind(this),c=this.df.bind(this);this.Td=()=>{n.removeEventListener("touchmove",u),n.removeEventListener("touchend",c)},n.addEventListener("touchmove",u,{passive:!1}),n.addEventListener("touchend",c,{passive:!1}),this.Qd(),this.vd=setTimeout(this.gf.bind(this,t),240)}const r=this.Wd(t,i);this.$d(r,this.Yd.Mf),this.fd||(this.dd=0,this.fd=setTimeout(this.jd.bind(this),500),this.pd=Ze(i))}bf(t){if(t.button!==0)return;const i=this.Gd.ownerDocument.documentElement;Vm()&&i.addEventListener("mouseleave",this.Ld),this.bd=!1,this.wd=Ze(t),this.kd&&(this.kd(),this.kd=null);{const r=this.uf.bind(this),u=this.Od.bind(this);this.kd=()=>{i.removeEventListener("mousemove",r),i.removeEventListener("mouseup",u)},i.addEventListener("mousemove",r),i.addEventListener("mouseup",u)}if(this.Id=!0,this.Fd(t))return;const n=this.Wd(t);this.Kd(n,this.Yd.Sf),this._d||(this.od=0,this._d=setTimeout(this.Zd.bind(this),500),this.ud=Ze(t))}Jd(){this.Gd.addEventListener("mouseenter",this.tf.bind(this)),this.Gd.addEventListener("touchcancel",this.Qd.bind(this));{const t=this.Gd.ownerDocument,i=n=>{this.Yd.xf&&(n.composed&&this.Gd.contains(n.composedPath()[0])||n.target&&this.Gd.contains(n.target)||this.Yd.xf())};this.Cd=()=>{t.removeEventListener("touchstart",i)},this.xd=()=>{t.removeEventListener("mousedown",i)},t.addEventListener("mousedown",i),t.addEventListener("touchstart",i,{passive:!0})}kh()&&(this.Pd=()=>{this.Gd.removeEventListener("dblclick",this.Nd)},this.Gd.addEventListener("dblclick",this.Nd)),this.Gd.addEventListener("mouseleave",this.Cf.bind(this)),this.Gd.addEventListener("touchstart",this.wf.bind(this),{passive:!0}),GS(this.Gd),this.Gd.addEventListener("mousedown",this.bf.bind(this)),this.Pf(),this.Gd.addEventListener("touchmove",(()=>{}),{passive:!1})}Pf(){this.Yd.yf===void 0&&this.Yd.kf===void 0&&this.Yd.Tf===void 0||(this.Gd.addEventListener("touchstart",(t=>this.Rf(t.touches)),{passive:!0}),this.Gd.addEventListener("touchmove",(t=>{if(t.touches.length===2&&this.Rd!==null&&this.Yd.kf!==void 0){const i=Hm(t.touches[0],t.touches[1])/this.Dd;this.Yd.kf(this.Rd,i),wn(t)}}),{passive:!1}),this.Gd.addEventListener("touchend",(t=>{this.Rf(t.touches)})))}Rf(t){t.length===1&&(this.Vd=!1),t.length!==2||this.Vd||this.md?this.Df():this.Vf(t)}Vf(t){const i=this.Gd.getBoundingClientRect()||{left:0,top:0};this.Rd={_t:(t[0].clientX-i.left+(t[1].clientX-i.left))/2,ut:(t[0].clientY-i.top+(t[1].clientY-i.top))/2},this.Dd=Hm(t[0],t[1]),this.Yd.yf!==void 0&&this.Yd.yf(),this.Qd()}Df(){this.Rd!==null&&(this.Rd=null,this.Yd.Tf!==void 0&&this.Yd.Tf())}Cf(t){if(this.yd&&this.yd(),this.Fd(t)||!this.zd)return;const i=this.Wd(t);this.Kd(i,this.Yd.Bf),this.zd=!kh()}gf(t){const i=Dh(t.touches,V(this.Ad));if(i===null)return;const n=this.Wd(t,i);this.$d(n,this.Yd.If),this.Sd=!0,this.md=!0}Fd(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:Ea(t)<this.Ed+500}$d(t,i){i&&i.call(this.Yd,t)}Kd(t,i){i&&i.call(this.Yd,t)}Wd(t,i){const n=i||t,r=this.Gd.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-r.left,localY:n.clientY-r.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Ef:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",Af:t.type,zf:n.target,a_:t.view,Lf:()=>{t.type!=="touchstart"&&wn(t)}}}}function Hm(a,t){const i=a.clientX-t.clientX,n=a.clientY-t.clientY;return Math.sqrt(i*i+n*n)}function wn(a){a.cancelable&&a.preventDefault()}function Ze(a){return{_t:a.pageX,ut:a.pageY}}function Ea(a){return a.timeStamp||performance.now()}function Dh(a,t){for(let i=0;i<a.length;++i)if(a[i].identifier===t)return a[i];return null}class QS{constructor(t,i,n){this.Of=null,this.Nf=null,this.Ff=!0,this.Wf=null,this.Hf=t,this.Uf=t.$f()[i],this.qf=t.$f()[n],this.Yf=document.createElement("tr"),this.Yf.style.height="1px",this.jf=document.createElement("td"),this.jf.style.position="relative",this.jf.style.padding="0",this.jf.style.margin="0",this.jf.setAttribute("colspan","3"),this.Kf(),this.Yf.appendChild(this.jf),this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of=null,this.Nf=null)}m(){this.Nf!==null&&this.Nf.m()}Zf(){return this.Yf}Gf(){return Ot({width:this.Uf.Gf().width,height:1})}Jf(){return Ot({width:this.Uf.Jf().width,height:1*window.devicePixelRatio})}Qf(t,i,n){const r=this.Jf();t.fillStyle=this.Hf.N().layout.panes.separatorColor,t.fillRect(i,n,r.width,r.height)}yt(){this.Kf(),this.Hf.N().layout.panes.enableResize!==this.Ff&&(this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of!==null&&(this.jf.removeChild(this.Of.tp),this.jf.removeChild(this.Of.ip),this.Of=null),this.Nf!==null&&(this.Nf.m(),this.Nf=null)))}Xf(){const t=document.createElement("div"),i=t.style;i.position="fixed",i.display="none",i.zIndex="49",i.top="0",i.left="0",i.width="100%",i.height="100%",i.cursor="row-resize",this.jf.appendChild(t);const n=document.createElement("div"),r=n.style;r.position="absolute",r.zIndex="50",r.top="-4px",r.height="9px",r.width="100%",r.backgroundColor="",r.cursor="row-resize",this.jf.appendChild(n);const u={sf:this.sp.bind(this),Bf:this.np.bind(this),Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this)};this.Nf=new Va(n,u,{af:()=>!1,lf:()=>!0}),this.Of={ip:n,tp:t}}Kf(){this.jf.style.background=this.Hf.N().layout.panes.separatorColor}sp(t){this.Of!==null&&(this.Of.ip.style.backgroundColor=this.Hf.N().layout.panes.separatorHoverColor)}np(t){this.Of!==null&&this.Wf===null&&(this.Of.ip.style.backgroundColor="")}ep(t){if(this.Of===null)return;const i=this.Uf.ap().Bo()+this.qf.ap().Bo(),n=i/(this.Uf.Gf().height+this.qf.Gf().height),r=30*n;i<=2*r||(this.Wf={lp:t.pageY,op:this.Uf.ap().Bo(),_p:i-r,up:i,cp:n,dp:r},this.Of.tp.style.display="block")}rp(t){const i=this.Wf;if(i===null)return;const n=(t.pageY-i.lp)*i.cp,r=Hl(i.op+n,i.dp,i._p);this.Uf.ap().Io(r),this.qf.ap().Io(i.up-r),this.Hf.Qt().Ih()}hp(t){this.Wf!==null&&this.Of!==null&&(this.Wf=null,this.Of.tp.style.display="none")}}function Nh(a,t){return a.fp-t.fp}function Uh(a,t,i){const n=(a.fp-t.fp)/(a.wt-t.wt);return Math.sign(n)*Math.min(Math.abs(n),i)}class XS{constructor(t,i,n,r){this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=null,this.Mp=0,this.bp=0,this.Sp=t,this.xp=i,this.Cp=n,this.Mn=r}Pp(t,i){if(this.pp!==null){if(this.pp.wt===i)return void(this.pp.fp=t);if(Math.abs(this.pp.fp-t)<this.Mn)return}this.wp=this.mp,this.mp=this.vp,this.vp=this.pp,this.pp={wt:i,fp:t}}le(t,i){if(this.pp===null||this.vp===null||i-this.pp.wt>50)return;let n=0;const r=Uh(this.pp,this.vp,this.xp),u=Nh(this.pp,this.vp),c=[r],d=[u];if(n+=u,this.mp!==null){const v=Uh(this.vp,this.mp,this.xp);if(Math.sign(v)===Math.sign(r)){const m=Nh(this.vp,this.mp);if(c.push(v),d.push(m),n+=m,this.wp!==null){const y=Uh(this.mp,this.wp,this.xp);if(Math.sign(y)===Math.sign(r)){const _=Nh(this.mp,this.wp);c.push(y),d.push(_),n+=_}}}}let g=0;for(let v=0;v<c.length;++v)g+=d[v]/n*c[v];Math.abs(g)<this.Sp||(this.gp={fp:t,wt:i},this.bp=g,this.Mp=(function(v,m){const y=Math.log(m);return Math.log(1*y/-v)/y})(Math.abs(g),this.Cp))}Du(t){const i=V(this.gp),n=t-i.wt;return i.fp+this.bp*(Math.pow(this.Cp,n)-1)/Math.log(this.Cp)}Ru(t){return this.gp===null||this.yp(t)===this.Mp}yp(t){const i=t-V(this.gp).wt;return Math.min(i,this.Mp)}}class JS{constructor(t,i){this.kp=void 0,this.Tp=void 0,this.Rp=void 0,this.ps=!1,this.Dp=t,this.Vp=i,this.Bp()}yt(){this.Bp()}Ip(){this.kp&&this.Dp.removeChild(this.kp),this.Tp&&this.Dp.removeChild(this.Tp),this.kp=void 0,this.Tp=void 0}Ep(){return this.ps!==this.Ap()||this.Rp!==this.zp()}zp(){return this.Vp.Qt().Xi().J(this.Vp.N().layout.textColor)>160?"dark":"light"}Ap(){return this.Vp.N().layout.attributionLogo}Lp(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}Bp(){this.Ep()&&(this.Ip(),this.ps=this.Ap(),this.ps&&(this.Rp=this.zp(),this.Tp=document.createElement("style"),this.Tp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Lp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark",this.Rp==="dark"),this.Dp.appendChild(this.Tp),this.Dp.appendChild(this.kp)))}}function Ss(a,t){const i=V(a.ownerDocument).createElement("canvas");a.appendChild(i);const n=D1(i,{options:{allowResizeObserver:!0},transform:(r,u)=>({width:Math.max(r.width,u.width),height:Math.max(r.height,u.height)})});return n.resizeCanvasElement(t),n}function Es(a){a.width=1,a.height=1,a.getContext("2d")?.clearRect(0,0,1,1)}function cc(a,t,i,n){a.ih&&a.ih(t,i,n)}function xa(a,t,i,n){a.nt(t,i,n)}function fc(a,t,i,n){const r=a(i,n);for(const u of r){const c=u.Tt(n);c!==null&&t(c)}}function Lh(a,t){return i=>(function(n){return n.Ft!==void 0})(i)?(i.Ft()?.ma()??"")!==t?[]:i.ta?.(a)??[]:[]}function $m(a,t,i,n){if(!a.length)return;let r=0;const u=a[0].$t(n,!0);let c=t===1?i/2-(a[0].Fi()-u/2):a[0].Fi()-u/2-i/2;c=Math.max(0,c);for(let d=1;d<a.length;d++){const g=a[d],v=a[d-1],m=v.$t(n,!1),y=g.Fi(),_=v.Fi();if(t===1?y>_-m:y<_+m){const S=_-m*t;g.Wi(S);const x=S-t*m/2;if((t===1?x<0:x>i)&&c>0){const M=t===1?-1-x:x-i,j=Math.min(M,c);for(let Y=r;Y<a.length;Y++)a[Y].Wi(a[Y].Fi()+t*j);c-=j}}else r=d,c=t===1?_-m-y:y-(_+m)}}class Gm{constructor(t,i,n,r){this.Yi=null,this.Op=null,this.Np=!1,this.Fp=new za(200),this.Wp=null,this.Hp=0,this.Up=!1,this.$p=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Yp=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Pt=t,this.Ps=i,this.Ml=i.layout,this.Ju=n,this.jp=r==="left",this.Kp=Lh("normal",r),this.Xp=Lh("top",r),this.Zp=Lh("bottom",r),this.jf=document.createElement("div"),this.jf.style.height="100%",this.jf.style.overflow="hidden",this.jf.style.width="25px",this.jf.style.left="0",this.jf.style.position="relative",this.Gp=Ss(this.jf,Ot({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const u=this.Gp.canvasElement;u.style.position="absolute",u.style.zIndex="1",u.style.left="0",u.style.top="0",this.Jp=Ss(this.jf,Ot({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const c=this.Jp.canvasElement;c.style.position="absolute",c.style.zIndex="2",c.style.left="0",c.style.top="0";const d={Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),xf:this.Qp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this),Xd:this.tv.bind(this),qd:this.tv.bind(this),sf:this.iv.bind(this),Bf:this.np.bind(this)};this.Nf=new Va(this.Jp.canvasElement,d,{af:()=>!this.Ps.handleScroll.vertTouchDrag,lf:()=>!0})}m(){this.Nf.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Es(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Es(this.Gp.canvasElement),this.Gp.dispose(),this.Yi!==null&&this.Yi.so().u(this),this.Yi=null}Zf(){return this.jf}P(){return this.Ml.fontSize}sv(){const t=this.Ju.N();return this.Wp!==t.k&&(this.Fp.Bn(),this.Wp=t.k),t}nv(){if(this.Yi===null)return 0;let t=0;const i=this.sv(),n=V(this.Gp.canvasElement.getContext("2d",{colorSpace:this.Pt.qp().N().layout.colorSpace}));n.save();const r=this.Yi.Da();n.font=this.ev(),r.length>0&&(t=Math.max(this.Fp.Vi(n,r[0].Za),this.Fp.Vi(n,r[r.length-1].Za)));const u=this.rv();for(let v=u.length;v--;){const m=this.Fp.Vi(n,u[v].ri());m>t&&(t=m)}const c=this.Yi.zt();if(c!==null&&this.Op!==null&&(d=this.Ps.crosshair).mode!==2&&d.horzLine.visible&&d.horzLine.labelVisible){const v=this.Yi.Ts(1,c),m=this.Yi.Ts(this.Op.height-2,c);t=Math.max(t,this.Fp.Vi(n,this.Yi.Zi(Math.floor(Math.min(v,m))+.11111111111111,c)),this.Fp.Vi(n,this.Yi.Zi(Math.ceil(Math.max(v,m))-.11111111111111,c)))}var d;n.restore();const g=t||34;return hc(Math.ceil(i.S+i.C+i.B+i.I+5+g))}hv(t){this.Op!==null&&_s(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`)}av(){return V(this.Op).width}_s(t){this.Yi!==t&&(this.Yi!==null&&this.Yi.so().u(this),this.Yi=t,t.so().i(this._l.bind(this),this))}Ft(){return this.Yi}Bn(){const t=this.Pt.ap();this.Pt.qp().Qt().Zo(t,V(this.Ft()))}lv(t){if(this.Op===null)return;const i={colorSpace:this.Pt.qp().N().layout.colorSpace};if(t!==1){this.ov(),this.Gp.applySuggestedBitmapSize();const r=ws(this.Gp,i);r!==null&&(r.useBitmapCoordinateSpace((u=>{this._v(u),this.uv(u)})),this.Pt.cv(r,this.Zp),this.dv(r),this.Pt.cv(r,this.Kp),this.fv(r))}this.Jp.applySuggestedBitmapSize();const n=ws(this.Jp,i);n!==null&&(n.useBitmapCoordinateSpace((({context:r,bitmapSize:u})=>{r.clearRect(0,0,u.width,u.height)})),this.pv(n),this.Pt.cv(n,this.Xp))}Jf(){return this.Gp.bitmapSize}Qf(t,i,n,r){const u=this.Jf();if(u.width>0&&u.height>0&&(t.drawImage(this.Gp.canvasElement,i,n),r)){const c=this.Jp.canvasElement;t.drawImage(c,i,n)}}yt(){this.Yi?.Da()}ep(t){if(this.Yi===null||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const i=this.Pt.qp().Qt(),n=this.Pt.ap();this.Np=!0,i.Uo(n,this.Yi,t.localY)}rp(t){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const i=this.Pt.qp().Qt(),n=this.Pt.ap(),r=this.Yi;i.$o(n,r,t.localY)}Qp(){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.Pt.qp().Qt(),i=this.Pt.ap(),n=this.Yi;this.Np&&(this.Np=!1,t.qo(i,n))}hp(t){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const i=this.Pt.qp().Qt(),n=this.Pt.ap();this.Np=!1,i.qo(n,this.Yi)}tv(t){this.Ps.handleScale.axisDoubleClickReset.price&&this.Bn()}iv(t){this.Yi!==null&&(!this.Pt.qp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Dl()||this.vv(1))}np(t){this.vv(0)}rv(){const t=[],i=this.Yi===null?void 0:this.Yi;return(n=>{for(let r=0;r<n.length;++r){const u=n[r].Ws(this.Pt.ap(),i);for(let c=0;c<u.length;c++)t.push(u[c])}})(this.Pt.ap().Dt()),t}_v({context:t,bitmapSize:i}){const{width:n,height:r}=i,u=this.Pt.ap().Qt(),c=u.$(),d=u.Wc();c===d?La(t,0,0,n,r,c):Dp(t,0,0,n,r,c,d)}uv({context:t,bitmapSize:i,horizontalPixelRatio:n}){if(this.Op===null||this.Yi===null||!this.Yi.N().borderVisible)return;t.fillStyle=this.Yi.N().borderColor;const r=Math.max(1,Math.floor(this.sv().S*n));let u;u=this.jp?i.width-r:0,t.fillRect(u,0,r,i.height)}dv(t){if(this.Op===null||this.Yi===null)return;const i=this.Yi.Da(),n=this.Yi.N(),r=this.sv(),u=this.jp?this.Op.width-r.C:0;n.borderVisible&&n.ticksVisible&&t.useBitmapCoordinateSpace((({context:c,horizontalPixelRatio:d,verticalPixelRatio:g})=>{c.fillStyle=n.borderColor;const v=Math.max(1,Math.floor(g)),m=Math.floor(.5*g),y=Math.round(r.C*d);c.beginPath();for(const _ of i)c.rect(Math.floor(u*d),Math.round(_.Pa*g)-m,y,v);c.fill()})),t.useMediaCoordinateSpace((({context:c})=>{c.font=this.ev(),c.fillStyle=n.textColor??this.Ml.textColor,c.textAlign=this.jp?"right":"left",c.textBaseline="middle";const d=this.jp?Math.round(u-r.B):Math.round(u+r.C+r.B),g=i.map((v=>this.Fp.Di(c,v.Za)));for(let v=i.length;v--;){const m=i[v];c.fillText(m.Za,d,m.Pa+g[v])}}))}ov(){if(this.Op===null||this.Yi===null)return;let t=this.Op.height/2;const i=[],n=this.Yi.Dt().slice(),r=this.Pt.ap(),u=this.sv();this.Yi===r.$n()&&this.Pt.ap().Dt().forEach((g=>{r.Un(g)&&n.push(g)}));const c=this.Yi.Ma()[0],d=this.Yi;n.forEach((g=>{const v=g.Ws(r,d);v.forEach((m=>{m.Wi(null),m.Hi()&&i.push(m)})),c===g&&v.length>0&&(t=v[0].Ii())})),i.forEach((g=>g.Wi(g.Ii()))),this.Yi.N().alignLabels&&this.mv(i,u,t)}mv(t,i,n){if(this.Op===null)return;const r=t.filter((c=>c.Ii()<=n)),u=t.filter((c=>c.Ii()>n));r.sort(((c,d)=>d.Ii()-c.Ii())),r.length&&u.length&&u.push(r[0]),u.sort(((c,d)=>c.Ii()-d.Ii()));for(const c of t){const d=Math.floor(c.$t(i)/2),g=c.Ii();g>-d&&g<d&&c.Wi(d),g>this.Op.height-d&&g<this.Op.height+d&&c.Wi(this.Op.height-d)}$m(r,1,this.Op.height,i),$m(u,-1,this.Op.height,i)}fv(t){if(this.Op===null)return;const i=this.rv(),n=this.sv(),r=this.jp?"right":"left";i.forEach((u=>{u.Ui()&&u.Tt(V(this.Yi)).nt(t,n,this.Fp,r)}))}pv(t){if(this.Op===null||this.Yi===null)return;const i=this.Pt.qp().Qt(),n=[],r=this.Pt.ap(),u=i.uc().Ws(r,this.Yi);u.length&&n.push(u);const c=this.sv(),d=this.jp?"right":"left";n.forEach((g=>{g.forEach((v=>{v.Tt(V(this.Yi)).nt(t,c,this.Fp,d)}))}))}vv(t){this.jf.style.cursor=t===1?"ns-resize":"default"}_l(){const t=this.nv();this.Hp<t&&this.Pt.qp().Qt().Ih(),this.Hp=t}ev(){return Ca(this.Ml.fontSize,this.Ml.fontFamily)}}function KS(a,t){return a.Jh?.(t)??[]}function Qm(a,t){return a.Fs?.(t)??[]}function Xm(a,t){return a.us?.(t)??[]}function ZS(a,t){return a.Xh?.(t)??[]}class Cc{constructor(t,i){this.Op=Ot({width:0,height:0}),this.wv=null,this.gv=null,this.Mv=null,this.bv=null,this.Sv=!1,this.xv=new qt,this.Cv=new qt,this.Pv=0,this.yv=!1,this.kv=null,this.Tv=!1,this.Rv=null,this.Dv=null,this.Up=!1,this.$p=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Yp=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Vp=t,this.Vv=i,this.Vv.t_().i(this.Bv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="relative",n.style.overflow="hidden",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Av=document.createElement("td"),this.Av.style.padding="0",this.Iv.appendChild(n),this.Gp=Ss(n,Ot({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const r=this.Gp.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jp=Ss(n,Ot({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const u=this.Jp.canvasElement;u.style.position="absolute",u.style.zIndex="2",u.style.left="0",u.style.top="0",this.Yf=document.createElement("tr"),this.Yf.appendChild(this.Ev),this.Yf.appendChild(this.Iv),this.Yf.appendChild(this.Av),this.zv(),this.Nf=new Va(this.Jp.canvasElement,this,{af:()=>this.kv===null&&!this.Vp.N().handleScroll.vertTouchDrag,lf:()=>this.kv===null&&!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.wv!==null&&this.wv.m(),this.gv!==null&&this.gv.m(),this.Mv=null,this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Es(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Es(this.Gp.canvasElement),this.Gp.dispose(),this.Vv!==null&&(this.Vv.t_().u(this),this.Vv.m()),this.Nf.m()}ap(){return V(this.Vv)}Lv(t){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=t,this.Vv!==null&&this.Vv.t_().i(Cc.prototype.Bv.bind(this),this,!0),this.zv(),this.Vp.$f().indexOf(this)===this.Vp.$f().length-1?(this.Mv=this.Mv??new JS(this.Iv,this.Vp),this.Mv.yt()):(this.Mv?.Ip(),this.Mv=null)}qp(){return this.Vp}Zf(){return this.Yf}zv(){if(this.Vv!==null&&(this.Ov(),this.ts().js().length!==0)){if(this.wv!==null){const t=this.Vv.Wo();this.wv._s(V(t))}if(this.gv!==null){const t=this.Vv.Ho();this.gv._s(V(t))}}}Nv(){this.wv!==null&&this.wv.yt(),this.gv!==null&&this.gv.yt()}Bo(){return this.Vv!==null?this.Vv.Bo():0}Io(t){this.Vv&&this.Vv.Io(t)}sf(t){if(!this.Vv)return;this.Fv();const i=t.localX,n=t.localY;this.Wv(i,n,t)}Sf(t){this.Fv(),this.Hv(),this.Wv(t.localX,t.localY,t)}nf(t){if(!this.Vv)return;this.Fv();const i=t.localX,n=t.localY;this.Wv(i,n,t)}mf(t){this.Vv!==null&&(this.Fv(),this.Uv(t))}Xd(t){this.Vv!==null&&this.$v(this.Cv,t)}qd(t){this.Xd(t)}cf(t){this.Fv(),this.qv(t),this.Wv(t.localX,t.localY,t)}vf(t){this.Vv!==null&&(this.Fv(),this.yv=!1,this.Yv(t))}pf(t){this.Vv!==null&&this.Uv(t)}If(t){if(this.yv=!0,this.kv===null){const i={x:t.localX,y:t.localY};this.jv(i,i,t)}}Bf(t){this.Vv!==null&&(this.Fv(),this.Vv.Qt().lc(null),this.Kv())}Xv(){return this.xv}Zv(){return this.Cv}yf(){this.Pv=1,this.ts().hn()}kf(t,i){if(!this.Vp.N().handleScale.pinch)return;const n=5*(i-this.Pv);this.Pv=i,this.ts().bc(t._t,n)}Mf(t){this.yv=!1,this.Tv=this.kv!==null,this.Hv();const i=this.ts().uc();this.kv!==null&&i.Vt()&&(this.Rv={x:i.si(),y:i.ni()},this.kv={x:t.localX,y:t.localY})}_f(t){if(this.Vv===null)return;const i=t.localX,n=t.localY;if(this.kv===null)this.qv(t);else{this.Tv=!1;const r=V(this.Rv),u=r.x+(i-this.kv.x),c=r.y+(n-this.kv.y);this.Wv(u,c,t)}}ff(t){this.qp().N().trackingMode.exitMode===0&&(this.Tv=!0),this.Gv(),this.Yv(t)}jn(t,i){const n=this.Vv;return n===null?null:Gp(n,t,i)}Jv(t,i){V(i==="left"?this.wv:this.gv).hv(Ot({width:t,height:this.Op.height}))}Gf(){return this.Op}hv(t){_s(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.Iv.style.width=t.width+"px",this.Iv.style.height=t.height+"px")}Qv(){const t=V(this.Vv);t.Fo(t.Wo()),t.Fo(t.Ho());for(const i of t.Ma())if(t.Un(i)){const n=i.Ft();n!==null&&t.Fo(n),i.Ns()}for(const i of t.s_())i.Ns()}Jf(){return this.Gp.bitmapSize}Qf(t,i,n,r){const u=this.Jf();if(u.width>0&&u.height>0&&(t.drawImage(this.Gp.canvasElement,i,n),r)){const c=this.Jp.canvasElement;t!==null&&t.drawImage(c,i,n)}}lv(t){if(t===0||this.Vv===null)return;t>1&&this.Qv(),this.wv!==null&&this.wv.lv(t),this.gv!==null&&this.gv.lv(t);const i={colorSpace:this.Vp.N().layout.colorSpace};if(t!==1){this.Gp.applySuggestedBitmapSize();const r=ws(this.Gp,i);r!==null&&(r.useBitmapCoordinateSpace((u=>{this._v(u)})),this.Vv&&(this.tm(r,KS),this.im(r),this.tm(r,Qm),this.tm(r,Xm)))}this.Jp.applySuggestedBitmapSize();const n=ws(this.Jp,i);n!==null&&(n.useBitmapCoordinateSpace((({context:r,bitmapSize:u})=>{r.clearRect(0,0,u.width,u.height)})),this.sm(n),this.tm(n,ZS),this.tm(n,Xm))}nm(){return this.wv}rm(){return this.gv}cv(t,i){this.tm(t,i)}Bv(){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=null}Uv(t){this.$v(this.xv,t)}$v(t,i){const n=i.localX,r=i.localY;t.v()&&t.p(this.ts().Et().cu(n),{x:n,y:r},i)}_v({context:t,bitmapSize:i}){const{width:n,height:r}=i,u=this.ts(),c=u.$(),d=u.Wc();c===d?La(t,0,0,n,r,d):Dp(t,0,0,n,r,c,d)}im(t){const i=V(this.Vv),n=i.i_().lr().Tt(i);n!==null&&n.nt(t,!1)}sm(t){this.hm(t,Qm,xa,this.ts().uc())}tm(t,i){const n=V(this.Vv),r=n.Dt(),u=n.s_();for(const c of u)this.hm(t,i,cc,c);for(const c of r)this.hm(t,i,cc,c);for(const c of u)this.hm(t,i,xa,c);for(const c of r)this.hm(t,i,xa,c)}hm(t,i,n,r){const u=V(this.Vv),c=u.Qt().ac(),d=c!==null&&c.n_===r,g=c!==null&&d&&c.e_!==void 0?c.e_.Xn:void 0;fc(i,(v=>n(v,t,d,g)),r,u)}Ov(){if(this.Vv===null)return;const t=this.Vp,i=this.Vv.Wo().N().visible,n=this.Vv.Ho().N().visible;i||this.wv===null||(this.Ev.removeChild(this.wv.Zf()),this.wv.m(),this.wv=null),n||this.gv===null||(this.Av.removeChild(this.gv.Zf()),this.gv.m(),this.gv=null);const r=t.Qt().Bc();i&&this.wv===null&&(this.wv=new Gm(this,t.N(),r,"left"),this.Ev.appendChild(this.wv.Zf())),n&&this.gv===null&&(this.gv=new Gm(this,t.N(),r,"right"),this.Av.appendChild(this.gv.Zf()))}am(t){return t.Ef&&this.yv||this.kv!==null}lm(t){return Math.max(0,Math.min(t,this.Op.width-1))}om(t){return Math.max(0,Math.min(t,this.Op.height-1))}Wv(t,i,n){this.ts().Tc(this.lm(t),this.om(i),n,V(this.Vv))}Kv(){this.ts().Dc()}Gv(){this.Tv&&(this.kv=null,this.Kv())}jv(t,i,n){this.kv=t,this.Tv=!1,this.Wv(i.x,i.y,n);const r=this.ts().uc();this.Rv={x:r.si(),y:r.ni()}}ts(){return this.Vp.Qt()}Yv(t){if(!this.Sv)return;const i=this.ts(),n=this.ap();if(i.Ko(n,n.ks()),this.bv=null,this.Sv=!1,i.Pc(),this.Dv!==null){const r=performance.now(),u=i.Et();this.Dv.le(u.gu(),r),this.Dv.Ru(r)||i._n(this.Dv)}}Fv(){this.kv=null}Hv(){if(this.Vv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)V(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.Vv.ks().Ki()&&this.ts().Et().Ki()}}qv(t){if(this.Vv===null)return;const i=this.ts(),n=i.Et();if(n.Ki())return;const r=this.Vp.N(),u=r.handleScroll,c=r.kineticScroll;if((!u.pressedMouseMove||t.Ef)&&(!u.horzTouchDrag&&!u.vertTouchDrag||!t.Ef))return;const d=this.Vv.ks(),g=performance.now();if(this.bv!==null||this.am(t)||(this.bv={x:t.clientX,y:t.clientY,rd:g,_m:t.localX,um:t.localY}),this.bv!==null&&!this.Sv&&(this.bv.x!==t.clientX||this.bv.y!==t.clientY)){if(t.Ef&&c.touch||!t.Ef&&c.mouse){const v=n.mu();this.Dv=new XS(.2/v,7/v,.997,15/v),this.Dv.Pp(n.gu(),this.bv.rd)}else this.Dv=null;d.Ki()||i.Yo(this.Vv,d,t.localY),i.xc(t.localX),this.Sv=!0}this.Sv&&(d.Ki()||i.jo(this.Vv,d,t.localY),i.Cc(t.localX),this.Dv!==null&&this.Dv.Pp(n.gu(),g))}}class Jm{constructor(t,i,n,r,u){this.xt=!0,this.Op=Ot({width:0,height:0}),this.$p=()=>this.lv(3),this.jp=t==="left",this.Ju=n.Bc,this.Ps=i,this.dm=r,this.fm=u,this.jf=document.createElement("div"),this.jf.style.width="25px",this.jf.style.height="100%",this.jf.style.overflow="hidden",this.Gp=Ss(this.jf,Ot({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p)}m(){this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Es(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.jf}Gf(){return this.Op}hv(t){_s(this.Op,t)||(this.Op=t,this.Gp.resizeCanvasElement(t),this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`,this.xt=!0)}lv(t){if(t<3&&!this.xt||this.Op.width===0||this.Op.height===0)return;this.xt=!1,this.Gp.applySuggestedBitmapSize();const i=ws(this.Gp,{colorSpace:this.Ps.layout.colorSpace});i!==null&&i.useBitmapCoordinateSpace((n=>{this._v(n),this.uv(n)}))}Jf(){return this.Gp.bitmapSize}Qf(t,i,n){const r=this.Jf();r.width>0&&r.height>0&&t.drawImage(this.Gp.canvasElement,i,n)}uv({context:t,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}){if(!this.dm())return;t.fillStyle=this.Ps.timeScale.borderColor;const u=Math.floor(this.Ju.N().S*n),c=Math.floor(this.Ju.N().S*r),d=this.jp?i.width-u:0;t.fillRect(d,0,u,c)}_v({context:t,bitmapSize:i}){La(t,0,0,i.width,i.height,this.fm())}}function zc(a){return t=>t.ia?.(a)??[]}const WS=zc("normal"),IS=zc("top"),FS=zc("bottom");class tE{constructor(t,i){this.pm=null,this.vm=null,this.M=null,this.wm=!1,this.Op=Ot({width:0,height:0}),this.gm=new qt,this.Fp=new za(5),this.Up=!1,this.$p=()=>{this.Up||this.Vp.Qt().ar()},this.Yp=()=>{this.Up||this.Vp.Qt().ar()},this.Vp=t,this.o_=i,this.Ps=t.N().layout,this.kp=document.createElement("tr"),this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.bm=document.createElement("td"),this.bm.style.padding="0",this.jf=document.createElement("td"),this.jf.style.height="25px",this.jf.style.padding="0",this.Sm=document.createElement("div"),this.Sm.style.width="100%",this.Sm.style.height="100%",this.Sm.style.position="relative",this.Sm.style.overflow="hidden",this.jf.appendChild(this.Sm),this.Gp=Ss(this.Sm,Ot({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const n=this.Gp.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Jp=Ss(this.Sm,Ot({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const r=this.Jp.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.kp.appendChild(this.Mm),this.kp.appendChild(this.jf),this.kp.appendChild(this.bm),this.xm(),this.Vp.Qt().Vo().i(this.xm.bind(this),this),this.Nf=new Va(this.Jp.canvasElement,this,{af:()=>!0,lf:()=>!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.Nf.m(),this.pm!==null&&this.pm.m(),this.vm!==null&&this.vm.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Es(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Es(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.kp}Cm(){return this.pm}Pm(){return this.vm}Sf(t){if(this.wm)return;this.wm=!0;const i=this.Vp.Qt();!i.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&i.Mc(t.localX)}Mf(t){this.Sf(t)}xf(){const t=this.Vp.Qt();!t.Et().Ki()&&this.wm&&(this.wm=!1,this.Vp.N().handleScale.axisPressedMouseMove.time&&t.kc())}cf(t){const i=this.Vp.Qt();!i.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&i.yc(t.localX)}_f(t){this.cf(t)}vf(){this.wm=!1;const t=this.Vp.Qt();t.Et().Ki()&&!this.Vp.N().handleScale.axisPressedMouseMove.time||t.kc()}ff(){this.vf()}Xd(){this.Vp.N().handleScale.axisDoubleClickReset.time&&this.Vp.Qt().cn()}qd(){this.Xd()}sf(){this.Vp.Qt().N().handleScale.axisPressedMouseMove.time&&this.vv(1)}Bf(){this.vv(0)}Gf(){return this.Op}ym(){return this.gm}km(t,i,n){_s(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`,this.gm.p(t)),this.pm!==null&&this.pm.hv(Ot({width:i,height:t.height})),this.vm!==null&&this.vm.hv(Ot({width:n,height:t.height}))}Tm(){const t=this.Rm();return Math.ceil(t.S+t.C+t.P+t.A+t.V+t.Dm)}yt(){this.Vp.Qt().Et().Da()}Jf(){return this.Gp.bitmapSize}Qf(t,i,n,r){const u=this.Jf();if(u.width>0&&u.height>0&&(t.drawImage(this.Gp.canvasElement,i,n),r)){const c=this.Jp.canvasElement;t.drawImage(c,i,n)}}lv(t){if(t===0)return;const i={colorSpace:this.Ps.colorSpace};if(t!==1){this.Gp.applySuggestedBitmapSize();const r=ws(this.Gp,i);r!==null&&(r.useBitmapCoordinateSpace((u=>{this._v(u),this.uv(u),this.Vm(r,FS)})),this.dv(r),this.Vm(r,WS)),this.pm!==null&&this.pm.lv(t),this.vm!==null&&this.vm.lv(t)}this.Jp.applySuggestedBitmapSize();const n=ws(this.Jp,i);n!==null&&(n.useBitmapCoordinateSpace((({context:r,bitmapSize:u})=>{r.clearRect(0,0,u.width,u.height)})),this.Bm([...this.Vp.Qt().js(),this.Vp.Qt().uc()],n),this.Vm(n,IS))}Vm(t,i){const n=this.Vp.Qt().js();for(const r of n)fc(i,(u=>cc(u,t,!1,void 0)),r,void 0);for(const r of n)fc(i,(u=>xa(u,t,!1,void 0)),r,void 0)}_v({context:t,bitmapSize:i}){La(t,0,0,i.width,i.height,this.Vp.Qt().Wc())}uv({context:t,bitmapSize:i,verticalPixelRatio:n}){if(this.Vp.N().timeScale.borderVisible){t.fillStyle=this.Im();const r=Math.max(1,Math.floor(this.Rm().S*n));t.fillRect(0,0,i.width,r)}}dv(t){const i=this.Vp.Qt().Et(),n=i.Da();if(!n||n.length===0)return;const r=this.o_.maxTickMarkWeight(n),u=this.Rm(),c=i.N();c.borderVisible&&c.ticksVisible&&t.useBitmapCoordinateSpace((({context:d,horizontalPixelRatio:g,verticalPixelRatio:v})=>{d.strokeStyle=this.Im(),d.fillStyle=this.Im();const m=Math.max(1,Math.floor(g)),y=Math.floor(.5*g);d.beginPath();const _=Math.round(u.C*v);for(let S=n.length;S--;){const x=Math.round(n[S].coord*g);d.rect(x-y,0,m,_)}d.fill()})),t.useMediaCoordinateSpace((({context:d})=>{const g=u.S+u.C+u.A+u.P/2;d.textAlign="center",d.textBaseline="middle",d.fillStyle=this.H(),d.font=this.ev();for(const v of n)if(v.weight<r){const m=v.needAlignCoordinate?this.Em(d,v.coord,v.label):v.coord;d.fillText(v.label,m,g)}this.Vp.N().timeScale.allowBoldLabels&&(d.font=this.Am());for(const v of n)if(v.weight>=r){const m=v.needAlignCoordinate?this.Em(d,v.coord,v.label):v.coord;d.fillText(v.label,m,g)}}))}Em(t,i,n){const r=this.Fp.Vi(t,n),u=r/2,c=Math.floor(i-u)+.5;return c<0?i+=Math.abs(0-c):c+r>this.Op.width&&(i-=Math.abs(this.Op.width-(c+r))),i}Bm(t,i){const n=this.Rm();for(const r of t)for(const u of r.cs())u.Tt().nt(i,n)}Im(){return this.Vp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}ev(){return Ca(this.F(),this.Ps.fontFamily)}Am(){return Ca(this.F(),this.Ps.fontFamily,"bold")}Rm(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new za,Dm:0});const t=this.M,i=this.ev();if(t.k!==i){const n=this.F();t.P=n,t.k=i,t.A=3*n/12,t.V=3*n/12,t.Ji=9*n/12,t.L=0,t.Dm=4*n/12,t.Gi.Bn()}return this.M}vv(t){this.jf.style.cursor=t===1?"ew-resize":"default"}xm(){const t=this.Vp.Qt(),i=t.N();i.leftPriceScale.visible||this.pm===null||(this.Mm.removeChild(this.pm.Zf()),this.pm.m(),this.pm=null),i.rightPriceScale.visible||this.vm===null||(this.bm.removeChild(this.vm.Zf()),this.vm.m(),this.vm=null);const n={Bc:this.Vp.Qt().Bc()},r=()=>i.leftPriceScale.borderVisible&&t.Et().N().borderVisible,u=()=>t.Wc();i.leftPriceScale.visible&&this.pm===null&&(this.pm=new Jm("left",i,n,r,u),this.Mm.appendChild(this.pm.Zf())),i.rightPriceScale.visible&&this.vm===null&&(this.vm=new Jm("right",i,n,r,u),this.bm.appendChild(this.vm.Zf()))}}const eE=!!kn&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((a=>a.brand.includes("Chromium")))&&!!kn&&(navigator?.userAgentData?.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class iE{constructor(t,i,n){var r;this.zm=[],this.Lm=[],this.Om=0,this.il=0,this.Mo=0,this.Nm=0,this.Fm=0,this.Wm=null,this.Hm=!1,this.xv=new qt,this.Cv=new qt,this.Xu=new qt,this.Um=null,this.$m=null,this.Dp=t,this.Ps=i,this.o_=n,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(r=this.kp).style.userSelect="none",r.style.webkitUserSelect="none",r.style.msUserSelect="none",r.style.MozUserSelect="none",r.style.webkitTapHighlightColor="transparent",this.qm=document.createElement("table"),this.qm.setAttribute("cellspacing","0"),this.kp.appendChild(this.qm),this.Ym=this.jm.bind(this),Bh(this.Ps)&&this.Km(!0),this.ts=new PS(this.Gu.bind(this),this.Ps,n),this.Qt().cc().i(this.Xm.bind(this),this),this.Zm=new tE(this,this.o_),this.qm.appendChild(this.Zm.Zf());const u=i.autoSize&&this.Gm();let c=this.Ps.width,d=this.Ps.height;if(u||c===0||d===0){const g=t.getBoundingClientRect();c=c||g.width,d=d||g.height}this.Jm(c,d),this.Qm(),t.appendChild(this.kp),this.tw(),this.ts.Et().Iu().i(this.ts.Ih.bind(this.ts),this),this.ts.Vo().i(this.ts.Ih.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}$f(){return this.zm}iw(){return this.Zm}m(){this.Km(!1),this.Om!==0&&window.cancelAnimationFrame(this.Om),this.ts.cc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const t of this.zm)this.qm.removeChild(t.Zf()),t.Xv().u(this),t.Zv().u(this),t.m();this.zm=[];for(const t of this.Lm)this.sw(t);this.Lm=[],V(this.Zm).m(),this.kp.parentElement!==null&&this.kp.parentElement.removeChild(this.kp),this.Xu.m(),this.xv.m(),this.Cv.m(),this.nw()}Jm(t,i,n=!1){if(this.il===i&&this.Mo===t)return;const r=(function(d){const g=Math.floor(d.width),v=Math.floor(d.height);return Ot({width:g-g%2,height:v-v%2})})(Ot({width:t,height:i}));this.il=r.height,this.Mo=r.width;const u=this.il+"px",c=this.Mo+"px";V(this.kp).style.height=u,V(this.kp).style.width=c,this.qm.style.height=u,this.qm.style.width=c,n?this.ew(ie.gn(),performance.now()):this.ts.Ih()}lv(t){t===void 0&&(t=ie.gn());for(let i=0;i<this.zm.length;i++)this.zm[i].lv(t.en(i).tn);this.Ps.timeScale.visible&&this.Zm.lv(t.nn())}hr(t){const i=Bh(this.Ps);this.ts.hr(t);const n=Bh(this.Ps);n!==i&&this.Km(n),t.layout?.panes&&this.rw(),this.tw(),this.hw(t)}Xv(){return this.xv}Zv(){return this.Cv}cc(){return this.Xu}aw(t=!1){this.Wm!==null&&(this.ew(this.Wm,performance.now()),this.Wm=null);const i=this.lw(null),n=document.createElement("canvas");n.width=i.width,n.height=i.height;const r=V(n.getContext("2d"));return this.lw(r,t),n}ow(t){return t==="left"&&!this._w()||t==="right"&&!this.uw()||this.zm.length===0?0:V(t==="left"?this.zm[0].nm():this.zm[0].rm()).av()}cw(){return this.Ps.autoSize&&this.Um!==null}ip(){return this.kp}dw(t){this.$m=t,this.$m?this.ip().style.setProperty("cursor",t):this.ip().style.removeProperty("cursor")}fw(){return this.$m}pw(t){return ye(this.zm[t]).Gf()}rw(){this.Lm.forEach((t=>{t.yt()}))}hw(t){(t.autoSize!==void 0||!this.Um||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.Um&&this.Gm(),t.autoSize===!1&&this.Um!==null&&this.nw(),t.autoSize||t.width===void 0&&t.height===void 0||this.Jm(t.width||this.Mo,t.height||this.il))}lw(t,i){let n=0,r=0;const u=this.zm[0],c=(g,v)=>{let m=0;for(let y=0;y<this.zm.length;y++){const _=this.zm[y],S=V(g==="left"?_.nm():_.rm()),x=S.Jf();if(t!==null&&S.Qf(t,v,m,i),m+=x.height,y<this.zm.length-1){const M=this.Lm[y],j=M.Jf();t!==null&&M.Qf(t,v,m),m+=j.height}}};this._w()&&(c("left",0),n+=V(u.nm()).Jf().width);for(let g=0;g<this.zm.length;g++){const v=this.zm[g],m=v.Jf();if(t!==null&&v.Qf(t,n,r,i),r+=m.height,g<this.zm.length-1){const y=this.Lm[g],_=y.Jf();t!==null&&y.Qf(t,n,r),r+=_.height}}n+=u.Jf().width,this.uw()&&(c("right",n),n+=V(u.rm()).Jf().width);const d=(g,v,m)=>{V(g==="left"?this.Zm.Cm():this.Zm.Pm()).Qf(V(t),v,m)};if(this.Ps.timeScale.visible){const g=this.Zm.Jf();if(t!==null){let v=0;this._w()&&(d("left",v,r),v=V(u.nm()).Jf().width),this.Zm.Qf(t,v,r,i),v+=g.width,this.uw()&&d("right",v,r)}r+=g.height}return Ot({width:n,height:r})}mw(){let t=0,i=0,n=0;for(const j of this.zm)this._w()&&(i=Math.max(i,V(j.nm()).nv(),this.Ps.leftPriceScale.minimumWidth)),this.uw()&&(n=Math.max(n,V(j.rm()).nv(),this.Ps.rightPriceScale.minimumWidth)),t+=j.Bo();i=hc(i),n=hc(n);const r=this.Mo,u=this.il,c=Math.max(r-i-n,0),d=1*this.Lm.length,g=this.Ps.timeScale.visible;let v=g?Math.max(this.Zm.Tm(),this.Ps.timeScale.minimumHeight):0;var m;v=(m=v)+m%2;const y=d+v,_=u<y?0:u-y,S=_/t;let x=0;const M=window.devicePixelRatio||1;for(let j=0;j<this.zm.length;++j){const Y=this.zm[j];Y.Lv(this.ts.$s()[j]);let q=0,L=0;L=j===this.zm.length-1?Math.ceil((_-x)*M)/M:Math.round(Y.Bo()*S*M)/M,q=Math.max(L,2),x+=q,Y.hv(Ot({width:c,height:q})),this._w()&&Y.Jv(i,"left"),this.uw()&&Y.Jv(n,"right"),Y.ap()&&this.ts.dc(Y.ap(),q)}this.Zm.km(Ot({width:g?c:0,height:v}),g?i:0,g?n:0),this.ts.Eo(c),this.Nm!==i&&(this.Nm=i),this.Fm!==n&&(this.Fm=n)}Km(t){t?this.kp.addEventListener("wheel",this.Ym,{passive:!1}):this.kp.removeEventListener("wheel",this.Ym)}ww(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return eE?1/window.devicePixelRatio:1}jm(t){if(!(t.deltaX!==0&&this.Ps.handleScroll.mouseWheel||t.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const i=this.ww(t),n=i*t.deltaX/100,r=-i*t.deltaY/100;if(t.cancelable&&t.preventDefault(),r!==0&&this.Ps.handleScale.mouseWheel){const u=Math.sign(r)*Math.min(1,Math.abs(r)),c=t.clientX-this.kp.getBoundingClientRect().left;this.Qt().bc(c,u)}n!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Sc(-80*n)}ew(t,i){const n=t.nn();n===3&&this.gw(),n!==3&&n!==2||(this.Mw(t),this.bw(t,i),this.Zm.yt(),this.zm.forEach((r=>{r.Nv()})),this.Wm?.nn()===3&&(this.Wm.vn(t),this.gw(),this.Mw(this.Wm),this.bw(this.Wm,i),t=this.Wm,this.Wm=null)),this.lv(t)}bw(t,i){for(const n of t.pn())this.mn(n,i)}Mw(t){const i=this.ts.$s();for(let n=0;n<i.length;n++)t.en(n).sn&&i[n].Go()}mn(t,i){const n=this.ts.Et();switch(t.an){case 0:n.Au();break;case 1:n.zu(t.Wt);break;case 2:n.dn(t.Wt);break;case 3:n.fn(t.Wt);break;case 4:n.Su();break;case 5:t.Wt.Ru(i)||n.fn(t.Wt.Du(i))}}Gu(t){this.Wm!==null?this.Wm.vn(t):this.Wm=t,this.Hm||(this.Hm=!0,this.Om=window.requestAnimationFrame((i=>{if(this.Hm=!1,this.Om=0,this.Wm!==null){const n=this.Wm;this.Wm=null,this.ew(n,i);for(const r of n.pn())if(r.an===5&&!r.Wt.Ru(i)){this.Qt()._n(r.Wt);break}}})))}gw(){this.Qm()}sw(t){this.qm.removeChild(t.Zf()),t.m()}Qm(){const t=this.ts.$s(),i=t.length,n=this.zm.length;for(let r=i;r<n;r++){const u=ye(this.zm.pop());this.qm.removeChild(u.Zf()),u.Xv().u(this),u.Zv().u(this),u.m();const c=this.Lm.pop();c!==void 0&&this.sw(c)}for(let r=n;r<i;r++){const u=new Cc(this,t[r]);if(u.Xv().i(this.Sw.bind(this,u),this),u.Zv().i(this.xw.bind(this,u),this),this.zm.push(u),r>0){const c=new QS(this,r-1,r);this.Lm.push(c),this.qm.insertBefore(c.Zf(),this.Zm.Zf())}this.qm.insertBefore(u.Zf(),this.Zm.Zf())}for(let r=0;r<i;r++){const u=t[r],c=this.zm[r];c.ap()!==u?c.Lv(u):c.zv()}this.tw(),this.mw()}Cw(t,i,n,r){const u=new Map;t!==null&&this.ts.js().forEach((y=>{const _=y.Xs().Fr(t);_!==null&&u.set(y,_)}));let c;if(t!==null){const y=this.ts.Et().ss(t)?.originalTime;y!==void 0&&(c=y)}const d=this.Qt().ac(),g=d!==null&&d.n_ instanceof Ya?d.n_:void 0,v=d!==null&&d.e_!==void 0?d.e_.Kn:void 0,m=this.Pw(r);return{yw:c,Re:t??void 0,kw:i??void 0,Tw:m!==-1?m:void 0,Rw:g,Dw:u,Vw:v,Bw:n??void 0}}Pw(t){let i=-1;if(t)i=this.zm.indexOf(t);else{const n=this.Qt().uc().Us();n!==null&&(i=this.Qt().$s().indexOf(n))}return i}Sw(t,i,n,r){this.xv.p((()=>this.Cw(i,n,r,t)))}xw(t,i,n,r){this.Cv.p((()=>this.Cw(i,n,r,t)))}Xm(t,i,n){this.dw(this.Qt().ac()?.h_??null),this.Xu.p((()=>this.Cw(t,i,n)))}tw(){const t=this.Ps.timeScale.visible?"":"none";this.Zm.Zf().style.display=t}_w(){return this.zm[0].ap().Wo().N().visible}uw(){return this.zm[0].ap().Ho().N().visible}Gm(){return"ResizeObserver"in window&&(this.Um=new ResizeObserver((t=>{const i=t[t.length-1];i&&this.Jm(i.contentRect.width,i.contentRect.height)})),this.Um.observe(this.Dp,{box:"border-box"}),!0)}nw(){this.Um!==null&&this.Um.disconnect(),this.Um=null}}function Bh(a){return!!(a.handleScroll.mouseWheel||a.handleScale.mouseWheel)}function sE(a){return a.open===void 0&&a.value===void 0}function nE(a){return(function(t){return t.open!==void 0})(a)||(function(t){return t.value!==void 0})(a)}function Km(a,t,i,n){const r=i.value,u={Re:t,wt:a,Wt:[r,r,r,r],yw:n};return i.color!==void 0&&(u.R=i.color),u}function lE(a,t,i,n){const r=i.value,u={Re:t,wt:a,Wt:[r,r,r,r],yw:n};return i.lineColor!==void 0&&(u.vt=i.lineColor),i.topColor!==void 0&&(u.mr=i.topColor),i.bottomColor!==void 0&&(u.wr=i.bottomColor),u}function rE(a,t,i,n){const r=i.value,u={Re:t,wt:a,Wt:[r,r,r,r],yw:n};return i.topLineColor!==void 0&&(u.gr=i.topLineColor),i.bottomLineColor!==void 0&&(u.Mr=i.bottomLineColor),i.topFillColor1!==void 0&&(u.br=i.topFillColor1),i.topFillColor2!==void 0&&(u.Sr=i.topFillColor2),i.bottomFillColor1!==void 0&&(u.Cr=i.bottomFillColor1),i.bottomFillColor2!==void 0&&(u.Pr=i.bottomFillColor2),u}function aE(a,t,i,n){const r={Re:t,wt:a,Wt:[i.open,i.high,i.low,i.close],yw:n};return i.color!==void 0&&(r.R=i.color),r}function oE(a,t,i,n){const r={Re:t,wt:a,Wt:[i.open,i.high,i.low,i.close],yw:n};return i.color!==void 0&&(r.R=i.color),i.borderColor!==void 0&&(r.Ht=i.borderColor),i.wickColor!==void 0&&(r.vr=i.wickColor),r}function uE(a,t,i,n,r){const u=ye(r)(i),c=Math.max(...u),d=Math.min(...u),g=u[u.length-1],v=[g,c,d,g],{time:m,color:y,..._}=i;return{Re:t,wt:a,Wt:v,yw:n,se:_,R:y}}function Bl(a){return a.Wt!==void 0}function Zm(a,t){return t.customValues!==void 0&&(a.Iw=t.customValues),a}function ps(a){return(t,i,n,r,u,c)=>(function(d,g){return g?g(d):sE(d)})(n,c)?Zm({wt:t,Re:i,yw:r},n):Zm(a(t,i,n,r,u),n)}function Wm(a){return{Candlestick:ps(oE),Bar:ps(aE),Area:ps(lE),Baseline:ps(rE),Histogram:ps(Km),Line:ps(Km),Custom:ps(uE)}[a]}function Im(a){return{Re:0,Ew:new Map,Hh:a}}function Fm(a,t){if(a!==void 0&&a.length!==0)return{Aw:t.key(a[0].wt),zw:t.key(a[a.length-1].wt)}}function tp(a){let t;return a.forEach((i=>{t===void 0&&(t=i.yw)})),ye(t)}class hE{constructor(t){this.Lw=new Map,this.Ow=new Map,this.Nw=new Map,this.Fw=[],this.o_=t}m(){this.Lw.clear(),this.Ow.clear(),this.Nw.clear(),this.Fw=[]}Ww(t,i){let n=this.Lw.size!==0,r=!1;const u=this.Ow.get(t);if(u!==void 0)if(this.Ow.size===1)n=!1,r=!0,this.Lw.clear();else for(const g of this.Fw)g.pointData.Ew.delete(t)&&(r=!0);let c=[];if(i.length!==0){const g=i.map((S=>S.time)),v=this.o_.createConverterToInternalObj(i),m=Wm(t.Rr()),y=t.ca(),_=t.fa();c=i.map(((S,x)=>{const M=v(S.time),j=this.o_.key(M);let Y=this.Lw.get(j);Y===void 0&&(Y=Im(M),this.Lw.set(j,Y),r=!0);const q=m(M,Y.Re,S,g[x],y,_);return Y.Ew.set(t,q),q}))}n&&this.Hw(),this.Uw(t,c);let d=-1;if(r){const g=[];this.Lw.forEach((v=>{g.push({timeWeight:0,time:v.Hh,pointData:v,originalTime:tp(v.Ew)})})),g.sort(((v,m)=>this.o_.key(v.time)-this.o_.key(m.time))),d=this.$w(g)}return this.qw(t,d,(function(g,v,m){const y=Fm(g,m),_=Fm(v,m);if(y!==void 0&&_!==void 0)return{Yw:!1,zh:y.zw>=_.zw&&y.Aw>=_.Aw}})(this.Ow.get(t),u,this.o_))}Ac(t){return this.Ww(t,[])}jw(t,i,n){const r=i;(function(j){j.yw===void 0&&(j.yw=j.time)})(r),this.o_.preprocessData(i);const u=this.o_.createConverterToInternalObj([i])(i.time),c=this.Nw.get(t);if(!n&&c!==void 0&&this.o_.key(u)<this.o_.key(c))throw new Error(`Cannot update oldest data, last time=${c}, new time=${u}`);let d=this.Lw.get(this.o_.key(u));if(n&&d===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const g=d===void 0;d===void 0&&(d=Im(u),this.Lw.set(this.o_.key(u),d));const v=Wm(t.Rr()),m=t.ca(),y=t.fa(),_=v(u,d.Re,i,r.yw,m,y);d.Ew.set(t,_),n?this.Kw(t,_,d.Re):this.Xw(t,_);const S={zh:Bl(_),Yw:n};if(!g)return this.qw(t,-1,S);const x={timeWeight:0,time:d.Hh,pointData:d,originalTime:tp(d.Ew)},M=jn(this.Fw,this.o_.key(x.time),((j,Y)=>this.o_.key(j.time)<Y));this.Fw.splice(M,0,x);for(let j=M;j<this.Fw.length;++j)Ta(this.Fw[j].pointData,j);return this.o_.fillWeightsForPoints(this.Fw,M),this.qw(t,M,S)}Zw(t,i){const n=this.Ow.get(t);if(n===void 0||i<=0)return[[],this.Gw()];i=Math.min(i,n.length);const r=n.splice(-i).reverse();n.length===0?this.Nw.delete(t):this.Nw.set(t,n[n.length-1].wt);for(const u of r){const c=this.Lw.get(this.o_.key(u.wt));if(c&&(c.Ew.delete(t),c.Ew.size===0)){this.Lw.delete(this.o_.key(c.Hh)),this.Fw.splice(c.Re,1);for(let d=c.Re;d<this.Fw.length;++d)Ta(this.Fw[d].pointData,d)}}return[r,this.qw(t,this.Fw.length-1,{Yw:!1,zh:!1})]}Xw(t,i){let n=this.Ow.get(t);n===void 0&&(n=[],this.Ow.set(t,n));const r=n.length!==0?n[n.length-1]:null;r===null||this.o_.key(i.wt)>this.o_.key(r.wt)?Bl(i)&&n.push(i):Bl(i)?n[n.length-1]=i:n.splice(-1,1),this.Nw.set(t,i.wt)}Kw(t,i,n){const r=this.Ow.get(t);if(r===void 0)return;const u=jn(r,n,((c,d)=>c.Re<d));Bl(i)?r[u]=i:r.splice(u,1)}Uw(t,i){i.length!==0?(this.Ow.set(t,i.filter(Bl)),this.Nw.set(t,i[i.length-1].wt)):(this.Ow.delete(t),this.Nw.delete(t))}Hw(){for(const t of this.Fw)t.pointData.Ew.size===0&&this.Lw.delete(this.o_.key(t.time))}$w(t){let i=-1;for(let n=0;n<this.Fw.length&&n<t.length;++n){const r=this.Fw[n],u=t[n];if(this.o_.key(r.time)!==this.o_.key(u.time)){i=n;break}u.timeWeight=r.timeWeight,Ta(u.pointData,n)}if(i===-1&&this.Fw.length!==t.length&&(i=Math.min(this.Fw.length,t.length)),i===-1)return-1;for(let n=i;n<t.length;++n)Ta(t[n].pointData,n);return this.o_.fillWeightsForPoints(t,i),this.Fw=t,i}Jw(){if(this.Ow.size===0)return null;let t=0;return this.Ow.forEach((i=>{i.length!==0&&(t=Math.max(t,i[i.length-1].Re))})),t}qw(t,i,n){const r=this.Gw();if(i!==-1)this.Ow.forEach(((u,c)=>{r.Oo.set(c,{se:u,Qw:c===t?n:void 0})})),this.Ow.has(t)||r.Oo.set(t,{se:[],Qw:n}),r.Et.tg=this.Fw,r.Et.ig=i;else{const u=this.Ow.get(t);r.Oo.set(t,{se:u||[],Qw:n})}return r}Gw(){return{Oo:new Map,Et:{_u:this.Jw()}}}}function Ta(a,t){a.Re=t,a.Ew.forEach((i=>{i.Re=t}))}function cE(a,t){return a.wt<t}function fE(a,t){return t<a.wt}function dE(a,t,i){const n=t.Uh(),r=t.bi(),u=jn(a,n,cE),c=Yp(a,r,fE);if(!i)return{from:u,to:c};let d=u,g=c;return u>0&&u<a.length&&a[u].wt>=n&&(d=u-1),c>0&&c<a.length&&a[c-1].wt<=r&&(g=c+1),{from:d,to:g}}class Kp{constructor(t,i,n){this.sg=!0,this.ng=!0,this.eg=!0,this.rg=[],this.hg=null,this.Jn=t,this.Qn=i,this.ag=n}yt(t){this.sg=!0,t==="data"&&(this.ng=!0),t==="options"&&(this.eg=!0)}Tt(){return this.Jn.Vt()?(this.lg(),this.hg===null?null:this.og):null}_g(){this.rg=this.rg.map((t=>({...t,...this.Jn.Rh().Dr(t.wt)})))}ug(){this.hg=null}lg(){this.ng&&(this.cg(),this.ng=!1),this.eg&&(this._g(),this.eg=!1),this.sg&&(this.dg(),this.sg=!1)}dg(){const t=this.Jn.Ft(),i=this.Qn.Et();if(this.ug(),i.Ki()||t.Ki())return;const n=i.Pe();if(n===null||this.Jn.Xs().zr()===0)return;const r=this.Jn.zt();r!==null&&(this.hg=dE(this.rg,n,this.ag),this.fg(t,i,r.Wt),this.pg())}}class gE{constructor(t,i){this.vg=t,this.Yi=i}nt(t,i,n){this.vg.draw(t,this.Yi,i,n)}}class vE extends Kp{constructor(t,i,n){super(t,i,!1),this.sh=n,this.og=new gE(this.sh.renderer(),(r=>{const u=t.zt();return u===null?null:t.Ft().Nt(r,u.Wt)}))}da(t){return this.sh.priceValueBuilder(t)}pa(t){return this.sh.isWhitespace(t)}cg(){const t=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map((i=>({wt:i.Re,_t:NaN,...t.Dr(i.Re),mg:i.se})))}fg(t,i){i.uu(this.rg,ac(this.hg))}pg(){this.sh.update({bars:this.rg.map(mE),barSpacing:this.Qn.Et().mu(),visibleRange:this.hg},this.Jn.N())}}function mE(a){return{x:a._t,time:a.wt,originalData:a.mg,barColor:a.cr}}const pE={color:"#2196f3"},yE=(a,t,i)=>{const n=Xi(i);return new vE(a,t,n)};function jc(a){const t={value:a.Wt[3],time:a.yw};return a.Iw!==void 0&&(t.customValues=a.Iw),t}function ep(a){const t=jc(a);return a.R!==void 0&&(t.color=a.R),t}function bE(a){const t=jc(a);return a.vt!==void 0&&(t.lineColor=a.vt),a.mr!==void 0&&(t.topColor=a.mr),a.wr!==void 0&&(t.bottomColor=a.wr),t}function _E(a){const t=jc(a);return a.gr!==void 0&&(t.topLineColor=a.gr),a.Mr!==void 0&&(t.bottomLineColor=a.Mr),a.br!==void 0&&(t.topFillColor1=a.br),a.Sr!==void 0&&(t.topFillColor2=a.Sr),a.Cr!==void 0&&(t.bottomFillColor1=a.Cr),a.Pr!==void 0&&(t.bottomFillColor2=a.Pr),t}function Zp(a){const t={open:a.Wt[0],high:a.Wt[1],low:a.Wt[2],close:a.Wt[3],time:a.yw};return a.Iw!==void 0&&(t.customValues=a.Iw),t}function wE(a){const t=Zp(a);return a.R!==void 0&&(t.color=a.R),t}function SE(a){const t=Zp(a),{R:i,Ht:n,vr:r}=a;return i!==void 0&&(t.color=i),n!==void 0&&(t.borderColor=n),r!==void 0&&(t.wickColor=r),t}function Oa(a){return{Area:bE,Line:ep,Baseline:_E,Histogram:ep,Bar:wE,Candlestick:SE,Custom:EE}[a]}function EE(a){const t=a.yw;return{...a.se,time:t}}const TE={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},xE={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},OE={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:kp,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},qh={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},ME={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function ip(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:OE,crosshair:TE,grid:xE,overlayPriceScales:{...qh},leftPriceScale:{...qh,visible:!1},rightPriceScale:{...qh,visible:!0},timeScale:ME,localization:{locale:kn?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Wp{constructor(t,i,n){this.Hf=t,this.wg=i,this.gg=n??0}applyOptions(t){this.Hf.Qt().oc(this.wg,t,this.gg)}options(){return this.Yi().N()}width(){return qa(this.wg)?this.Hf.ow(this.wg):0}setVisibleRange(t){this.setAutoScale(!1),this.Yi().Fl(new ce(t.from,t.to))}getVisibleRange(){let t,i,n=this.Yi().Qe();if(n===null)return null;if(this.Yi().Ja()){const r=this.Yi().fo(),u=Qp(r);n=Mn(n,this.Yi().tl()),t=Number((Math.round(n.$e()/r)*r).toFixed(u)),i=Number((Math.round(n.qe()/r)*r).toFixed(u))}else t=n.$e(),i=n.qe();return{from:t,to:i}}setAutoScale(t){this.applyOptions({autoScale:t})}Yi(){return V(this.Hf.Qt()._c(this.wg,this.gg)).Ft}}class RE{constructor(t,i,n,r){this.Hf=t,this.Pt=n,this.Mg=i,this.bg=r}getHeight(){return this.Pt.$t()}setHeight(t){const i=this.Hf.Qt(),n=i.Uc(this.Pt);i.vc(n,t)}getStretchFactor(){return this.Pt.Bo()}setStretchFactor(t){this.Pt.Io(t),this.Hf.Qt().Ih()}paneIndex(){return this.Hf.Qt().Uc(this.Pt)}moveTo(t){const i=this.paneIndex();i!==t&&(se(t>=0&&t<this.Hf.$f().length,"Invalid pane index"),this.Hf.Qt().wc(i,t))}getSeries(){return this.Pt.Oo().map((t=>this.Mg(t)))??[]}getHTMLElement(){const t=this.Hf.$f();return t&&t.length!==0&&t[this.paneIndex()]?t[this.paneIndex()].Zf():null}attachPrimitive(t){this.Pt._a(t),t.attached&&t.attached({chart:this.bg,requestUpdate:()=>this.Pt.Qt().Ih()})}detachPrimitive(t){this.Pt.ua(t)}priceScale(t){if(this.Pt.Do(t)===null)throw new Error(`Cannot find price scale with id: ${t}`);return new Wp(this.Hf,t,this.paneIndex())}setPreserveEmptyPane(t){this.Pt.zo(t)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(t,i={},n=0){return this.bg.addCustomSeries(t,i,n)}addSeries(t,i={}){return this.bg.addSeries(t,i,this.paneIndex())}}const AE={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class sp{constructor(t){this.ir=t}applyOptions(t){this.ir.hr(t)}options(){return this.ir.N()}Sg(){return this.ir}}class CE{constructor(t,i,n,r,u,c){this.xg=new qt,this.Jn=t,this.Cg=i,this.Pg=n,this.o_=u,this.bg=r,this.yg=c}m(){this.xg.m()}priceFormatter(){return this.Jn.ea()}priceToCoordinate(t){const i=this.Jn.zt();return i===null?null:this.Jn.Ft().Nt(t,i.Wt)}coordinateToPrice(t){const i=this.Jn.zt();return i===null?null:this.Jn.Ft().Ts(t,i.Wt)}barsInLogicalRange(t){if(t===null)return null;const i=new Rn(new Ql(t.from,t.to)).y_(),n=this.Jn.Xs();if(n.Ki())return null;const r=n.Fr(i.Uh(),1),u=n.Fr(i.bi(),-1),c=V(n.Lr()),d=V(n.Ks());if(r!==null&&u!==null&&r.Re>u.Re)return{barsBefore:t.from-c,barsAfter:d-t.to};const g={barsBefore:r===null||r.Re===c?t.from-c:r.Re-c,barsAfter:u===null||u.Re===d?d-t.to:d-u.Re};return r!==null&&u!==null&&(g.from=r.yw,g.to=u.yw),g}setData(t){this.o_,this.Jn.Rr(),this.Cg.kg(this.Jn,t),this.Tg("full")}update(t,i=!1){this.Jn.Rr(),this.Cg.Rg(this.Jn,t,i),this.Tg("update")}pop(t=1){const i=this.Cg.Dg(this.Jn,t);i.length!==0&&this.Tg("update");const n=Oa(this.seriesType());return i.map((r=>n(r)))}dataByIndex(t,i){const n=this.Jn.Xs().Fr(t,i);return n===null?null:Oa(this.seriesType())(n)}data(){const t=Oa(this.seriesType());return this.Jn.Xs().Hr().map((i=>t(i)))}subscribeDataChanged(t){this.xg.i(t)}unsubscribeDataChanged(t){this.xg._(t)}applyOptions(t){this.Jn.hr(t)}options(){return vi(this.Jn.N())}priceScale(){return this.Pg.priceScale(this.Jn.Ft().ma(),this.getPane().paneIndex())}createPriceLine(t){const i=Ae(vi(AE),t),n=this.Jn.Oh(i);return new sp(n)}removePriceLine(t){this.Jn.Nh(t.Sg())}priceLines(){return this.Jn.Fh().map((t=>new sp(t)))}seriesType(){return this.Jn.Rr()}lastValueData(t){const i=this.Jn.ye(t);return i.ke?{noData:!0}:{noData:!1,price:i.gt,color:i.R}}attachPrimitive(t){this.Jn._a(t),t.attached&&t.attached({chart:this.bg,series:this,requestUpdate:()=>this.Jn.Qt().Ih(),horzScaleBehavior:this.o_})}detachPrimitive(t){this.Jn.ua(t),t.detached&&t.detached(),this.Jn.Qt().Ih()}getPane(){const t=this.Jn,i=V(this.Jn.Qt().Hn(t));return this.yg(i)}moveToPane(t){this.Jn.Qt().Nc(this.Jn,t)}seriesOrder(){const t=this.Jn.Qt().Hn(this.Jn);return t===null?-1:t.Oo().indexOf(this.Jn)}setSeriesOrder(t){const i=this.Jn.Qt().Hn(this.Jn);i!==null&&i.Qo(this.Jn,t)}Tg(t){this.xg.v()&&this.xg.p(t)}}class zE{constructor(t,i,n){this.Vg=new qt,this.z_=new qt,this.gm=new qt,this.ts=t,this.uh=t.Et(),this.Zm=i,this.uh.Vu().i(this.Bg.bind(this)),this.uh.Bu().i(this.Ig.bind(this)),this.Zm.ym().i(this.Eg.bind(this)),this.o_=n}m(){this.uh.Vu().u(this),this.uh.Bu().u(this),this.Zm.ym().u(this),this.Vg.m(),this.z_.m(),this.gm.m()}scrollPosition(){return this.uh.gu()}scrollToPosition(t,i){i?this.uh.Tu(t,1e3):this.ts.fn(t)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const t=this.uh.nu();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const i={from:this.o_.convertHorzItemToInternal(t.from),to:this.o_.convertHorzItemToInternal(t.to)},n=this.uh.au(i);this.ts.Lc(n)}getVisibleLogicalRange(){const t=this.uh.su();return t===null?null:{from:t.Uh(),to:t.bi()}}setVisibleLogicalRange(t){se(t.from<=t.to,"The from index cannot be after the to index."),this.ts.Lc(t)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Au()}logicalToCoordinate(t){const i=this.ts.Et();return i.Ki()?null:i.qt(t)}coordinateToLogical(t){return this.uh.Ki()?null:this.uh.cu(t)}timeToIndex(t,i){const n=this.o_.convertHorzItemToInternal(t);return this.uh.Q_(n,i)}timeToCoordinate(t){const i=this.timeToIndex(t,!1);return i===null?null:this.uh.qt(i)}coordinateToTime(t){const i=this.ts.Et(),n=i.cu(t),r=i.ss(n);return r===null?null:r.originalTime}width(){return this.Zm.Gf().width}height(){return this.Zm.Gf().height}subscribeVisibleTimeRangeChange(t){this.Vg.i(t)}unsubscribeVisibleTimeRangeChange(t){this.Vg._(t)}subscribeVisibleLogicalRangeChange(t){this.z_.i(t)}unsubscribeVisibleLogicalRangeChange(t){this.z_._(t)}subscribeSizeChange(t){this.gm.i(t)}unsubscribeSizeChange(t){this.gm._(t)}applyOptions(t){this.uh.hr(t)}options(){return{...vi(this.uh.N()),barSpacing:this.uh.mu()}}Bg(){this.Vg.v()&&this.Vg.p(this.getVisibleRange())}Ig(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Eg(t){this.gm.p(t.width,t.height)}}function np(a){return(function(t){if(pa(t.handleScale)){const n=t.handleScale;t.handleScale={axisDoubleClickReset:{time:n,price:n},axisPressedMouseMove:{time:n,price:n},mouseWheel:n,pinch:n}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:n,axisDoubleClickReset:r}=t.handleScale;pa(n)&&(t.handleScale.axisPressedMouseMove={time:n,price:n}),pa(r)&&(t.handleScale.axisDoubleClickReset={time:r,price:r})}const i=t.handleScroll;pa(i)&&(t.handleScroll={horzTouchDrag:i,vertTouchDrag:i,mouseWheel:i,pressedMouseMove:i})})(a),a}class jE{constructor(t,i,n){this.Ag=new Map,this.zg=new Map,this.Lg=new qt,this.Og=new qt,this.Ng=new qt,this.qu=new WeakMap,this.Fg=new hE(i);const r=n===void 0?vi(ip()):Ae(vi(ip()),np(n));this.Wg=i,this.Hf=new iE(t,r,i),this.Hf.Xv().i((c=>{this.Lg.v()&&this.Lg.p(this.Hg(c()))}),this),this.Hf.Zv().i((c=>{this.Og.v()&&this.Og.p(this.Hg(c()))}),this),this.Hf.cc().i((c=>{this.Ng.v()&&this.Ng.p(this.Hg(c()))}),this);const u=this.Hf.Qt();this.Ug=new zE(u,this.Hf.iw(),this.Wg)}remove(){this.Hf.Xv().u(this),this.Hf.Zv().u(this),this.Hf.cc().u(this),this.Ug.m(),this.Hf.m(),this.Ag.clear(),this.zg.clear(),this.Lg.m(),this.Og.m(),this.Ng.m(),this.Fg.m()}resize(t,i,n){this.autoSizeActive()||this.Hf.Jm(t,i,n)}addCustomSeries(t,i={},n=0){const r=(u=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...pE,...u.defaultOptions()},$g:yE,qg:u}))(Xi(t));return this.Yg(r,i,n)}addSeries(t,i={},n=0){return this.Yg(t,i,n)}removeSeries(t){const i=ye(this.Ag.get(t)),n=this.Fg.Ac(i);this.Hf.Qt().Ac(i),this.jg(n),this.Ag.delete(t),this.zg.delete(i)}kg(t,i){this.jg(this.Fg.Ww(t,i))}Rg(t,i,n){this.jg(this.Fg.jw(t,i,n))}Dg(t,i){const[n,r]=this.Fg.Zw(t,i);return n.length!==0&&this.jg(r),n}subscribeClick(t){this.Lg.i(t)}unsubscribeClick(t){this.Lg._(t)}subscribeCrosshairMove(t){this.Ng.i(t)}unsubscribeCrosshairMove(t){this.Ng._(t)}subscribeDblClick(t){this.Og.i(t)}unsubscribeDblClick(t){this.Og._(t)}priceScale(t,i=0){return new Wp(this.Hf,t,i)}timeScale(){return this.Ug}applyOptions(t){this.Hf.hr(np(t))}options(){return this.Hf.N()}takeScreenshot(t=!1,i=!1){let n,r;try{i||(n=this.Hf.Qt().N().crosshair.mode,this.Hf.hr({crosshair:{mode:2}})),r=this.Hf.aw(t)}finally{i||n===void 0||this.Hf.Qt().hr({crosshair:{mode:n}})}return r}addPane(t=!1){const i=this.Hf.Qt().$c();return i.zo(t),this.Kg(i)}removePane(t){this.Hf.Qt().fc(t)}swapPanes(t,i){this.Hf.Qt().mc(t,i)}autoSizeActive(){return this.Hf.cw()}chartElement(){return this.Hf.ip()}panes(){return this.Hf.Qt().$s().map((t=>this.Kg(t)))}paneSize(t=0){const i=this.Hf.pw(t);return{height:i.height,width:i.width}}setCrosshairPosition(t,i,n){const r=this.Ag.get(n);if(r===void 0)return;const u=this.Hf.Qt().Hn(r);u!==null&&this.Hf.Qt().Rc(t,i,u)}clearCrosshairPosition(){this.Hf.Qt().Dc(!0)}horzBehaviour(){return this.Wg}Yg(t,i={},n=0){se(t.$g!==void 0),(function(g){if(g===void 0||g.type==="custom")return;const v=g;v.minMove!==void 0&&v.precision===void 0&&(v.precision=Qp(v.minMove))})(i.priceFormat),t.type==="Candlestick"&&(function(g){g.borderColor!==void 0&&(g.borderUpColor=g.borderColor,g.borderDownColor=g.borderColor),g.wickColor!==void 0&&(g.wickUpColor=g.wickColor,g.wickDownColor=g.wickColor)})(i);const r=Ae(vi(zp),vi(t.defaultOptions),i),u=t.$g,c=new Ya(this.Hf.Qt(),t.type,r,u,t.qg);this.Hf.Qt().Ic(c,n);const d=new CE(c,this,this,this,this.Wg,(g=>this.Kg(g)));return this.Ag.set(d,c),this.zg.set(c,d),d}jg(t){const i=this.Hf.Qt();i.Vc(t.Et._u,t.Et.tg,t.Et.ig),t.Oo.forEach(((n,r)=>r.ht(n.se,n.Qw))),i.Et().K_(),i.vu()}Xg(t){return ye(this.zg.get(t))}Hg(t){const i=new Map;t.Dw.forEach(((r,u)=>{const c=u.Rr(),d=Oa(c)(r);if(c!=="Custom")se(nE(d));else{const g=u.fa();se(!g||g(d)===!1)}i.set(this.Xg(u),d)}));const n=t.Rw!==void 0&&this.zg.has(t.Rw)?this.Xg(t.Rw):void 0;return{time:t.yw,logical:t.Re,point:t.kw,paneIndex:t.Tw,hoveredSeries:n,hoveredObjectId:t.Vw,seriesData:i,sourceEvent:t.Bw}}Kg(t){let i=this.qu.get(t);return i||(i=new RE(this.Hf,(n=>this.Xg(n)),t,this),this.qu.set(t,i)),i}}function kE(a){if(Wl(a)){const t=document.getElementById(a);return se(t!==null,`Cannot find element in DOM with id=${a}`),t}return a}function DE(a,t,i){const n=kE(a),r=new jE(n,t,i);return t.setOptions(r.options()),r}function NE(a,t){return DE(a,new Ym,Ym.ld(t))}class UE extends Kp{constructor(t,i){super(t,i,!0)}fg(t,i,n){i.uu(this.rg,ac(this.hg)),t.Ul(this.rg,n,ac(this.hg))}Zg(t,i){return{wt:t,gt:i,_t:NaN,ut:NaN}}cg(){const t=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map((i=>{const n=i.Wt[3];return this.Gg(i.Re,n,t)}))}}class LE extends Un{constructor(){super(...arguments),this.Yt=null,this.zM=[]}ht(t){this.Yt=t,this.zM=[]}et({context:t,horizontalPixelRatio:i,verticalPixelRatio:n}){if(this.Yt===null||this.Yt.ot.length===0||this.Yt.lt===null)return;this.zM.length||this.LM(i);const r=Math.max(1,Math.floor(n)),u=Math.round(this.Yt.OM*n)-Math.floor(r/2),c=u+r;for(let d=this.Yt.lt.from;d<this.Yt.lt.to;d++){const g=this.Yt.ot[d],v=this.zM[d-this.Yt.lt.from],m=Math.round(g.ut*n);let y,_;t.fillStyle=g.cr,m<=u?(y=m,_=c):(y=u,_=m-Math.floor(r/2)+r),t.fillRect(v.Uh,y,v.bi-v.Uh+1,_-y)}}LM(t){if(this.Yt===null||this.Yt.ot.length===0||this.Yt.lt===null)return void(this.zM=[]);const i=Math.ceil(this.Yt.mu*t)<=1?0:Math.max(1,Math.floor(t)),n=Math.round(this.Yt.mu*t)-i;this.zM=new Array(this.Yt.lt.to-this.Yt.lt.from);for(let u=this.Yt.lt.from;u<this.Yt.lt.to;u++){const c=this.Yt.ot[u],d=Math.round(c._t*t);let g,v;if(n%2){const m=(n-1)/2;g=d-m,v=d+m}else{const m=n/2;g=d-m,v=d+m-1}this.zM[u-this.Yt.lt.from]={Uh:g,bi:v,NM:d,ne:c._t*t,wt:c.wt}}for(let u=this.Yt.lt.from+1;u<this.Yt.lt.to;u++){const c=this.zM[u-this.Yt.lt.from],d=this.zM[u-this.Yt.lt.from-1];c.wt===d.wt+1&&c.Uh-d.bi!==i+1&&(d.NM>d.ne?d.bi=c.Uh-i-1:c.Uh=d.bi+i+1)}let r=Math.ceil(this.Yt.mu*t);for(let u=this.Yt.lt.from;u<this.Yt.lt.to;u++){const c=this.zM[u-this.Yt.lt.from];c.bi<c.Uh&&(c.bi=c.Uh);const d=c.bi-c.Uh+1;r=Math.min(d,r)}if(i>0&&r<4)for(let u=this.Yt.lt.from;u<this.Yt.lt.to;u++){const c=this.zM[u-this.Yt.lt.from];c.bi-c.Uh+1>r&&(c.NM>c.ne?c.bi-=1:c.Uh+=1)}}}class BE extends UE{constructor(){super(...arguments),this.og=new LE}Gg(t,i,n){return{...this.Zg(t,i),...n.Dr(t)}}pg(){const t={ot:this.rg,mu:this.Qn.Et().mu(),lt:this.hg,OM:this.Jn.Ft().Nt(this.Jn.N().base,V(this.Jn.zt()).Wt)};this.og.ht(t)}}const qE={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},$g:(a,t)=>new BE(a,t)};({...zp});const PE=(a,t)=>{const i=[];let n=a;for(;n<=t;)i.push(n.toISOString().split("T")[0]),n.setDate(n.getDate()+1);return i},Dn=new Date,Ip=new Date(Dn);Ip.setDate(Dn.getDate()-Dn.getDay()-6);const Fp=new Date(Dn);Fp.setDate(Dn.getDate()-Dn.getDay()+7);const YE=PE(Ip,Fp);function VE(){const a=ue.c(22),t=ct.useRef(null),{trades:i}=bc();let n;a[0]!==i?(n=H=>{const G=i.reduce((K,I)=>new Date(I.created_at).toISOString().split("T")[0]===H?K+(I.pnl??0):K,0);return{time:H,value:G,color:G>=0?"#089981":"#f23645"}},a[0]=i,a[1]=n):n=a[1];const r=YE.map(n),u=[...r].reverse().find(HE);ct.useEffect(()=>{if(t.current===null)return;t.current.innerHTML="";const H=NE(t.current,$E);H.addSeries(qE,{color:"#ffffff",priceFormat:{type:"price",precision:2,minMove:.01}}).setData(r),H.timeScale().fitContent()},[r]);const c="flex flex-col";let d,g;a[2]===Symbol.for("react.memo_cache_sentinel")?(d={alignSelf:"flex-start",padding:16,borderRadius:"var(--border-radius)",background:"var(--color-bg-highlight)"},g={margin:0},a[2]=d,a[3]=g):(d=a[2],g=a[3]);const v="Daily P&L",m="number"+Math.sign(u?.value??0);let y;a[4]===Symbol.for("react.memo_cache_sentinel")?(y={float:"inline-end"},a[4]=y):y=a[4];const _=Gi(u?.value);let S;a[5]!==m||a[6]!==y||a[7]!==_?(S=N.jsx("strong",{className:m,style:y,children:_}),a[5]=m,a[6]=y,a[7]=_,a[8]=S):S=a[8];let x;a[9]!==g||a[10]!==S?(x=N.jsxs("h4",{style:g,children:[v,S]}),a[9]=g,a[10]=S,a[11]=x):x=a[11];let M;a[12]===Symbol.for("react.memo_cache_sentinel")?(M={color:"gray"},a[12]=M):M=a[12];const j=u?.time;let Y;a[13]!==j?(Y=N.jsx("span",{style:M,children:j}),a[13]=j,a[14]=Y):Y=a[14];let q;a[15]!==t?(q=N.jsx("div",{ref:t}),a[15]=t,a[16]=q):q=a[16];let L;return a[17]!==Y||a[18]!==q||a[19]!==d||a[20]!==x?(L=N.jsxs("div",{className:c,style:d,children:[x,Y,q]}),a[17]=Y,a[18]=q,a[19]=d,a[20]=x,a[21]=L):L=a[21],L}function HE(a){return a.value!=0}const $E={width:400,height:200,layout:{background:{type:oc.Solid,color:"#00000000"},textColor:"#ffffff"},grid:{vertLines:{color:"#ffffff00"},horzLines:{color:"#333333"}},handleScroll:!1,handleScale:!1};function GE(){const a=ue.c(1);let t;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=N.jsx("main",{className:"flex flex-col gap-1",style:{width:"90%",margin:"auto"},children:N.jsx(VE,{})}),a[0]=t):t=a[0],t}function QE(a){const t=ue.c(13),{children:i}=a,{session:n}=Op();let r,u,c,d,g;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=N.jsx(_c,{size:24}),u=N.jsx(dh,{to:"",children:"DASHBOARD"}),c=N.jsx(dh,{to:"spot",children:"SPOT"}),d=N.jsx(dh,{to:"futures",children:"FUTURES"}),g=N.jsx("span",{className:"flex-1"}),t[0]=r,t[1]=u,t[2]=c,t[3]=d,t[4]=g):(r=t[0],u=t[1],c=t[2],d=t[3],g=t[4]);const v=n?.user.user_metadata.display_name||n?.user.email;let m;t[5]===Symbol.for("react.memo_cache_sentinel")?(m=N.jsx("span",{className:"flex-1"}),t[5]=m):m=t[5];let y;t[6]===Symbol.for("react.memo_cache_sentinel")?(y=N.jsx("button",{onClick:XE,title:"logout","aria-label":"logout",children:N.jsx(Tc,{})}),t[6]=y):y=t[6];let _;t[7]!==v?(_=N.jsxs("header",{className:"flex gap-1 items-center",children:[r,u,c,d,g,"Welcome,"," ",v,m,y]}),t[7]=v,t[8]=_):_=t[8];let S;t[9]===Symbol.for("react.memo_cache_sentinel")?(S=N.jsx("footer",{}),t[9]=S):S=t[9];let x;return t[10]!==i||t[11]!==_?(x=N.jsxs(Rp,{children:[_,i,S]}),t[10]=i,t[11]=_,t[12]=x):x=t[12],x}function XE(){return Ji.auth.signOut()}function JE(){const a=ue.c(1);let t;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=N.jsx("main",{children:"SPOT NIET MET ME"}),a[0]=t):t=a[0],t}function KE(){const a=ue.c(4);let t;a[0]===Symbol.for("react.memo_cache_sentinel")?(t=N.jsx(Sn,{path:"",element:N.jsx(GE,{})}),a[0]=t):t=a[0];let i;a[1]===Symbol.for("react.memo_cache_sentinel")?(i=N.jsx(Sn,{path:"spot",element:N.jsx(JE,{})}),a[1]=i):i=a[1];let n;a[2]===Symbol.for("react.memo_cache_sentinel")?(n=N.jsx(Sn,{children:N.jsx(Rp,{children:N.jsxs(QE,{children:[t,i,N.jsx(Sn,{path:"futures",element:N.jsx(C1,{})})]})})}),a[2]=n):n=a[2];let r;return a[3]===Symbol.for("react.memo_cache_sentinel")?(r=N.jsxs(Qw,{children:[n,N.jsx(Sn,{path:"auth",element:N.jsx(Iw,{})})]}),a[3]=r):r=a[3],r}(function(){var a=sessionStorage.redirect;console.log("redirect",a),a&&(delete sessionStorage.redirect,history.replaceState(null,"",a))})();jb.createRoot(document.getElementById("root")).render(N.jsx(ct.StrictMode,{children:N.jsx(KE,{})}));
